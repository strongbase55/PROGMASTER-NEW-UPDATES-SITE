<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduPro Academy - Professional Learning Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="j.css">
    <link rel="stylesheet" href="nav.css">



</head>

<body>
    <div id="global-loader" aria-hidden="true">
        <div class="loader-box">
            <div class="lds-ring" aria-hidden="true">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div>
                <p>Authenticating ‚Äî Please Wait</p>
                <p style="font-size:12px;color:#6b7280;margin-top:4px">Logging in or registering your account
                    securely...
                </p>
            </div>
        </div>
    </div>

    <nav id="total-nav">
        <div class="logo">
            <img id="white-logo" src="Com Logo.png" alt="">
            <img id="black-logo" src="Com Logo Black.jfif" alt="">
        </div>

        <div class="menu-icon" id="menu-open">
            <i class="fa-solid fa-bars"></i>
        </div>



        <div class="nav-links" id="nav-buttons">
            <button onclick="showWelcomeScreen()" class="nav-link">Home</button>
            <button onclick="showCourseList()" class="nav-link">Courses</button>
            <button onclick="showLogin()" class="nav-link">Login</button>
            <button onclick="showRegister()" class="nav-link">Register</button>
            <button onclick="showAdminLogin()" class="nav-link text-red-600 font-semibold">Admin</button>
        </div>

        <div id="user-nav" class="user-items hidden">
            <div class="flex items-center space-x-1 bg-white rounded-full px-4 py-2 shadow-md">
                <div
                    class="w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                    <span class="text-white text-sm font-semibold" id="user-avatar"></span>
                </div>
                <span class="text-gray-700 font-medium" id="user-name-nav"></span>
            </div>
            <button onclick="showDashboard()"
                class="use bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors">Dashboard</button>
            <button onclick="showProfile()" id="x-a"
                class="use bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">My
                Courses</button>
            <button onclick="showCertificates()"
                class="use bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">Certificates</button>
            <button onclick="showMyAccount()"
                class="use bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">My
                Account</button>

            <button onclick="logout()"
                class="use bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">Logout</button>

            <div class="menu-icon" id="menu-close">
                <i class="fa-solid fa-x"></i>
            </div>
        </div>


        <div id="admin-nav" class="hidden items-center space-x-2">
            <span class="text-sm font-bold text-red-600">Admin Mode</span>
            <button onclick="showAdminDashboard()"
                class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">Dashboard</button>
            <button onclick="adminLogout()"
                class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">Logout</button>
        </div>
    </nav>

    <div id="subscription-modal"
        class="hidden fixed inset-0 bg-gray-900 bg-opacity-80 z-50 flex items-center justify-center fade-in">
        <div
            class="bg-white rounded-3xl shadow-2xl max-w-lg w-11/12 p-8 transform transition-all duration-300 scale-100 relative">
            <button onclick="document.getElementById('subscription-modal').classList.add('hidden')"
                class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>

            <div class="text-center">
                <div class="text-6xl mb-4">üëë</div>
                <h3 class="text-4xl font-extrabold text-indigo-700 mb-2">PRO ACCESS PASS</h3>
                <p class="text-2xl font-semibold text-gray-700 mb-4">Unlock Everything - Massive Savings!</p>

                <div class="bg-indigo-50 p-6 rounded-xl border border-indigo-200 mb-6">
                    <p class="text-5xl font-extrabold text-indigo-900 mb-3">‚Çπ1500</p>
                    <div class="flex items-center justify-center space-x-4 text-xl font-medium text-gray-700">
                        <span class="flex items-center"><i class="fa-solid fa-check text-green-500 mr-2"></i> All 50
                            Courses</span>
                        <span class="flex items-center"><i class="fa-solid fa-check text-green-500 mr-2"></i> 50
                            Certificates</span>
                    </div>
                    <p class="text-sm text-red-500 mt-2 font-bold">That's over 50% OFF the combined price!</p>
                </div>

                <button onclick="initiateSubscriptionPayment()"
                    class="w-full bg-red-600 text-white py-4 rounded-xl text-xl font-bold hover:bg-red-700 transition-colors shadow-lg pulse-glow">
                    Get All Access for ‚Çπ1500!
                </button>
                <p class="text-sm text-gray-500 mt-3">One-time payment. Instant access upon admin approval.</p>
            </div>
        </div>
    </div>

    <div class="overflow-x-hidden">
        <div id="welcome-screen" class="fade-in">
            <section class="hero-gradient text-white py-10 px-4 sm:px-6">
                <div class="max-w-7xl mx-auto text-center">
                    <div class="floating mb-8">
                        <div class="inline-block p-4 bg-white bg-opacity-20 rounded-full">
                            <svg class="w-16 h-16" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                            </svg>
                        </div>
                    </div>
                    <h1 class="text-5xl md:text-7xl font-bold mb-6 slide-in">
                        Transform Your
                        <span
                            class="bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">Career</span>
                    </h1>
                    <p class="text-xl md:text-2xl mb-8 text-white text-opacity-90 max-w-3xl mx-auto slide-in">
                        Join thousands of professionals mastering cutting-edge skills with our expert-designed courses.
                        Learn at your own pace, earn certificates, and advance your career.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12 slide-in">
                        <button onclick="showRegister()"
                            class="pulse-glow bg-white text-indigo-600 px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-300">
                            Start Learning Today
                        </button>
                        <button onclick="showCourseList()"
                            class="border-2 border-white text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-white hover:text-indigo-600 transition-all duration-300">
                            Explore Courses
                        </button>
                    </div>
                </div>
            </section>

            <section class="py-16 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 text-center">
                        <div class="stats-counter">
                            <div class="text-4xl font-bold text-indigo-600 mb-2">15+</div>
                            <div class="text-gray-600 font-medium">Expert Courses</div>
                        </div>
                        <div class="stats-counter">
                            <div class="text-4xl font-bold text-purple-600 mb-2">5K+</div>
                            <div class="text-gray-600 font-medium">Students</div>
                        </div>
                        <div class="stats-counter">
                            <div class="text-4xl font-bold text-green-600 mb-2">98%</div>
                            <div class="text-gray-600 font-medium">Success Rate</div>
                        </div>
                        <div class="stats-counter">
                            <div class="text-4xl font-bold text-orange-600 mb-2">24/7</div>
                            <div class="text-gray-600 font-medium">Support</div>
                        </div>
                    </div>
                </div>
            </section>




            <section id="how-it-works" class="py-20 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="text-center mb-16">
                        <span class="text-purple-600 font-semibold text-sm uppercase tracking-wider">Your Journey to
                            Expertise</span>
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-4">How Our Learning System Works</h2>
                        <p class="text-xl text-gray-600 max-w-3xl mx-auto">A simple, 4-step process designed for maximum
                            retention and career impact.</p>
                    </div>

                    <div class="relative flex justify-center">
                        <div class="hidden md:block absolute top-12 w-full max-w-5xl h-1 bg-indigo-200 z-0"></div>

                        <div class="grid md:grid-cols-4 gap-12 text-center relative z-10">

                            <div class="flex flex-col items-center">
                                <div
                                    class="w-16 h-16 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold text-2xl shadow-xl border-4 border-white">
                                    1
                                </div>
                                <div class="mt-4">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">Enroll & Access</h3>
                                    <p class="text-gray-600 text-sm">Sign up for your chosen course or the All-Access
                                        Pass and gain instant access to your Dashboard.</p>
                                </div>
                            </div>

                            <div class="flex flex-col items-center">
                                <div
                                    class="w-16 h-16 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold text-2xl shadow-xl border-4 border-white">
                                    2
                                </div>
                                <div class="mt-4">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">Learn Daily Modules</h3>
                                    <p class="text-gray-600 text-sm">Follow the structured 10-day curriculum, engage
                                        with videos, and work on real-world practical projects.</p>
                                </div>
                            </div>

                            <div class="flex flex-col items-center">
                                <div
                                    class="w-16 h-16 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-2xl shadow-xl border-4 border-white">
                                    3
                                </div>
                                <div class="mt-4">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">Pass & Submit</h3>
                                    <p class="text-gray-600 text-sm">Complete all modules and achieve the minimum time
                                        requirement to unlock certificate generation.</p>
                                </div>
                            </div>

                            <div class="flex flex-col items-center">
                                <div
                                    class="w-16 h-16 bg-yellow-600 text-white rounded-full flex items-center justify-center font-bold text-2xl shadow-xl border-4 border-white">
                                    4
                                </div>
                                <div class="mt-4">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">Claim Certificate</h3>
                                    <p class="text-gray-600 text-sm">Download your industry-recognized, AICTE-aggregated
                                        certificate and boost your career profile.</p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </section>

            <section class="py-20 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="text-center mb-16">
                        <span class="text-indigo-600 font-semibold text-sm uppercase tracking-wider">Your Learning
                            Advantage</span>
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-4">Why Choose PROGMASTER PVT LTD?</h2>
                        <p class="text-xl text-gray-600 max-w-3xl mx-auto">Experience the future of online learning with
                            our innovative platform and commitment to your success.</p>
                    </div>

                    <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 md:gap-8">

                        <div
                            class="card-hover bg-gray-50 p-6 rounded-2xl shadow-lg text-center border-t-4 border-indigo-500">
                            <div
                                class="w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-infinity fa-2x text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Lifetime Access</h3>
                            <p class="text-gray-600 text-sm">Enroll once, own the content forever. Includes all future
                                updates.</p>
                        </div>

                        <div
                            class="card-hover bg-gray-50 p-6 rounded-2xl shadow-lg text-center border-t-4 border-blue-500">
                            <div
                                class="w-16 h-16 bg-gradient-to-r from-blue-500 to-sky-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-award fa-2x text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-gray-800">AICTE Aggregated</h3>
                            <p class="text-gray-600 text-sm">Receive a certificate recognized and valued by industry
                                standards.</p>
                        </div>

                        <div
                            class="card-hover bg-gray-50 p-6 rounded-2xl shadow-lg text-center border-t-4 border-green-500">
                            <div
                                class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-handshake-angle fa-2x text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Placement Support</h3>
                            <p class="text-gray-600 text-sm">Get guidance and resources to help you land your dream job.
                            </p>
                        </div>

                        <div
                            class="card-hover bg-gray-50 p-6 rounded-2xl shadow-lg text-center border-t-4 border-orange-500">
                            <div
                                class="w-16 h-16 bg-gradient-to-r from-orange-500 to-amber-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-file-code fa-2x text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Real-World Projects</h3>
                            <p class="text-gray-600 text-sm">Build a professional portfolio with practical, hands-on
                                assignments.</p>
                        </div>

                        <div
                            class="card-hover bg-gray-50 p-6 rounded-2xl shadow-lg text-center border-t-4 border-red-500">
                            <div
                                class="w-16 h-16 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fa-solid fa-tag fa-2x text-white"></i>
                            </div>
                            <h3 class="text-xl font-bold mb-2 text-gray-800">Affordable Pricing</h3>
                            <p class="text-gray-600 text-sm">High-quality education made accessible with low, one-time
                                fees.</p>
                        </div>

                    </div>
                </div>
            </section>

            <section class="py-20 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl font-bold text-gray-800 mb-4">Popular Courses</h2>
                        <p class="text-xl text-gray-600">Start your learning journey with our most popular courses</p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-4 md:gap-8" id="popular-courses-preview">
                    </div>

                    <div class="text-center mt-12">
                        <button onclick="showCourseList()"
                            class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:shadow-lg transition-all duration-300">
                            View All Courses
                        </button>
                    </div>
                </div>
            </section>


            <section id="testimonials" style="background: white;" class="py-20 relative">
                <div class="max-w-4xl mx-auto px-4 sm:px-6">
                    <div class="text-center mb-12">
                        <span class="text-indigo-600 font-semibold text-sm uppercase tracking-wider">Trusted
                            Voices</span>
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-4">What Our Graduates Say</h2>
                        <p class="text-xl text-gray-600 max-w-2xl mx-auto">Real stories from professionals who advanced
                            their careers with us.</p>
                    </div>

                    <div class="relative overflow-hidden">
                        <div id="testimonials-track" class="flex transition-transform duration-500 ease-in-out">

                            <div class="flex-shrink-0 w-full p-6">
                                <div
                                    class="bg-white p-10 rounded-3xl shadow-2xl border-l-8 border-indigo-600 relative text-center">
                                    <i
                                        class="fa-solid fa-quote-left text-indigo-200 absolute top-4 left-4 text-4xl opacity-70"></i>
                                    <p class="text-gray-700 mb-8 text-xl italic max-w-2xl mx-auto">
                                        "Great course, practical projects and supportive instructors! I landed my first
                                        job a month after certification, thanks to the hands-on experience."
                                    </p>
                                    <div class="flex items-center gap-4 justify-center">
                                        <div
                                            class="w-16 h-16 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                                            A</div>
                                        <div class="text-left">
                                            <div class="font-bold text-gray-900 text-lg">Ananya Sharma</div>
                                            <div class="text-sm text-indigo-600 font-medium">Full Stack Graduate</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex-shrink-0 w-full p-6">
                                <div
                                    class="bg-white p-10 rounded-3xl shadow-2xl border-l-8 border-green-600 relative text-center">
                                    <i
                                        class="fa-solid fa-quote-left text-green-200 absolute top-4 left-4 text-4xl opacity-70"></i>
                                    <p class="text-gray-700 mb-8 text-xl italic max-w-2xl mx-auto">
                                        "The certificate is industry-recognized and helped me get interviews at top
                                        firms. The Data Science track was challenging yet incredibly rewarding."
                                    </p>
                                    <div class="flex items-center gap-4 justify-center">
                                        <div
                                            class="w-16 h-16 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                                            R</div>
                                        <div class="text-left">
                                            <div class="font-bold text-gray-900 text-lg">Ravi Teja</div>
                                            <div class="text-sm text-green-600 font-medium">Data Analyst</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex-shrink-0 w-full p-6">
                                <div
                                    class="bg-white p-10 rounded-3xl shadow-2xl border-l-8 border-orange-600 relative text-center">
                                    <i
                                        class="fa-solid fa-quote-left text-orange-200 absolute top-4 left-4 text-4xl opacity-70"></i>
                                    <p class="text-gray-700 mb-8 text-xl italic max-w-2xl mx-auto">
                                        "Practical, updated content and a friendly community. The support from the
                                        instructors was invaluable. I now feel confident in my Mobile Development role."
                                    </p>
                                    <div class="flex items-center gap-4 justify-center">
                                        <div
                                            class="w-16 h-16 rounded-full bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                                            S</div>
                                        <div class="text-left">
                                            <div class="font-bold text-gray-900 text-lg">Sahana K.</div>
                                            <div class="text-sm text-orange-600 font-medium">Mobile Development Expert
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <button onclick="moveTestimonialSlider(-1)"
                            class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-white p-3 rounded-full shadow-lg text-gray-700 hover:bg-gray-200 transition-colors z-10 opacity-75">
                            <i class="fa-solid fa-chevron-left"></i>
                        </button>
                        <button onclick="moveTestimonialSlider(1)"
                            class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-white p-3 rounded-full shadow-lg text-gray-700 hover:bg-gray-200 transition-colors z-10 opacity-75">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </section>


            <section id="faq-section" class="py-20 bg-gray-50">
                <div class="max-w-4xl mx-auto px-4 sm:px-6">
                    <div class="text-center mb-12">
                        <span class="text-indigo-600 font-semibold text-sm uppercase tracking-wider">Quick
                            Answers</span>
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-4">Frequently Asked Questions</h2>
                        <p class="text-xl text-gray-600">Find instant answers to questions about access, payments, and
                            certificates.</p>
                    </div>

                    <div class="space-y-4" id="faq-accordion">

                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-500 accordion-item">
                            <button
                                class="flex justify-between items-center w-full text-left font-bold text-lg text-gray-800 focus:outline-none"
                                onclick="toggleFaq(this)">
                                <span>How do I get my certificate after finishing a course?</span>
                                <i
                                    class="fa-solid fa-chevron-down text-indigo-500 transform transition-transform duration-300"></i>
                            </button>
                            <div class="accordion-content mt-3 text-gray-600 hidden">
                                <p>Once you complete all the course modules and meet the minimum learning time
                                    (validated by the platform), a "Generate Certificate" button will appear on your
                                    dashboard. You can download the high-resolution PNG file instantly.</p>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-500 accordion-item">
                            <button
                                class="flex justify-between items-center w-full text-left font-bold text-lg text-gray-800 focus:outline-none"
                                onclick="toggleFaq(this)">
                                <span>Is the certificate recognized or aggregated by AICTE?</span>
                                <i
                                    class="fa-solid fa-chevron-down text-indigo-500 transform transition-transform duration-300"></i>
                            </button>
                            <div class="accordion-content mt-3 text-gray-600 hidden">
                                <p>Yes, our certificates are aggregated according to AICTE guidelines. They are designed
                                    to be valued by employers and are valid for submission on professional networking
                                    sites.</p>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-500 accordion-item">
                            <button
                                class="flex justify-between items-center w-full text-left font-bold text-lg text-gray-800 focus:outline-none"
                                onclick="toggleFaq(this)">
                                <span>What is the All-Access Pass (Subscription)?</span>
                                <i
                                    class="fa-solid fa-chevron-down text-indigo-500 transform transition-transform duration-300"></i>
                            </button>
                            <div class="accordion-content mt-3 text-gray-600 hidden">
                                <p>The All-Access Pass is a one-time payment for ‚Çπ1500 that grants you instant, lifetime
                                    access to all 50+ courses and all future courses on the platform. It's the best
                                    value if you plan to take multiple courses.</p>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-500 accordion-item">
                            <button
                                class="flex justify-between items-center w-full text-left font-bold text-lg text-gray-800 focus:outline-none"
                                onclick="toggleFaq(this)">
                                <span>Is the course content available offline?</span>
                                <i
                                    class="fa-solid fa-chevron-down text-indigo-500 transform transition-transform duration-300"></i>
                            </button>
                            <div class="accordion-content mt-3 text-gray-600 hidden">
                                <p>The current platform requires an internet connection to access the course content and
                                    record your progress accurately for certificate validation.</p>
                            </div>
                        </div>

                    </div>
                </div>
            </section>

            <script>
                function toggleFaq(button) {
                    const item = button.closest('.accordion-item');
                    const content = item.querySelector('.accordion-content');
                    const icon = button.querySelector('.fa-chevron-down');

                    // Close all other open items
                    document.querySelectorAll('.accordion-item').forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.querySelector('.accordion-content').classList.add('hidden');
                            otherItem.querySelector('.fa-chevron-down').classList.remove('rotate-180');
                        }
                    });

                    // Toggle the clicked item
                    content.classList.toggle('hidden');
                    icon.classList.toggle('rotate-180');
                }
            </script>

            <section id="contact-section" class="py-20 bg-gradient-to-b from-gray-50 to-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="text-center mb-12">
                        <span class="text-indigo-600 font-semibold text-sm uppercase tracking-wider">24/7 Support</span>
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-4">Connect with Our Team</h2>
                        <p class="text-xl text-gray-600 max-w-3xl mx-auto">We're here to answer all your questions about
                            courses, enrollment, and technical support.</p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-8 items-start">

                        <div class="md:col-span-1 bg-white p-8 rounded-2xl shadow-xl border-l-4 border-indigo-600">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <i class="fa-solid fa-headset mr-3 text-indigo-600"></i> Direct Channels
                            </h3>
                            <div class="space-y-6">
                                <div class="flex items-start space-x-4">
                                    <i class="fa-solid fa-envelope text-2xl text-indigo-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">Email Support</h4>
                                        <p class="text-gray-600 text-sm">Our primary support channel. Expect a reply
                                            within 24 hours.</p>
                                        <a href="mailto:support@edupro.example"
                                            class="text-indigo-600 font-medium hover:underline">support@edupro.example</a>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-4">
                                    <i class="fa-solid fa-phone-volume text-2xl text-indigo-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">Call Us</h4>
                                        <p class="text-gray-600 text-sm">For urgent inquiries during business hours
                                            (10AM - 6PM IST).</p>
                                        <a href="tel:+919876543210"
                                            class="text-indigo-600 font-medium hover:underline">+91 98765 43210</a>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-4">
                                    <i class="fa-solid fa-map-location-dot text-2xl text-indigo-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-900">Corporate Address</h4>
                                        <p class="text-gray-600 text-sm">Visit our headquarters (by appointment only).
                                        </p>
                                        <address class="not-italic text-indigo-600 font-medium">12/4 Tech Park,
                                            Hyderabad, India</address>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="md:col-span-2 bg-white p-8 rounded-2xl shadow-xl">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6">Send Us a Message</h3>
                            <form id="contact-form"
                                onsubmit="event.preventDefault(); alert('Thank you! Your message has been received. We will contact you shortly.'); this.reset();"
                                class="space-y-4">

                                <div class="grid sm:grid-cols-2 gap-4">
                                    <input required placeholder="Your Full Name"
                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow">
                                    <input required type="email" placeholder="Your Email Address"
                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow">
                                </div>

                                <input type="text" placeholder="Subject (e.g., Enrollment Question)"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow">

                                <textarea required placeholder="Your detailed message..." rows="6"
                                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-shadow"></textarea>

                                <button type="submit"
                                    class="w-full bg-indigo-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors shadow-lg flex items-center justify-center space-x-2">
                                    <span>Send Message</span> <i class="fa-solid fa-paper-plane"></i>
                                </button>
                            </form>
                        </div>
                    </div>

                    <div class="mt-8 text-center text-gray-500 text-sm">
                        <p>*Note: For fastest service, please check our <a href="#"
                                class="text-indigo-600 hover:underline">FAQ section</a> before submitting a query.</p>
                    </div>
                </div>
            </section>


            <footer class="bg-gray-800 text-white py-12">
                <div class="max-w-7xl mx-auto px-4 sm:px-6">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 border-b border-gray-700 pb-8">

                        <div class="col-span-2 md:col-span-1">
                            <div class="flex items-center space-x-2 mb-4">
                                <svg class="w-8 h-8 text-indigo-400" fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                                </svg>
                                <span class="text-xl font-bold text-white">EduPro Academy</span>
                            </div>
                            <p class="text-gray-400 text-sm">Empowering professionals with future-ready skills through
                                expert-led, practical courses.</p>
                            <div class="flex space-x-4 mt-4 text-gray-400">
                                <i class="fa-brands fa-facebook text-lg hover:text-indigo-400 transition-colors"></i>
                                <i class="fa-brands fa-twitter text-lg hover:text-indigo-400 transition-colors"></i>
                                <i class="fa-brands fa-linkedin text-lg hover:text-indigo-400 transition-colors"></i>
                            </div>
                        </div>

                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-indigo-400">Quick Links</h4>
                            <ul class="space-y-2 text-sm">
                                <li><button onclick="showWelcomeScreen()"
                                        class="text-gray-300 hover:text-indigo-400 transition-colors">Home</button></li>
                                <li><button onclick="showCourseList()"
                                        class="text-gray-300 hover:text-indigo-400 transition-colors">Courses</button>
                                </li>
                                <li><button onclick="showDashboard()"
                                        class="text-gray-300 hover:text-indigo-400 transition-colors">Dashboard</button>
                                </li>
                                <li><button onclick="showCertificates()"
                                        class="text-gray-300 hover:text-indigo-400 transition-colors">Certificates</button>
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-indigo-400">Contact Us</h4>
                            <ul class="space-y-2 text-sm text-gray-300">
                                <li><i class="fa-solid fa-envelope mr-2"></i> support@edupro.example</li>
                                <li><i class="fa-solid fa-phone mr-2"></i> +91 98765 43210</li>
                                <li><i class="fa-solid fa-location-dot mr-2"></i> 12/4 Tech Park, Hyderabad</li>
                            </ul>
                        </div>

                        <div>
                            <h4 class="text-lg font-semibold mb-4 text-indigo-400">Legal</h4>
                            <ul class="space-y-2 text-sm">
                                <li><a href="#" class="text-gray-300 hover:text-indigo-400 transition-colors">Privacy
                                        Policy</a></li>
                                <li><a href="#" class="text-gray-300 hover:text-indigo-400 transition-colors">Terms of
                                        Service</a></li>
                                <li><a href="#" class="text-gray-300 hover:text-indigo-400 transition-colors">Refund
                                        Policy</a></li>
                            </ul>
                        </div>

                    </div>

                    <div class="mt-8 text-center text-sm text-gray-400">
                        &copy; <span id="current-year">2025</span> PROGMASTER PVT LTD. All rights reserved.
                    </div>
                </div>
            </footer>


        </div>
        <div id="admin-login-screen" class="hidden max-w-md mx-auto p-8 rounded-lg shadow-lg fade-in">
            <h2 class="text-2xl font-bold text-center mb-6 text-red-600">Admin Login</h2>
            <p class="text-center text-sm text-gray-600 mb-4">Use: admin@edupro.com / admin123</p>
            <form onsubmit="handleAdminLogin(event)">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Admin Email</label>
                    <input type="email" id="admin-email"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-red-500"
                        value="admin@edupro.com" required>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Admin Password</label>
                    <input type="password" id="admin-password"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-red-500"
                        value="admin123" required>
                </div>
                <button type="submit" class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700">Login as
                    Admin</button>
            </form>
            <p class="text-center mt-4">
                <button onclick="showWelcomeScreen()" class="text-gray-600 hover:underline">‚Üê Back to Main Page</button>
            </p>
        </div>

        <div id="login-form" class="hidden max-w-md mx-auto rounded-lg shadow-lg fade-in">
            <h2 class="text-2xl font-bold text-center mb-6 text-red-600">Login</h2>
            <form onsubmit="handleLogin(event)">
                <div class="mb-4">
                    <label class="block text-white text-md font-bold mb-2">Email</label>
                    <input type="email" id="login-email"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required>
                </div>
                <div class="mb-6">
                    <label class="block text-white text-md font-bold mb-2">Password</label>
                    <input type="password" id="login-password"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required>
                </div>
                <button type="submit"
                    class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700">Login</button>
            </form>
            <p class="text-center text-md text-white mt-4">
                Don't have an account?
                <button onclick="showRegister()" class="text-indigo-600 hover:underline">Register here</button>
            </p>
        </div>

        <div id="register-form" class="hidden max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg fade-in">
            <h2 class="text-2xl font-bold text-center text-white mb-6">Register</h2>
            <form onsubmit="handleRegister(event)">
                <div class="mb-4">
                    <label class="block text-white text-sm font-bold mb-2">Full Name (Used for Certificate)</label>
                    <input type="text" id="register-name"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
                    <p class="text-red-500 text-xs mt-1 font-semibold">‚ö†Ô∏è WARNING: Double-check this name! It cannot be
                        changed and will appear on your official certificate.</p>
                </div>
                <div class="mb-4">
                    <label class="block text-white text-sm font-bold mb-2">Email</label>
                    <input type="email" id="register-email"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-white text-sm font-bold mb-2">Phone Number (10 Digits)</label>
                    <input type="tel" id="register-phone" pattern="[0-9]{10}" maxlength="10"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
                </div>
                <div class="mb-6">
                    <label class="block text-white text-sm font-bold mb-2">Password</label>
                    <input type="password" id="register-password"
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
                </div>
                <button type="submit"
                    class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Register</button>
            </form>
            <p class="text-center text-white mt-4">
                Already have an account?
                <button onclick="showLogin()" class="text-green-600 hover:underline">Login here</button>
            </p>
        </div>

        <div id="my-account-screen" class="hidden max-w-4xl mx-auto px-4 sm:px-6 py-8">
            <div class="bg-white rounded-2xl shadow-xl p-8 border-t-4 border-blue-500">
                <h2 class="text-4xl font-bold text-gray-800 mb-6 flex items-center">
                    <svg class="w-8 h-8 mr-3 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg> My Account Details
                </h2>
                <div id="my-account-details-container" class="space-y-4">
                </div>
            </div>
        </div>

        <div id="dashboard-screen" class="hidden fade-in min-h-screen bg-gray-100">
            <div class="flex max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">

                <div class="hidden md:block w-72 mr-8 sticky top-20 self-start space-y-6">

                    <div class="bg-white rounded-2xl shadow-lg p-6 space-y-2">
                        <h3 class="text-lg font-bold text-gray-900 mb-4 border-b pb-3">LMS Navigation</h3>
                        <button onclick="showDashboard()"
                            class="w-full text-left flex items-center space-x-3 p-3 rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 transition-colors">
                            <i class="fa-solid fa-gauge-high"></i> <span class="font-semibold">Dashboard</span>
                        </button>
                        <button onclick="showProfile()"
                            class="w-full text-left flex items-center space-x-3 p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-book-open"></i> <span>My Courses</span>
                        </button>
                        <button onclick="showCertificates()"
                            class="w-full text-left flex items-center space-x-3 p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-certificate"></i> <span>Certificates</span>
                        </button>
                        <button onclick="showMyAccount()"
                            class="w-full text-left flex items-center space-x-3 p-3 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors">
                            <i class="fa-solid fa-user-gear"></i> <span>Account Settings</span>
                        </button>
                        <div class="pt-4 mt-4 border-t">
                            <button onclick="logout()"
                                class="w-full text-left flex items-center space-x-3 p-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors">
                                <i class="fa-solid fa-right-from-bracket"></i> <span>Logout</span>
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="showProfile()"
                                class="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-list-check"></i> <span>Go to My Courses</span>
                            </button>
                            <button onclick="showCourseList()"
                                class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-magnifying-glass"></i> <span>Browse All Courses</span>
                            </button>
                            <button onclick="showCertificates()"
                                class="w-full bg-yellow-500 text-gray-900 py-3 rounded-lg hover:bg-yellow-600 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-download"></i> <span>Download Certificates</span>
                            </button>
                            <button onclick="showMyAccount()"
                                class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-gear"></i> <span>Manage Account</span>
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 border-b pb-2">Your Focus Metrics</h3>
                        <div class="space-y-4">

                            <div class="flex items-center space-x-3">
                                <div class="text-indigo-600">
                                    <i class="fa-solid fa-bullseye fa-lg"></i>
                                </div>
                                <div>
                                    <div class="text-xl font-bold" id="sidebar-courses-remaining">0</div>
                                    <div class="text-xs text-gray-500">Certificates to Achieve</div>
                                </div>
                            </div>

                            <div class="flex items-center space-x-3">
                                <div class="text-red-600">
                                    <i class="fa-solid fa-clock-rotate-left fa-lg"></i>
                                </div>
                                <div>
                                    <div class="text-xl font-bold" id="sidebar-last-active">Loading...</div>
                                    <div class="text-xs text-gray-500">Last Session</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-2xl shadow-lg p-6 mb-6">
                        <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2">
                            <i class="fa-solid fa-trophy text-yellow-600"></i>
                            <span>Top Achievers</span>
                        </h3>
                        <div id="leaderboard-list" class="space-y-3">
                            <p class="text-sm text-gray-500">Loading leaderboard...</p>
                        </div>
                    </div>

                </div>

                <div class="flex-grow">
                    <div class="mb-8">
                        <h2 class="text-4xl font-extrabold text-gray-900 mb-2">Welcome Back, <span
                                id="dashboard-user-name"></span>!</h2>
                        <p class="text-gray-600 text-lg">Your central hub for learning progress and quick actions.</p>
                    </div>

                    <div id="premium-greeting"
                        class="hidden bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-4 rounded-xl shadow-lg mb-6 transform transition-all duration-500 hover:scale-[1.01] flex items-center justify-between space-x-3">
                        <div class="flex items-center space-x-3">
                            <span class="text-3xl">üëë</span>
                            <p class="text-xl font-bold">Welcome, Premium Member! All 50+ courses are unlocked.</p>
                        </div>
                        <button onclick="showCourseList()"
                            class="bg-white text-orange-600 font-semibold px-4 py-2 rounded-lg text-sm hover:shadow-xl">Browse
                            All</button>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-8">
                        <div
                            class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-indigo-600 transform transition-transform duration-330 hover:scale-[1.02]">
                            <p class="text-indigo-600 font-bold mb-1">Enrolled Courses</p>
                            <p class="text-4xl font-extrabold text-gray-900" id="enrolled-count">0</p>
                            <div class="flex items-center text-sm text-gray-500 mt-2">
                                <i class="fa-solid fa-book-reader mr-2"></i> All courses you have access to.
                            </div>
                        </div>

                        <div
                            class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-green-600 transform transition-transform duration-330 hover:scale-[1.02]">
                            <p class="text-green-600 font-bold mb-1">Certificates Earned</p>
                            <p class="text-4xl font-extrabold text-gray-900" id="certificates-count">0</p>
                            <div class="flex items-center text-sm text-gray-500 mt-2">
                                <i class="fa-solid fa-trophy mr-2"></i> Industry-recognized achievements.
                            </div>
                        </div>

                        <div
                            class="bg-white p-6 rounded-2xl shadow-lg border-b-4 border-yellow-600 transform transition-transform duration-330 hover:scale-[1.02]">
                            <p class="text-yellow-600 font-bold mb-1">Global Announcements</p>
                            <p class="text-4xl font-extrabold text-gray-900">
                                <button onclick="showNotificationPopup()" class="text-yellow-600 hover:text-yellow-700">
                                    <span id="notification-badge"
                                        class="bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full absolute top-2 right-2 transform translate-x-1/2 -translate-y-1/2 hidden">New!</span>
                                    <i class="fa-solid fa-bell"></i>
                                </button>
                            </p>
                            <div class="flex items-center text-sm text-gray-500 mt-2">
                                <i class="fa-solid fa-bullhorn mr-2"></i> Important updates from the team.
                            </div>
                        </div>
                    </div>

                    <div class="md:hidden bg-white rounded-2xl shadow-xl p-6 mb-8">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">Quick Actions</h3>
                        <div class="space-y-3">
                            <button onclick="showProfile()"
                                class="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-list-check"></i> <span>Go to My Courses</span>
                            </button>
                            <button onclick="showCourseList()"
                                class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-magnifying-glass"></i> <span>Browse All Courses</span>
                            </button>
                            <button onclick="showCertificates()"
                                class="w-full bg-yellow-500 text-gray-900 py-3 rounded-lg hover:bg-yellow-600 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-download"></i> <span>Download Certificates</span>
                            </button>
                            <button onclick="showMyAccount()"
                                class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2">
                                <i class="fa-solid fa-gear"></i> <span>Manage Account</span>
                            </button>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-6">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">Continue Learning</h3>
                        <div id="continue-learning" class="space-y-4">
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-6 mt-8">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3">My Learning Metrics</h3>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                            <div style="height: 350px;">
                                <canvas id="studentProgressChart"></canvas>
                            </div>

                            <div style="height: 350px;">
                                <canvas id="peerComparisonChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl mt-8 w-auto">
                        <h3 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-3 px-6 sm:px-8 lg:px-10 pt-6">
                            Weekly Engagement Trend</h3>

                        <div class="px-6 sm:px-8 lg:px-10 pb-6" style="height: 300px;">
                            <canvas id="weeklyActivityTrendChart"></canvas>
                        </div>
                    </div>

                </div>

            </div>
        </div>



        <div id="course-list" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">All Courses</h2>
                <p class="text-xl text-gray-600">Choose from our comprehensive course catalog</p>
            </div>

            <div class="mb-8 flex justify-center">
                <div class="course-filter bg-white rounded-full shadow-lg">
                    <button onclick="filterCourses('all')"
                        class="language-filter active px-6 py-2 rounded-full transition-all">All</button>
                    <button onclick="filterCourses('programming')"
                        class="language-filter px-6 py-2 rounded-full transition-all">Programming</button>
                    <button onclick="filterCourses('design')"
                        class="language-filter px-6 py-2 rounded-full transition-all">Design</button>
                    <button onclick="filterCourses('business')"
                        class="language-filter px-6 py-2 rounded-full transition-all">Business</button>
                    <button onclick="filterCourses('data')"
                        class="language-filter px-6 py-2 rounded-full transition-all">Data
                        Science</button>
                </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8" id="courses-container"></div>
        </div>

        <div id="certificates-screen" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">My Certificates</h2>
                <p class="text-xl text-gray-600">Your achievements and certifications</p>
            </div>
            <div id="certificates-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
            </div>
        </div>

        <div id="course-detail" class="hidden fade-in">
            <button onclick="showCourseList()"
                class="mb-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">‚Üê
                Back to Courses</button>
            <div id="course-detail-content"></div>
        </div>

        <div id="profile-screen" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
            <h2 class="text-3xl font-bold text-center mb-8">My Courses</h2>
            <div id="enrolled-courses" class="flex flex-wrap gap-4 justify-center">
            </div>
        </div>

        <div id="certificate-screen" class="hidden fade-in">
            <div class="max-w-4xl mx-auto">
                <button onclick="showProfile()"
                    class="mb-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">‚Üê
                    Back to My
                    Courses</button>

                <div class="certificate-border-wrapper">
                    <div id="certificate-content" class="certificate-container text-gray-800 text-center relative">
                        <div class="watermark"></div>

                    </div>
                </div>
                <div class="text-center mt-6">
                    <button onclick="downloadCurrentCertificate('png')"
                        class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 text-lg">Download
                        Certificate (PNG)</button>
                    <!-- <button onclick="downloadCurrentCertificate('pdf')"
                        class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 text-lg ml-3">Download
                        Certificate (PDF)</button> -->
                </div>
            </div>
        </div>

        <div id="admin-dashboard-panel" class="hidden fade-in">
            <div class="min-h-screen flex flex-col">
                <header class="bg-white shadow-md z-10">
                    <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center">
                        <h1 class="text-3xl font-bold text-gray-900 slide-in">Admin Enrollment Dashboard üîë</h1>
                        <div class="text-sm text-gray-500">
                            Last Refreshed: <span id="last-updated"
                                class="font-semibold text-blue-600">Loading...</span>
                        </div>
                    </div>
                </header>
                <main class="flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto w-full">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div id="card-total-students"
                            class="card-animation bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-600">
                            <div class="flex items-center justify-between">
                                <div class="text-sm font-medium text-gray-500">Total Student Accounts</div>
                                <svg class="h-6 w-6 text-blue-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17 20h5v-4h-5v4zm0 0l-1.336-1.336m1.336 1.336H3m3-4H2m3 4v-4m3 4v-4m3 4v-4m3 4v-4m3 4v-4m-3 4V4m3 16V4m-3 0h5m-5 0H3m3 0h12" />
                                </svg>
                            </div>
                            <p class="text-4xl font-extrabold text-gray-900 mt-1"><span
                                    id="metric-total-students">0</span>
                            </p>
                        </div>
                        <div id="card-total-active-users"
                            class="card-animation bg-white p-6 rounded-xl shadow-lg border-l-4 border-red-600">
                            <div class="flex items-center justify-between">
                                <div class="text-sm font-medium text-gray-500">Total Active Users</div>
                                <svg class="h-6 w-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13 10V3L4 14h7v7l9-11h-7z" />
                                </svg>
                            </div>
                            <p class="text-4xl font-extrabold text-gray-900 mt-1"><span
                                    id="metric-total-active-users">0</span></p>
                        </div>
                        <div id="card-total-certificates"
                            class="card-animation bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-600">
                            <div class="flex items-center justify-between">
                                <div class="text-sm font-medium text-gray-500">Courses Completed (Certified)</div>
                                <svg class="h-6 w-6 text-green-400" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.01 12.01 0 002.5 14c0 1.491.31 2.923.863 4.264m18.774-11.28A12.01 12.01 0 0021.5 14c0 1.491-.31 2.923-.863 4.264M18 18h-4.264l-.5-1.5-.5 1.5H6m12 0a2 2 0 100 4 2 2 0 000-4z" />
                                </svg>
                            </div>
                            <p class="text-4xl font-extrabold text-gray-900 mt-1"><span
                                    id="metric-total-certificates">0</span></p>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-xl shadow-lg card-animation w-full">
                            <h2 class="text-xl font-semibold text-gray-800 mb-4">Course Enrollment Distribution (Live
                                Data)
                            </h2>
                            <div style="height: 300px;">
                                <canvas id="courseChart"></canvas>
                            </div>
                        </div>
                        <div
                            class="bg-white p-6 rounded-xl shadow-lg card-animation w-full grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div>
                                <label for="admin-student-search" class="block text-sm font-medium text-gray-700">Search
                                    Name/Email/Phone</label>
                                <input type="text" id="admin-student-search" placeholder="E.g., Alice Johnson"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition">
                            </div>
                            <div>
                                <label for="admin-course-filter" class="block text-sm font-medium text-gray-700">Filter
                                    by Course</label>
                                <select id="admin-course-filter"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition bg-white">
                                    <option value="all">All Courses</option>
                                </select>
                            </div>
                            <div>
                                <label for="admin-status-filter" class="block text-sm font-medium text-gray-700">Filter
                                    by Enrollment Status</label>
                                <select id="admin-status-filter"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition bg-white">
                                    <option value="all">Any Status</option>
                                    <option value="true">Active (True)</option>
                                    <option value="false">Pending (False)</option>
                                </select>
                            </div>
                            <div>
                                <label for="admin-online-filter" class="block text-sm font-medium text-gray-700">Filter
                                    by Online Status</label>
                                <select id="admin-online-filter"
                                    class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition bg-white">
                                    <option value="all">All</option>
                                    <option value="online">Online</option>
                                    <option value="offline">Offline</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-lg card-animation">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">
                            Student Enrollment Records
                            <span id="approval-metrics" class="ml-4 text-sm font-normal text-gray-600">
                                (Active: <span id="metric-approvals" class="font-semibold text-green-600">0</span> /
                                Pending: <span id="metric-revokes" class="font-semibold text-orange-600">0</span>)
                            </span>
                        </h2>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead>
                                    <tr class="bg-gray-50">
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Student Name</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Email</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Course Title</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Status</th>
                                        <th
                                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            Action</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-table-body" class="bg-white divide-y divide-gray-200">
                                </tbody>
                            </table>
                            <div id="admin-no-results" class="hidden text-center py-8 text-gray-500">No enrollment
                                records found matching the criteria.</div>
                        </div>
                        <div class="flex justify-between items-center mt-4">
                            <div class="flex space-x-2">
                                <button onclick="handlePagination('prev')"
                                    class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg text-sm hover:bg-gray-300 transition-colors hidden"
                                    id="prev-page-btn">‚Üê</button>
                                <button onclick="handlePagination('next')"
                                    class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg text-sm hover:bg-gray-300 transition-colors hidden"
                                    id="next-page-btn">‚Üí</button>
                            </div>
                            <span class="text-sm text-gray-600" id="pagination-info">Displaying 0 records</span>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <div id="admin-user-details-modal" class="modal hidden">
        <div class="modal-content w-full max-w-xl admin-profile-card">
            <div class="flex justify-between items-center pb-4 mb-4 border-b border-indigo-200">
                <h2 class="text-3xl font-extrabold text-indigo-900" id="modal-user-name">Student Details</h2>
                <button onclick="closeAdminUserDetails()"
                    class="text-gray-500 hover:text-red-700 p-2 rounded-full hover:bg-red-50">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>

            <div id="modal-user-info" class="p-4 bg-indigo-50 rounded-xl shadow-inner mb-6 space-y-2 text-gray-700">
            </div>

            <div class="mt-6 flex justify-between space-x-3 pt-4">
                <button id="disable-user-btn"
                    onclick="toggleUserDisableStatus(document.getElementById('admin-user-details-modal').getAttribute('data-user-id'))"
                    class="bg-yellow-500 text-gray-900 px-4 py-2 rounded-lg text-sm hover:bg-yellow-600 transition-colors flex-1 shadow-md">Disable
                    User</button>
                <button id="delete-user-btn"
                    onclick="deleteUserPermanently(document.getElementById('admin-user-details-modal').getAttribute('data-user-id'))"
                    class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex-1 shadow-md">Delete
                    User Permanently</button>
            </div>
            <div class="mt-8">
                <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center">
                    <span class="mr-2 text-indigo-600">üìö</span> Enrolled Courses (<span
                        id="modal-enrolled-count">0</span>)
                </h3>
                <div id="modal-course-list" class="space-y-3">
                </div>
            </div>
        </div>
    </div>
    <div id="notification-modal" class="modal hidden">
        <div class="modal-content w-full max-w-lg bg-white p-6 rounded-xl shadow-2xl border-t-8 border-yellow-500">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="mr-3 text-yellow-600">üì¢</span> Global Announcement
                </h2>
                <button onclick="closeNotificationPopup()" class="text-gray-500 hover:text-gray-900">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                        </path>
                    </svg>
                </button>
            </div>
            <div id="notification-content" class="bg-yellow-50 p-4 rounded-lg text-yellow-900 border border-yellow-200">
                <p class="font-medium text-lg">No active announcements.</p>
            </div>
            <p class="text-xs text-gray-500 mt-4 text-right">Last updated: <span id="notification-timestamp">N/A</span>
            </p>
        </div>
    </div>

    <div id="course-wrapper" class="hidden fixed inset-0 w-full h-full bg-white z-[999] flex flex-col overflow-hidden">

        <!-- NAVBAR -->
        <nav class="bg-gray-800 p-3 text-white shadow-lg flex justify-between items-center z-10">

            <!-- LEFT -->
            <div class="flex items-center gap-3">
                <span class="text-lg font-bold">PROGMASTER Learning</span>
                <span id="integrated-course-title" class="text-sm text-gray-500"></span>
            </div>

            <!-- RIGHT FOR DESKTOP -->
            <div class="hidden md:flex items-center gap-3">
                <button id="integrated-completion-button" class="bg-gray-300 text-white font-semibold py-2 px-4 rounded-lg transition
                       disabled:opacity-50 disabled:cursor-not-allowed">
                    Loading...
                </button>

                <button onclick="endLearningSession()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4
                       rounded-lg transition">
                    ‚Üê Dashboard
                </button>
            </div>

            <!-- MOBILE MENU BUTTON (3 dots) -->
            <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg border border-white-300 text-white-1000">
                ‚ãÆ
            </button>
        </nav>

        <!-- MOBILE MENU DROPDOWN -->
        <div id="mobile-menu"
            class="hidden md:hidden absolute right-4 top-16 bg-white shadow-lg rounded-lg border p-3 space-y-2 z-[9999]">

            <button id="integrated-completion-button-mobile" class="bg-gray-300 w-full text-white font-semibold py-2 px-4 rounded-lg transition
                   disabled:opacity-50 disabled:cursor-not-allowed">
                Loading...
            </button>

            <button onclick="endLearningSession()" class="bg-indigo-600 hover:bg-indigo-700 w-full text-white font-semibold py-2 px-4
                   rounded-lg transition">
                ‚Üê Dashboard
            </button>
        </div>

        <!-- IFRAME -->
        <iframe id="integrated-course-iframe" class="flex-grow w-full h-full border-none"></iframe>

        <!-- LOADING SCREEN -->
        <div id="integrated-loading-screen" class="absolute inset-0 flex flex-col items-center justify-center
                bg-white/90 backdrop-blur-sm">

            <h1 class="text-3xl font-bold text-indigo-600 mb-3">Validating Session...</h1>
            <p class="text-gray-600 text-lg">Preparing course environment securely</p>
        </div>
    </div>

    <button onclick="document.getElementById('subscription-modal').classList.remove('hidden')"
        class="fixed bottom-6 right-6 z-40 bg-pink-600 text-white p-4 rounded-full shadow-2xl hover:bg-pink-700 transition-all duration-300 transform hover:scale-105 flex items-center space-x-2 animate-bounce">
        <i class="fa-solid fa-crown text-2xl"></i>
        <span class="text-lg font-bold hidden sm:inline">All-Access Pass: ‚Çπ1500!</span>
    </button>


    <a href="https://wa.me/919876543210" target="_blank" style="bottom: 35px;"
        onclick="document.getElementById('subscription-modal').classList.remove('hidden')"
        class="fixed bottom-6 left-6 z-40 bg-green-500 text-white p-4 rounded-full shadow-2xl hover:bg-pink-700 transition-all duration-150 transform hover:scale-105 flex items-center space-x-2 animate-bounce"
        aria-label="Chat with us on WhatsApp">
        <span class="text-lg font-bold hidden sm:inline">DM To Us!</span>
        <i class="fa-brands fa-whatsapp text-3xl"></i>
    </a>

    <script>
        // MOBILE MENU TOGGLE
        const mobileBtn = document.getElementById("mobile-menu-btn");
        const mobileMenu = document.getElementById("mobile-menu");

        mobileBtn.addEventListener("click", () => {
            mobileMenu.classList.toggle("hidden");
        });

        // Sync completion button
        const desktopBtn = document.getElementById("integrated-completion-button");
        const mobileBtnCompletion = document.getElementById("integrated-completion-button-mobile");

        // Mirror button state (loading/completed)
        const observer = new MutationObserver(() => {
            mobileBtnCompletion.textContent = desktopBtn.textContent;
            mobileBtnCompletion.disabled = desktopBtn.disabled;
        });

        observer.observe(desktopBtn, {
            attributes: true,
            childList: true
        });
    </script>
    <script>
        // **************************************************
        // *** 0. CORE UTILITY & GLOBAL VARS (DEFINED FIRST) ***
        // **************************************************

        // Application State
        let currentCourse = null;
        let currentUser = null;
        const PAYMENT_LINK = 'https://rzp.io/rzp/MdrDDje';
        const SUBCRIPTION_PAYMENT_LINK = 'https://rzp.io/rzp/MdrDDje';
        let isAdminLoggedIn = false;
        const ADMIN_EMAIL = 'admin@edupro.com';
        const ADMIN_PASSWORD = 'admin123';
        let courseChartInstance = null;

        // Pagination state
        const RECORDS_PER_PAGE = 20;
        let currentPage = 1;


        // --- EXTERNAL COURSE INTEGRATION VARIABLES ---
        const EXTERNAL_COURSE_URL = 'https://articulate.com/your-course-link-placeholder'; // Placeholder for Articulate Link
        let currentLearningUserId = null;
        let currentLearningCourseId = null;

        // **CRITICAL: Restore Timer Variables**
        const MINIMUM_TIME_SECONDS = 30; // 30 seconds for testing (5 min = 300)
        let integratedCompletionTimer = null;
        // --- END EXTERNAL COURSE INTEGRATION VARIABLES ---
        // NEW: Real-Time Tracking Variables (MOVED TO GLOBAL SCOPE TO FIX ERROR)
        let sessionStartTime = null;
        const ACTIVITY_LOG_PATH = 'edupro_users_activity';

        // Sample Data: COURSE IDs must be unique strings 
        let courses = [{
            id: "web_dev",
            title: "Full Stack Web Development",
            description: "Master modern web development with React, Node.js, and databases",
            duration: "10 days",
            level: "Beginner",
            icon: "üíª",
            category: "programming",
            rating: 4.9,
            students: 2847,
            curriculum: [{
                title: "HTML",
                day: 1
            }, {
                title: "CSS",
                day: 2
            }, {
                title: "JS",
                day: 3
            }, {
                title: "React",
                day: 4
            }, {
                title: "Node",
                day: 5
            }, {
                title: "Express",
                day: 6
            }, {
                title: "DB",
                day: 7
            }, {
                title: "API",
                day: 8
            }, {
                title: "Auth",
                day: 9
            }, {
                title: "Deploy",
                day: 10
            }]
        }, {
            id: "aws_cloud",
            title: "Cloud Computing with AWS",
            description: "Master Amazon Web Services and cloud architecture",
            duration: "10 days",
            level: "Intermediate",
            icon: "‚òÅÔ∏è",
            category: "programming",
            rating: 4.8,
            students: 2156,
            curriculum: [{
                title: "Cloud Funda",
                day: 1
            }, {
                title: "EC2",
                day: 2
            }, {
                title: "S3",
                day: 3
            }, {
                title: "RDS",
                day: 4
            }, {
                title: "Lambda",
                day: 5
            }, {
                title: "CF",
                day: 6
            }, {
                title: "IAM",
                day: 7
            }, {
                title: "Monitor",
                day: 8
            }, {
                title: "DevOps",
                day: 9
            }, {
                title: "Cert Prep",
                day: 10
            }]
        }];


        // Firebase Configuration (Keep this section intact)
        const firebaseConfig = {
            apiKey: "AIzaSyBnQ0s1jFoMH6J7vhKVM7NVC-WNScLdA7E",
            authDomain: "sutherland-6ce2b.firebaseapp.com",
            databaseURL: "https://sutherland-6ce2b-default-rtdb.firebaseio.com",
            projectId: "sutherland-6ce2b",
            storageBucket: "sutherland-6ce2b.firebasestorage.app",
            messagingSenderId: "243800407888",
            appId: "1:243800407888:web:2c4dfa1e6a267ba2a17655",
            measurementId: "G-S6GMQ32JJ5"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();
        const storage = firebase.storage();

        // Data Storage
        let users = [];
        let certificates = [];
        let globalNotification = null;
        let currentUserId = null;


        // **************************************************
        // *** REAL-TIME ACTIVE TIME TRACKING UTILITIES (FIX FOR REFERENCE ERROR) ***
        // **************************************************

        function startSessionTimer() {
            // Start tracking time only if a user is logged in
            if (currentUserId) {
                sessionStartTime = Date.now();
            }
        }

        async function logSessionDuration() {
            if (!currentUserId || !sessionStartTime) return;

            const endTime = Date.now();
            // Calculate duration in minutes (round down)
            const durationMinutes = Math.floor((endTime - sessionStartTime) / (1000 * 60));

            // Reset the start time
            sessionStartTime = null;

            if (durationMinutes > 0) {
                const todayKey = new Date().toISOString().split('T')[0]; // Format: YYYY-MM-DD
                const userActivityRef = firebase.database().ref(`${ACTIVITY_LOG_PATH}/${currentUserId}/${todayKey}`);

                // Use a transaction to safely increment the total minutes for today
                await userActivityRef.transaction(currentMinutes => {
                    return (currentMinutes || 0) + durationMinutes;
                });

                console.log(`Logged ${durationMinutes} minutes for today.`);
            }
        }

        // *** CORE UTILITY FUNCTIONS ***

        function showLoader() {
            document.getElementById("global-loader").style.display = "flex";
        }

        function hideLoader() {
            document.getElementById("global-loader").style.display = "none";
        }

        // *** NEW SUBSCRIPTION CONSTANTS ***
        const SUBSCRIPTION_ID = 'SUBSCRIPTION';
        const SUBSCRIPTION_PRICE = 1500;

        function getCourseTitle(courseId) {
            if (courseId === SUBSCRIPTION_ID) return 'SUBSCRIPTION (All Access)';
            const course = courses.find(c => c.id === courseId);
            return course ? course.title : `Unknown Course (${courseId})`;
        }

        function isUserOnline(lastActiveTimestamp) {
            if (!lastActiveTimestamp) return false;
            const fiveMinutesAgo = Date.now() - (5 * 60 * 1000);
            return lastActiveTimestamp > fiveMinutesAgo;
        }

        function updateNotificationBadge() {
            const badge = document.getElementById('notification-badge');

            if (!currentUser || !globalNotification || !globalNotification.timestamp) {
                badge.classList.add('hidden');
                return;
            }

            const lastCheck = currentUser.last_notification_check || 0;

            if (globalNotification.timestamp > lastCheck) {
                badge.textContent = 'New!';
                badge.classList.remove('hidden');
            } else {
                badge.classList.add('hidden');
            }
        }

        function getCourseEnrollmentDistributionData() {
            const enrollmentMap = {};
            courses.forEach(course => {
                enrollmentMap[course.id] = {
                    enrolled: 0,
                    certified: 0,
                    title: course.title
                };
            });

            let totalApprovals = 0;
            let totalRevokes = 0;
            let totalActiveUsers = 0;

            users.forEach(user => {
                const userEnrollments = user.enrolled_courses || {};
                Object.keys(userEnrollments).forEach(courseId => {
                    if (enrollmentMap[courseId]) {
                        enrollmentMap[courseId].enrolled++;
                        if (userEnrollments[courseId].status === true) {
                            totalApprovals++;
                        } else {
                            totalRevokes++;
                        }
                    }
                });

                if (!user.disabled && isUserOnline(user.last_active)) {
                    totalActiveUsers++;
                }
            });

            certificates.forEach(cert => {
                if (enrollmentMap[cert.courseId]) {
                    enrollmentMap[cert.courseId].certified++;
                }
            });

            return {
                labels: Object.values(enrollmentMap).map(d => d.title),
                enrolledData: Object.values(enrollmentMap).map(d => d.enrolled),
                certifiedData: Object.values(enrollmentMap).map(d => d.certified),
                totalApprovals,
                totalRevokes,
                totalActiveUsers
            };
        }

        function timeSince(date) {
            if (!date) return "N/A";
            const seconds = Math.floor((new Date() - date) / 1000);

            let interval = seconds / 31536000; // Years
            if (interval > 1) return Math.floor(interval) + " years ago";

            interval = seconds / 2592000; // Months
            if (interval > 1) return Math.floor(interval) + " months ago";

            interval = seconds / 86400; // Days
            if (interval > 1) return Math.floor(interval) + " days ago";

            interval = seconds / 3600; // Hours
            if (interval > 1) return Math.floor(interval) + " hours ago";

            interval = seconds / 60; // Minutes
            if (interval > 1) return Math.floor(interval) + " mins ago";

            return "Just now";
        }

        function getCoursesRemaining() {
            const totalEnrolled = getEnrolledCourseCount();
            const userCertificates = certificates.filter(c => c.userId === currentUserId);
            const totalCertified = userCertificates.length;

            return Math.max(0, totalEnrolled - totalCertified);
        }

        // **************************************************
        // *** 1. SCREEN NAVIGATION FUNCTIONS ***
        // **************************************************

        function hideAllScreens() {
            ['welcome-screen', 'login-form', 'register-form', 'dashboard-screen', 'course-list', 'course-detail', 'profile-screen', 'certificate-screen', 'certificates-screen', 'admin-dashboard-panel', 'admin-login-screen', 'admin-user-details-modal', 'my-account-screen', 'notification-modal', 'course-wrapper'].forEach(id => {
                const element = document.getElementById(id);
                if (element) element.style.display = 'none';
            });
        }

        // ** THE CORRECTED FUNCTION **
        function updateNav(isLoggedIn, isAdmin) {
            const navButtons = document.getElementById('nav-buttons');
            const userNav = document.getElementById('user-nav');
            const adminNav = document.getElementById('admin-nav');
            const totalNav = document.getElementById('total-nav');
            const blackLogo = document.getElementById('black-logo');
            const whiteLogo = document.getElementById('white-logo');

            // ** FIX 1: NAVBAR VISIBILITY **
            totalNav.style.display = 'flex';

            navButtons.style.display = 'none';
            userNav.style.display = 'none';
            adminNav.style.display = 'none';

            if (isAdmin) {
                adminNav.style.display = 'flex';
                totalNav.style.backgroundColor = 'white';
            } else if (isLoggedIn) {
                if (currentUser && currentUser.name) {
                    document.getElementById('user-name-nav').textContent = currentUser.name.split(' ')[0];
                    document.getElementById('user-avatar').textContent = currentUser.name.charAt(0);
                    updateNotificationBadge();
                } else if (currentUser) {
                    document.getElementById('user-name-nav').textContent = "User";
                    document.getElementById('user-avatar').textContent = "U";
                    updateNotificationBadge();
                }

                userNav.style.display = 'flex';
                blackLogo.style.display = 'block';
                whiteLogo.style.display = 'none';
                totalNav.style.backgroundColor = 'white';
                document.getElementById('welcome-screen').style.display = 'none';
                showDashboard();
            } else {
                navButtons.style.display = 'flex';
                blackLogo.style.display = 'none';
                whiteLogo.style.display = 'block';
                totalNav.style.backgroundColor = 'black';
            }
        }

        function showAdminLogin() {
            hideAllScreens();
            document.getElementById('admin-login-screen').style.display = 'block';
        }

        function adminLogout() {
            isAdminLoggedIn = false;
            updateNav(false, false);
            showWelcomeScreen();
        }


        function showWelcomeScreen() {
            hideAllScreens();
            isAdminLoggedIn = false;
            updateNav(false, false);
            document.getElementById('welcome-screen').style.display = 'block';
            document.getElementById('user-nav').style.display = 'none';

        }

        function showLogin() {
            hideAllScreens();
            document.getElementById('login-form').style.display = 'block';
            document.body.style.backgroundColor = 'black';
        }

        function showRegister() {
            hideAllScreens();
            document.getElementById('register-form').style.display = 'block';
            document.body.style.backgroundColor = 'black';

        }

        function showCourseList() {
            hideAllScreens();
            document.getElementById('course-list').style.display = 'block';
            document.body.style.backgroundColor = 'white';
            renderCourseList(courses);
            resetFilterButtons('all');
        }

        // Final screen functions must call rendering functions defined below
        async function showDashboard() {
            if (!currentUserId) return showLogin();
            await fetchUserData();

            if (currentUserId) {
                database.ref(`edupro_users/${currentUserId}/last_active`).set(Date.now());
            }

            hideAllScreens();
            document.getElementById('dashboard-screen').style.display = 'block';
            document.body.style.backgroundColor = 'white';
            renderDashboard(); // Defined below
        }
        async function showCertificates() {
            if (!currentUserId) return showLogin();
            await fetchUserData();

            hideAllScreens();
            document.getElementById('certificates-screen').style.display = 'block';
            renderCertificates(); // Defined below
        }

        function showProfile() {
            if (!currentUserId) return showLogin();

            // Wait for data to be fetched before proceeding
            fetchUserData().then(() => {
                hideAllScreens();
                document.getElementById('profile-screen').style.display = 'block';
                // Now run the renderer after data is confirmed available
                renderProfileCourses();
            });
        }

        async function showMyAccount() {
            if (!currentUserId) return showLogin();
            await fetchUserData();

            hideAllScreens();
            document.getElementById('my-account-screen').style.display = 'block';
            renderMyAccount(); // Defined below
        }

        function openExistingCertificate(certObj) {
            showCertificateScreen(certObj);
        }

        function showCertificateScreen(certData) {
            hideAllScreens();
            document.getElementById('certificate-screen').style.display = 'block';
            renderCertificate(certData); // Defined below
        }
        async function showNotificationPopup() {
            if (!currentUserId || !currentUser) return showLogin();
            const modal = document.getElementById('notification-modal');
            const content = document.getElementById('notification-content');
            const timestampDisplay = document.getElementById('notification-timestamp');

            await fetchUserData();

            if (globalNotification && globalNotification.message) {
                content.innerHTML = `<p class="font-medium text-lg">${globalNotification.message}</p>`;
                timestampDisplay.textContent = new Date(globalNotification.timestamp).toLocaleString();
            } else {
                content.innerHTML = `<p class="font-medium text-lg">No active announcements.</p>`;
                timestampDisplay.textContent = 'N/A';
            }

            if (globalNotification && globalNotification.timestamp) {
                await database.ref(`edupro_users/${currentUserId}/last_notification_check`).set(globalNotification.timestamp);
                currentUser.last_notification_check = globalNotification.timestamp;
                updateNotificationBadge();
            }

            modal.style.display = 'flex';
        }

        function closeNotificationPopup() {
            document.getElementById('notification-modal').style.display = 'none';
        }
        async function showAdminDashboard() {
            if (!isAdminLoggedIn) return showAdminLogin();
            currentPage = 1;
            hideAllScreens();
            document.getElementById('admin-dashboard-panel').style.display = 'block';
            document.body.style.backgroundColor = 'white';

            await fetchUserData();
            renderAdminDashboard(); // Defined below
        }


        // *** INTEGRATED COURSE LEARNING FUNCTIONS ***

        async function secureStartLearning(courseId) {
            if (!currentUserId) return showLogin();

            const course = courses.find(c => c.id === courseId);
            const userEnrollment = currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;

            if (!userEnrollment || userEnrollment.status !== true) {
                alert("Course not yet unlocked. Please check your payment status");
                showCourseDetail(courseId);
                return;
            }

            try {
                // Set global state for the learning session
                currentLearningUserId = currentUserId;
                currentLearningCourseId = courseId;

                // Display the course wrapper and loading screen
                hideAllScreens();
                document.getElementById('course-wrapper').style.display = 'flex';
                document.getElementById('integrated-loading-screen').style.display = 'flex';
                document.getElementById('integrated-loading-screen').style.opacity = 1;

                // Update UI
                document.getElementById('integrated-course-title').textContent = `Course: ${course.title}`;
                document.getElementById('integrated-loading-screen').innerHTML = `
                    <h1 class="text-3xl font-bold text-indigo-600 mb-4">Preparing Course...</h1>
                    <p class="text-gray-600">Loading module content securely.</p>
                `;

                // 1. Load the course content into the iframe
                const iframe = document.getElementById('integrated-course-iframe');
                iframe.src = `courses/${courseId}/index.html`;

                // Wait a moment for the iframe to load and hide the initial loading screen
                iframe.onload = () => {
                    document.getElementById('integrated-loading-screen').style.opacity = 0;
                    setTimeout(() => {
                        document.getElementById('integrated-loading-screen').style.display = 'none';
                    }, 600);
                    startCompletionTimer(); // Start the timer when the content is ready
                };

            } catch (error) {
                console.error("In-page Course Load Error:", error);
                alert("Failed to load course content. Redirecting to dashboard.");
                hideLoader();
                showDashboard();
            }
        }

        function startLearning(courseId) {
            if (!currentUserId || !currentUser) return showLogin();
            secureStartLearning(courseId);
        }

        function startCompletionTimer() {
            let remainingSeconds = MINIMUM_TIME_SECONDS;
            const completionButton = document.getElementById('integrated-completion-button');

            const updateTime = () => {
                if (remainingSeconds <= 0) {
                    clearInterval(integratedCompletionTimer);
                    enableCompletionButton();
                    return;
                }

                const minutes = Math.floor(remainingSeconds / 60);
                const seconds = remainingSeconds % 60;
                const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

                completionButton.textContent = `Finish Course (Wait ${timeString})`;
                remainingSeconds--;
            };

            completionButton.disabled = true;
            completionButton.classList.remove('bg-green-600', 'hover:bg-green-700');
            completionButton.classList.add('bg-gray-400');
            updateTime();
            integratedCompletionTimer = setInterval(updateTime, 1000);
        }
        // Old logic in enableCompletionButton:
        /*
                    completionButton.onclick = () => {
                        if (confirm("Are you sure you want to finish the course and generate your certificate? This action cannot be undone.")) {
                            // ... loading screen ...
                            generateAndSaveCertificateAndRedirect(currentLearningUserId, currentLearningCourseId);
                        }
                    };
        */

        // New logic for enableCompletionButton (Requires minor async update to check):
        async function enableCompletionButton() {
            let remainingSeconds = MINIMUM_TIME_SECONDS;
            const completionButton = document.getElementById('integrated-completion-button');
            const courseId = currentLearningCourseId;
            const userId = currentLearningUserId;

            // 1. Initial Check: If already certified, set button to disabled status and exit.
            // This check is good but needs to be performed on fresh data (handled by fetch in onclick)
            await fetchUserData(true);
            const isCertified = certificates.some(c => c.userId === userId && c.courseId === courseId);

            if (isCertified) {
                completionButton.textContent = "Certified! View Certificate üèÜ";
                completionButton.disabled = false;
                completionButton.classList.remove('bg-green-600', 'txt-color:black',
                    'hover:bg-green-700', 'bg-gray-400');
                completionButton.classList.add('bg-yellow-500');
                completionButton.onclick = () => showCertificates();
                return;

            }

            // 2. Button setup for first completion
            completionButton.textContent = "Finish Course & Get Certificate üèÜ";
            completionButton.disabled = false;
            completionButton.classList.remove('bg-gray-400');
            completionButton.classList.add('bg-green-600', 'hover:bg-green-700');

            completionButton.onclick = async () => {
                // *** CRITICAL FIX 1: IMMEDIATELY DISABLE THE BUTTON UPON FIRST CLICK ***
                completionButton.disabled = true;
                completionButton.textContent = "Processing...";
                completionButton.classList.remove('bg-green-600');
                completionButton.classList.add('bg-gray-400');

                try {
                    // Re-fetch data inside the click handler for the most current state (Race condition protection)
                    await fetchUserData(true);
                    const alreadyCertified = certificates.some(c => c.userId === userId && c.courseId === courseId);

                    if (alreadyCertified) {
                        alert("Certificate is already generated for this course. Redirecting to your certificates.");
                        endLearningSession();
                        showCertificates();
                        return;
                    }

                    if (confirm("Are you sure you want to finish the course and generate your certificate? This action cannot be undone.")) {

                        // *** CRITICAL FIX 2: SHOW VISUAL LOADER AND GLOBAL LOADER ***
                        document.getElementById('integrated-loading-screen').style.display = 'flex';
                        document.getElementById('integrated-loading-screen').style.opacity = 1;
                        document.getElementById('integrated-loading-screen').innerHTML = `
                    <h1 class="text-3xl font-bold text-green-600 mb-4">Course Completed!</h1>
                    <p class="text-gray-700">Generating your official certificate...</p>
                    <div class="lds-ring" style="margin-top:20px"><div></div><div></div><div></div><div></div></div>
                `;
                        showLoader(); // Show the global "Authenticating" loader

                        await generateAndSaveCertificateAndRedirect(currentLearningUserId, currentLearningCourseId);
                    } else {
                        // If the user cancels the confirmation, re-enable the button
                        enableCompletionButton();
                    }
                } catch (e) {
                    console.error("Certificate generation failed:", e);
                    alert("An error occurred during certificate generation. Please try again.");
                    // Ensure button is restored if an error occurs before final redirection
                    enableCompletionButton();
                    hideLoader();
                }
            };
        }

        function endLearningSession() {
            if (integratedCompletionTimer) clearInterval(integratedCompletionTimer);
            document.getElementById('integrated-course-iframe').src = 'about:blank';
            document.getElementById('course-wrapper').style.display = 'none';

            currentLearningUserId = null;
            currentLearningCourseId = null;

            hideLoader();
            showDashboard();
        }

        // *** END SCREEN NAVIGATION ***




        // **************************************************
        // *** 2. CORE CERTIFICATE LOGIC ***
        // **************************************************

        async function generateAndSaveCertificate(uid, courseId) {
            try {
                if (!firebase || !firebase.database) throw new Error('Firebase not available');

                await fetchUserData(true);

                const user = users.find(u => u.uid === uid) || {};
                const course = courses.find(c => c.id === courseId);

                if (!user || !course) throw new Error('User or Course data missing for certificate generation.');

                const existingCert = certificates.find(c => c.userId === uid && c.courseId === courseId);
                if (existingCert) {
                    console.warn(`Certificate already exists for user ${uid} and course ${courseId}. Skipping generation.`);
                    return existingCert;
                }

                const userEnrollment = user.enrolled_courses ? user.enrolled_courses[courseId] : {};
                const completed = course.curriculum ? course.curriculum.length : 10;
                const total = completed;

                const counterRef = firebase.database().ref('/meta/certificateCounter');
                const counterResult = await counterRef.transaction(current => (current || 0) + 1);
                const count = (counterResult.snapshot && counterResult.snapshot.val()) || 1;
                const refNo = 'PROG' + String(count).padStart(2, '0');

                const dateIssued = new Date();
                const certName = user.name || 'Student Name';

                const certObj = {
                    name: certName,
                    userId: uid,
                    courseId: courseId,
                    courseTitle: course.title,
                    completedModules: completed,
                    totalModules: total,
                    refNo: refNo,
                    dateIssued: dateIssued.toISOString(),
                    dateDisplay: (function (d) {
                        const dd = String(d.getDate()).padStart(2, '0');
                        const mm = String(d.getMonth() + 1).padStart(2, '0');
                        return dd + '.' + mm + '.' + d.getFullYear();
                    })(dateIssued),
                    id: refNo
                };

                await firebase.database().ref(`certificates/${refNo}`).set(certObj);
                certificates.push(certObj);

                return certObj;
            } catch (err) {
                console.error('generateAndSaveCertificate error', err);
                throw err;
            }
        }

        async function generateAndSaveCertificateAndRedirect(uid, courseId) {
            try {
                await fetchUserData(true);

                const userToCertify = users.find(u => u.uid === uid);

                if (!userToCertify) {
                    hideLoader();
                    console.error("CERT GENERATION ERROR: User data not found locally after refresh for UID:", uid);
                    throw new Error("User data is unavailable for certificate generation.");
                }

                const existingCert = certificates.find(c => c.userId === uid && c.courseId === courseId);

                if (existingCert) {
                    hideLoader();
                    alert(`Certificate for ${existingCert.courseTitle} already exists. Redirecting to Certificates page.`);
                    await fetchUserData();
                    // --- FIX 2: If cert exists, show the existing certificate screen ---
                    showCertificateScreen(existingCert);
                    return;
                }

                // Proceed with generation only if it doesn't exist
                const certObj = await generateAndSaveCertificate(uid, courseId);

                // Update user's progress (set day to total for completion)
                const total = certObj.totalModules;
                await database.ref(`edupro_users/${uid}/enrolled_courses/${courseId}/day`).set(total);

                // Re-fetch ALL data including the newly created certificate
                await fetchUserData();

                hideLoader();
                alert(`Congratulations! Certificate ${certObj.refNo} generated for ${certObj.courseTitle}.`);

                // --- CRITICAL FIX 3: Pass the certificate object to the final screen ---
                // We use the object from the local 'certificates' array now that it's updated
                const newCert = certificates.find(c => c.refNo === certObj.refNo);
                showCertificateScreen(newCert);
                // ---------------------------------------------------------------------

            } catch (error) {
                console.error("Certificate Generation/Redirect Failed at final step:", error);

                hideLoader();
                alert("CRITICAL ERROR: Certificate failed to generate or save. Please check console for details. Redirecting to dashboard.");
                showDashboard();
            }
        }

        function renderCertificate(certData) {
            if (!certData) return;
            const container = document.getElementById('certificate-content');
            if (!container) return;

            const course = courses.find(c => c.id === certData.courseId) || {};
            const userName = certData.name || 'Student Name';
            const completed = certData.completedModules || 10;
            const total = certData.totalModules || 10;
            const refNo = certData.refNo || 'PROG00';
            const dateDisplay = certData.dateDisplay || (new Date().toISOString().split('T')[0]);

            // Base64 SVGs/Images (Placeholders - restore original data here for PDF/PNG download to work)
            const companyLogoSVG = 'data:image/png;base64,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';
            const aicteLogoSVG = 'data:image/jpeg;base64,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';
            const msmeogoSVG = 'data:image/jpeg;base64,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';
            const optimLogoSVG = 'data:image/jpeg;base64,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';
            const sealSVG = 'https://imgs.search.brave.com/T3T4opZsLqx-i0-8a20VuW1hVqirUKbObcH4BU7ZyaU/rs:fit:500:0:1:0/g:ce/aHR0cHM6Ly9wcm9n/bWFzdGVyLmluL3Jv/dW5kJTIwcHJvZ21h/c3Rlci5qcGc';
            const signatureSVG_1 = 'data:image/png;base64,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';
            const signatureSVG_2 = 'data:image/png;base64,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';


            container.setAttribute('data-course-id', certData.courseId || '');
            container.setAttribute('data-course-title', course.title || certData.courseTitle || '');
            container.setAttribute('data-user-name', userName || '');
            container.setAttribute('data-ref', refNo);

            container.innerHTML = `
                <div style="padding:10px;">
                <div class="certificate-inner-content" style="width:100%;background:linear-gradient(180deg,#fff,#fcf9f8);border-radius:12px;padding:28px;font-family: 'Merriweather', serif;">
                    
                    <div style="display:flex;justify-content:space-between;align-items:center;">
                    <div style="display:flex;align-items:center;gap:16px">
                        <div style="width:96px;height:96px;border-radius:12px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;">
                        <img src="${companyLogoSVG}" alt="Company Logo" style="width:100%;height:100%;object-fit:cover;">
                        </div>
                        <div>
                        <div style="font-size:20px;color:#6a1b1b;font-weight:900">ProgMaster Pvt Ltd</div>
                        <div style="color:#6b6b6b;margin-top:6px">is proud to certify</div>
                        </div>
                    </div>
                    <div style="text-align:right;color:#6b6b6b;font-size:13px">
                        <img src="${optimLogoSVG}" alt="AICTE Logo" style="width:96px;height:96px;object-fit:cover;border-radius:12px;">
                    </div>
                             
                    </div>

                    <div style="text-align:center;margin-top:20px">
                    <div style="font-size:30px;color:#6a1b1b;font-weight:900;letter-spacing:2px">COURSE COMPLETION CERTIFICATE</div>
                    <div style="margin-top:8px;color:#6b6b6b">This Certificate Is Proudly Presented To</div>
                    <div style="font-size:36px;color:#6a1b1b;font-weight:800;margin-top:12px">${(userName || '').toUpperCase()}</div>
                    <div style="height:2px;background:linear-gradient(90deg,#6a1b1b,#a64b4b);margin:18px auto;width:80%;border-radius:2px"></div>
                    <div style="max-width:760px;margin:0 auto;color:#575757">
                        For successfully completing the
                        <strong style="color:#222">${course.title || certData.courseTitle || 'Web Development'}</strong> course at <strong style="color:#222">PROGMASTER PRIVATE LIMITED</strong>
                    </div>
                    </div>

                    <div style="display:flex;justify-content:space-between;margin-top:28px;padding:0 12px;color:#444">
                    <div>
                        <div style="font-size:12px;color:#6b6b6b">Course Progress</div>
                        <div style="font-weight:700;margin-top:6px">${completed}/${total}</div>
                    </div>
                    <div style="text-align:center">
                        <div style="font-size:12px;color:#6b6b6b">Course Points (Fixed)</div>
                        <div style="font-weight:700;margin-top:6px">100/100</div>
                    </div>
                    <div style="text-align:center">
                        <div style="font-size:12px;color:#6b6b6b">Reference Number</div>
                        <div style="font-weight:700;margin-top:6px">${refNo}</div>
                    </div>
                    <div style="text-align:right">
                        <div style="font-size:12px;color:#6b6b6b">Date Of Issue</div>
                        <div style="font-weight:700;margin-top:6px">${dateDisplay}</div>
                    </div>
                    </div>

                    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:36px;padding:0 12px">
                    <div style="text-align:center">
                        <img src="${signatureSVG_1}" alt="Director Sign" style="position:relative; top:1em; height:50px;width:150px;">
                        <div style="font-weight:700;color:#222;margin-top:4px;border-top:1px solid #6a1b1b;">Kandheri Purushotham</div>
                        <div style="font-size:12px;color:#6b6b6b">Director</div>
                    </div>
                          <div style="text-align:right;color:#6b6b6b;font-size:13px">
                        <img src="${aicteLogoSVG}" alt="AICTE Logo" style="width:96px;height:96px;object-fit:cover;border-radius:12px;">
                    </div>       
                    <div style="text-align:center">
                        <img src="${sealSVG}" alt="Authorized Seal" style="width:100px;height:100px;margin:0 auto;border-radius:999px;">
                        <div style="font-size:12px;color:#6b6b6b">Authorized Seal</div>
                    </div>
                      <div style="text-align:right;color:#6b6b6b;font-size:13px">
                        <img src="${msmeogoSVG}" alt="AICTE Logo" style="width:96px;height:96px;object-fit:cover;border-radius:12px;">
                    </div>
                    <div style="text-align:center">
                        <img src="${signatureSVG_2}" alt="Signature Samuel Runittu" style="position:relative; top:1em; height:50px;width:150px">
                        <div style="font-weight:700;color:#222;margin-top:4px;border-top:1px solid #6a1b1b;">Fahad Khalique</div>
                        <div style="font-size:12px;color:#6b6b6b">Lead Instructor</div>
                    </div>
                    </div>

                </div>
                </div>
            `;
        }


        // **************************************************
        // *** 3. CORE APPLICATION LOGIC ***
        // **************************************************

        function handlePagination(direction) {
            if (direction === 'next') {
                currentPage++;
            } else if (direction === 'prev' && currentPage > 1) {
                currentPage--;
            }
            renderAdminStudentTable();
        }

        function initializeUI() {
            fetchUserData(true).then(() => {
                // --- CRITICAL FIX: Add event listeners to log time on close/navigate ---
                window.addEventListener('beforeunload', logSessionDuration);

                auth.onAuthStateChanged((user) => {
                    if (user) {
                        if (user.email === ADMIN_EMAIL && user.uid === 'admin-mock-uid') { } else {
                            currentUserId = user.uid;
                            startSessionTimer(); // <-- START TIMER HERE
                            fetchUserData().then(() => {
                                updateNav(true, false);
                                if (document.getElementById('welcome-screen').style.display !== 'none' ||
                                    document.getElementById('login-form').style.display !== 'none' ||
                                    document.getElementById('register-form').style.display !== 'none'
                                ) {
                                    if (document.getElementById('certificate-screen').style.display === 'none') {
                                        hideLoader();
                                        showDashboard();
                                    }
                                }
                            });
                        }
                    } else {
                        currentUserId = null;
                        currentUser = null;
                        logSessionDuration(); // <-- LOG DURATION ON LOGOUT
                        updateNav(false, isAdminLoggedIn);
                        if (!isAdminLoggedIn) {
                            if (document.getElementById('dashboard-screen').style.display === 'block' ||
                                document.getElementById('profile-screen').style.display === 'block' ||
                                document.getElementById('certificates-screen').style.display === 'block' ||
                                document.getElementById('my-account-screen').style.display === 'block' ||
                                document.getElementById('course-wrapper').style.display === 'flex'
                            ) {
                                showWelcomeScreen();
                            }
                        }
                    }
                });

                loadPopularCourses();
            });
        }

        async function fetchUserData(loadCoursesData = false) {
            try {
                if (loadCoursesData) {
                    const courseSnapshot = await database.ref('edupro_courses').once('value');
                    const dbCourses = courseSnapshot.val();

                    if (dbCourses && Array.isArray(dbCourses) && dbCourses.length > 0) {
                        courses = dbCourses;
                        loadPopularCourses();
                    }
                }

                const userSnapshot = await database.ref('edupro_users').once('value');
                users = userSnapshot.val() ? Object.keys(userSnapshot.val()).map(uid => ({
                    uid,
                    ...userSnapshot.val()[uid]
                })) : [];
                currentUser = users.find(u => u.uid === currentUserId);

                const certificateSnapshot = await database.ref('certificates').once('value');
                certificates = certificateSnapshot.val() ? Object.values(certificateSnapshot.val()) : [];

                const notificationSnapshot = await database.ref('edupro_notifications').once('value');
                const rawNotification = notificationSnapshot.val();
                const tenDaysAgo = Date.now() - (10 * 24 * 60 * 60 * 1000);
                if (rawNotification && rawNotification.timestamp < tenDaysAgo) {
                    await database.ref('edupro_notifications').remove();
                    globalNotification = null;
                } else {
                    globalNotification = rawNotification;
                }
                const currentGlobalNotificationEl = document.getElementById('current-global-notification');

                if (globalNotification && currentGlobalNotificationEl) {
                    currentGlobalNotificationEl.textContent = globalNotification.message;
                } else if (currentGlobalNotificationEl) {
                    currentGlobalNotificationEl.textContent = 'None (Cleared)';
                }
            } catch (error) {
                console.error("Error fetching data:", error);
            }
        }

        // **************************************************
        // *** 4. AUTH & DB HANDLERS ***
        // **************************************************

        async function handleAdminLogin(event) {
            event.preventDefault();
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;

            if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
                isAdminLoggedIn = true;
                updateNav(false, true);
                showAdminDashboard();
            } else {
                alert("Invalid Admin Credentials.");
            }
        }

        function adminLogout() {
            isAdminLoggedIn = false;
            updateNav(false, false);
            showWelcomeScreen();
        }

        async function handleLogin(event) {
            showLoader();
            event.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            try {
                await fetchUserData();
                const userToLogin = users.find(u => u.email === email);

                if (userToLogin && userToLogin.disabled === true) {
                    alert("Account is temporarily disabled by the administrator. Please contact support.");
                    return;
                }

                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                if (userCredential.user.uid) {
                    database.ref(`edupro_users/${userCredential.user.uid}/last_active`).set(Date.now());
                }
            } catch (error) {
                alert(`Login Failed: ${error.message}`);
            }
        }

        async function handleRegister(event) {
            showLoader();
            event.preventDefault();
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const phone = document.getElementById('register-phone').value;
            const password = document.getElementById('register-password').value;

            try {
                const nameWarning = `
                    ‚ö†Ô∏è WARNING ‚ö†Ô∏è
                    The name provided ("${name}") will be used EXCLUSIVELY for your official certificate.
                    It cannot be changed later. 
                    
                    Click OK to confirm your name and continue registration.
                `;
                if (!window.confirm || !window.confirm(nameWarning)) {
                    alert(nameWarning + "\nRegistration CANCELLED.");
                    return;
                }

                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                const uid = userCredential.user.uid;

                await database.ref('edupro_users/' + uid).set({
                    name: name,
                    email: email,
                    phone: phone,
                    joined: new Date().toISOString().split('T')[0],
                    disabled: false,
                    last_active: Date.now(),
                    last_notification_check: 0
                });

            } catch (error) {
                alert(`Registration Failed: ${error.message}`);
            }
        }

        function logout() {
            if (currentUserId) {
                database.ref(`edupro_users/${currentUserId}/last_active`).set(Date.now());
            }
            logSessionDuration(); // <-- LOG DURATION ON LOGOUT BUTTON CLICK
            auth.signOut();
            showWelcomeScreen();
        }

        // Existing initiatePayment function (for single courses)
        async function initiatePayment(courseId) {
            if (!currentUserId) return showLogin();
            if (!currentUser) await fetchUserData();

            const course = courses.find(c => c.id === courseId);
            const userEnrollment = currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;

            if (userEnrollment && userEnrollment.status === true) {
                alert(`You are already enrolled and the ${course.title} course is ACTIVE!`);
                return;
            }

            if (userEnrollment && userEnrollment.status === false) {
                window.open(PAYMENT_LINK, '_blank');
                alert("Your enrollment is already PENDING confirmation. Redirecting to payment portal again.");
                return;
            }

            try {
                showLoader('Initiating enrollment...');
                // Set status to PENDING (false) in Firebase
                await database.ref(`edupro_users/${currentUserId}/enrolled_courses/${courseId}`).set({
                    courseName: course.title,
                    status: false,
                    enrollDate: new Date().toISOString().split('T')[0],
                    day: 1
                });

                window.open(PAYMENT_LINK, '_blank');
                alert(`Enrollment initiated for ${course.title}! Redirecting to payment portal. Status is now 'Pending Confirmation'.`);

                await fetchUserData();
                showCourseDetail(courseId); // Update course detail screen status

            } catch (error) {
                alert(`Failed to initiate enrollment: ${error.message}`);
            } finally {
                hideLoader();
            }
        }

        // NEW: initiateSubscriptionPayment function
        async function initiateSubscriptionPayment() {
            if (!currentUserId) return showLogin();
            if (!currentUser) await fetchUserData();

            // Check if user already has a pending or active subscription
            const userEnrollment = currentUser.enrolled_courses ? currentUser.enrolled_courses[SUBSCRIPTION_ID] : null;

            if (userEnrollment && userEnrollment.status === true) {
                alert("You are already enrolled in the SUBSCRIPTION (All Access) and it is ACTIVE!");
                return;
            }

            // Reuse existing logic for pending enrollment
            if (userEnrollment && userEnrollment.status === false) {
                window.open(SUBSCRIPTION_PAYMENT_LINK, '_blank'); // NOW USES NEW CONSTANT
                alert("Your SUBSCRIPTION enrollment is already PENDING confirmation. Redirecting to payment portal again.");
                return;
            }

            // Set status to PENDING (false) in Firebase for the subscription
            try {
                // REQUIRED STEP: Give a status "Wait you are subscritpion is under verfication"
                showLoader('Wait: Your subscription is under verification');

                // REQUIRED STEP: Mention SUBSCRITPION word instead of course name
                await database.ref(`edupro_users/${currentUserId}/enrolled_courses/${SUBSCRIPTION_ID}`).set({
                    courseName: 'SUBSCRIPTION',
                    status: false, // PENDING (under verification)
                    enrollDate: new Date().toISOString().split('T')[0],
                    paymentAmount: SUBSCRIPTION_PRICE
                });

                // REQUIRED STEP: Redirect to Razorpay payment page
                // REQUIRED STEP: Redirect to Razorpay payment page
                window.open(SUBSCRIPTION_PAYMENT_LINK, '_blank'); // NOW USES NEW CONSTANT
                alert("Subscription initiated! Redirecting to payment portal. Status is now 'Pending Verification' on your Dashboard.");
                // ...
                await fetchUserData();
                showDashboard();

            } catch (error) {
                alert(`Failed to initiate subscription: ${error.message}`);
            } finally {
                hideLoader();
            }
        }




        async function deleteUserPermanently(userId) {
            if (!isAdminLoggedIn) return;
            const userToDelete = users.find(u => u.uid === userId);
            if (!userToDelete) return;

            if (confirm(`ARE YOU SURE you want to permanently delete ALL data for user: ${userToDelete.name} (${userToDelete.email})? This action cannot be undone and will not be logged out in a real application!`)) {
                try {
                    await database.ref(`edupro_users/${userId}`).remove();

                    certificates.filter(c => c.userId === userId).forEach(async (cert) => {
                        await database.ref(`certificates/${cert.id}`).remove();
                    });

                    await fetchUserData();
                    renderAdminDashboard();
                    closeAdminUserDetails();
                    alert(`User ${userToDelete.name} and all associated data have been permanently deleted.`);

                } catch (error) {
                    console.error("Error deleting user:", error);
                    alert(`Failed to delete user: ${error.message}`);
                }
            }
        }

        async function toggleUserDisableStatus(userId) {
            if (!isAdminLoggedIn) return;
            const userToToggle = users.find(u => u.uid === userId);
            if (!userToToggle) return;

            const currentDisabledStatus = userToToggle.disabled || false;
            const newDisabledStatus = !currentDisabledStatus;

            try {
                await database.ref(`edupro_users/${userId}/disabled`).set(newDisabledStatus);

                await fetchUserData();
                renderAdminDashboard();
                showAdminUserDetails(userId);

                alert(`User ${userToToggle.name}'s account status changed to: ${newDisabledStatus ? 'DISABLED (Cannot Log In)' : 'ENABLED (Can Log In)'}`);

            } catch (error) {
                console.error("Error toggling disable status:", error);
                alert(`Failed to change disable status: ${error.message}`);
            }
        }


        // **************************************************
        // *** 5. RENDER FUNCTIONS (STUDENT) ***
        // **************************************************

        function renderCourseCard(course) {
            const userEnrollment = currentUser && currentUser.enrolled_courses ? currentUser.enrolled_courses[course.id] : null;
            const isEnrolled = userEnrollment && userEnrollment.status === true;
            const isPending = userEnrollment && userEnrollment.status === false;
            const isNotEnrolled = !userEnrollment;
            const isCertified = certificates.some(c => c.userId === currentUserId && c.courseId === course.id);


            let cardClasses = 'shadow-lg';
            let buttonText = 'View Details';

            if (currentUser) {
                if (isCertified) {
                    cardClasses = 'border-4 border-yellow-500 shadow-xl';
                    buttonText = 'View Certificate üèÜ';
                } else if (isEnrolled) {
                    cardClasses = 'border-4 border-green-500 shadow-xl';
                    buttonText = 'Open Course';
                } else if (isPending) {
                    cardClasses = 'border-4 border-orange-500 shadow-xl';
                    buttonText = 'Awaiting Confirmation';
                } else if (isNotEnrolled) {
                    buttonText = 'Enroll Now';
                }
            }

            return `
                <div class="card-hover bg-white p-6 rounded-xl ${cardClasses}">
                    <div class="text-3xl mb-3">${course.icon}</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${course.title}</h3>
                    <p class="text-gray-600 mb-4">${course.description}</p>
                    <div class="flex justify-between text-sm text-gray-500 mb-4">
                        <span>Level: ${course.level}</span>
                        <span>Duration: ${course.duration}</span>
                    </div>
                    <div class="flex items-center space-x-1 text-yellow-500 mb-4">
                        ${'‚òÖ'.repeat(Math.floor(course.rating))}
                        ${course.rating % 1 !== 0 ? '‚òÜ' : ''}
                        <span class="text-gray-600 ml-1">(${course.students} enrolled)</span>
                    </div>
                    <button onclick="showCourseDetail('${course.id}')" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors">
                        ${buttonText}
                    </button>
                </div>
            `;
        }

        function loadPopularCourses() {
            const container = document.getElementById('popular-courses-preview');
            const popularCourses = courses.slice(0, 3);
            container.innerHTML = popularCourses.map(renderCourseCard).join('');
        }

        function renderCourseList(filteredCourses) {
            const container = document.getElementById('courses-container');
            container.innerHTML = filteredCourses.map(renderCourseCard).join('');
        }

        function filterCourses(category) {
            let filtered = courses;
            if (category !== 'all') {
                filtered = courses.filter(course => course.category === category);
            }
            renderCourseList(filtered);
            resetFilterButtons(category);
        }

        function resetFilterButtons(activeCategory) {
            document.querySelectorAll('.language-filter').forEach(btn => {
                btn.classList.remove('active');
            });
            const activeBtn = document.querySelector(`.language-filter[onclick="filterCourses('${activeCategory}')"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
        }
        async function showCourseDetail(courseId) {
            const course = courses.find(c => c.id === courseId);
            if (!course) return;

            hideAllScreens();
            document.getElementById('course-detail').style.display = 'block';
            const container = document.getElementById('course-detail-content');
            container.setAttribute('data-course-id', courseId);

            const userEnrollment = currentUser && currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;
            const isEnrolled = userEnrollment && userEnrollment.status === true;
            const isPending = userEnrollment && userEnrollment.status === false;
            const isNotEnrolled = !currentUser || !userEnrollment;
            const currentDay = userEnrollment ? userEnrollment.day : 1;
            const isCertified = certificates.some(c => c.userId === currentUserId && c.courseId === courseId);

            const totalDays = course.curriculum ? course.curriculum.length : 10;
            const curriculumPreviewHTML = course.curriculum ? course.curriculum.slice(0, 6).map(item => {
                const itemTitle = typeof item === 'object' && item.title ? item.title : 'Module';
                return `<li class="flex items-center"><svg class="w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg> ${itemTitle}</li>`;
            }).join('') : `<li><svg class="w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg> Modules TBD</li>`;

            const fullCurriculumHTML = course.curriculum ? course.curriculum.map((item, index) => {
                const day = index + 1;
                const dayTitle = typeof item === 'object' && item.title ? item.title : `Day ${day} Content`;

                const completed = isEnrolled && day < currentDay;
                const current = isEnrolled && day === currentDay;
                const statusIcon = completed ? '‚úÖ' : current ? 'üî•' : 'üîí';
                const statusColor = completed ? 'text-green-600' : current ? 'text-red-500' : 'text-gray-500';
                const isLockedVisual = !isEnrolled || (isEnrolled && day > currentDay);


                return `
                    <li class="p-4 border-b last:border-b-0 flex items-center justify-between ${isLockedVisual ? 'opacity-50' : ''}">
                        <span class="font-medium flex items-center">Day ${day}: ${dayTitle}</span>
                        <span class="${statusColor}">${statusIcon}</span>
                    </li>
                `;
            }).join('') : `<li class="p-4 text-gray-500 text-center">Curriculum details coming soon.</li>`;


            let actionButton;
            let enrollmentMessage;


            if (isCertified) {
                const certData = certificates.find(c => c.userId === currentUserId && c.courseId === courseId);
                actionButton = `<div class="space-y-3">
                        <button onclick="openExistingCertificate(certData)" class="w-full bg-yellow-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-yellow-700 transition-colors">
                            View Certificate üèÜ
                        </button>
                        <button onclick="startLearning('${course.id}')" class="w-full bg-indigo-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors">
                            Open Course (Completed)
                        </button>
                    </div>`;
                enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">You have successfully completed this course and earned your certificate.</p>`;
            } else if (isEnrolled) {
                actionButton = `<button onclick="startLearning('${course.id}')" class="w-full bg-green-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-green-700 transition-colors">
                    Continue Learning (Day ${currentDay})
                </button>`;
                enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">You have full, lifetime access to this course.</p>`;

            } else if (isPending) {
                actionButton = `<div class="p-4 bg-orange-100 border border-orange-400 rounded-lg text-orange-800">
                    <p class="font-semibold mb-2">Enrollment is **PENDING** admin confirmation.</p>
                    <p class="text-sm">Please allow time for processing. Your status: <span class="font-bold">LOCKED (FALSE)</span></p>
                </div>`;
                enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">Check My Courses for status updates. <button onclick="window.open(PAYMENT_LINK, '_blank')" class="text-indigo-600 underline">View Payment Portal</button></p>`;

            } else if (isNotEnrolled && currentUser) {
                actionButton = `<button onclick="initiatePayment('${course.id}')" class="w-full bg-indigo-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors shadow-xl">
                    Enroll Now - Pay Now
                </button>`;
                enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">Clicking above initiates enrollment (sets status to FALSE) and opens the payment portal.</p>`;

            } else {
                actionButton = `<button onclick="showLogin()" class="w-full bg-indigo-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors shadow-xl">
                    Sign In to Enroll
                </button>`;
                enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">You must be logged in to enroll in this course.</p>`;
            }


            const html = `
                <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden p-8">
                    <div class="md:flex md:space-x-8">
                        <div class="md:w-2/3">
                            <h2 class="text-5xl font-extrabold text-gray-900 mb-3">${course.icon} ${course.title}</h2>
                            <p class="text-xl text-gray-600 mb-6">${course.description}</p>

                            <div class="flex items-center space-x-6 text-gray-700 mb-8">
                                <span class="flex items-center">
                                    <svg class="w-5 h-5 mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a5 5 0 00-5 5c0 1.05.176 2.05.51 3L10 16l4.49-3A5 5 0 0015 10a5 5 0 00-5-5z" clip-rule="evenodd"/></svg>
                                    ${course.level}
                                </span>
                                <span class="flex items-center">
                                    <svg class="w-5 h-5 mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"/></svg>
                                    ${course.duration}
                                </span>
                                <span class="flex items-center text-yellow-500">
                                    ${'‚òÖ'.repeat(Math.floor(course.rating))}
                                    <span class="text-gray-600 ml-1">(${course.rating})</span>
                                </span>
                            </div>

                            <h3 class="text-3xl font-bold text-gray-800 mb-4">What you will learn (Preview):</h3>
                            <ul class="grid grid-cols-2 gap-4 text-gray-700">
                                ${curriculumPreviewHTML}
                            </ul>
                        </div>

                        <div class="md:w-1/3 mt-8 md:mt-0">
                            <div class="bg-gray-50 p-6 rounded-xl shadow-inner sticky top-24">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Course Access</h3>
                                <p class="text-3xl font-extrabold text-indigo-600 mb-6">Course Fee: FREE*</p>
                                ${actionButton}
                                ${enrollmentMessage}
                            </div>
                        </div>
                    </div>

                    <div class="mt-12 pt-8 border-t border-gray-200">
                        <h3 class="text-3xl font-bold text-gray-800 mb-6">Full Curriculum (${totalDays} Days)</h3>
                        <ul class="bg-white border rounded-xl shadow-lg divide-y divide-gray-100">
                            ${fullCurriculumHTML}
                        </ul>
                    </div>
                </div>
            `;
            container.innerHTML = html;
        }

        function renderProfileCourses() {
            const container = document.getElementById('enrolled-courses');
            container.innerHTML = '';

            if (!currentUser || !currentUser.enrolled_courses) {
                container.innerHTML = `<p class="text-gray-500 py-8">You are not currently enrolled in any courses. <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">Browse courses</button> to get started!</p>`;
                return;
            }

            const enrolledCourses = currentUser.enrolled_courses;
            const enrolledCourseIds = Object.keys(enrolledCourses);
            const userCertificates = certificates.filter(c => c.userId === currentUserId);
            const activeEnrollments = enrolledCourseIds.filter(id => enrolledCourses[id].status === true || enrolledCourses[id].status === false);


            if (activeEnrollments.length === 0) {
                container.innerHTML = `<p class="text-gray-500 py-8">You are not currently enrolled in any courses. <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">Browse courses</button> to get started!</p>`;
                return;
            }

            activeEnrollments.forEach(courseId => {
                const course = courses.find(c => c.id === courseId);
                const enrollment = enrolledCourses[courseId];

                if (course && enrollment) {
                    const isEnrolled = enrollment.status === true;
                    const isPending = enrollment.status === false;

                    let actionButton;
                    let statusTag;
                    let cardClasses = 'border-t-4';
                    const hasCertificate = userCertificates.some(c => c.courseId === courseId);
                    const totalDays = course.curriculum ? course.curriculum.length : 10;


                    if (hasCertificate) {
                        const certData = userCertificates.find(c => c.courseId === courseId);
                        cardClasses += ' border-yellow-500';
                        statusTag = `<span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Certified</span>`;

                        // Action buttons for completed course
                        actionButton = `<div class="space-y-2">
                                <button onclick="showCertificateScreen(certificates.find(c => c.courseId === '${courseId}' && c.userId === currentUserId))" class="w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700">View Certificate üèÜ</button>
                                <button onclick="startLearning('${courseId}')" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700">Open Course</button>
                            </div>`;

                    } else if (isEnrolled) {
                        const progress = Math.round((enrollment.day / totalDays) * 100);
                        const isComplete = progress === 100;

                        cardClasses += ' border-green-500';
                        statusTag = `<span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Active</span>`;

                        if (isComplete) {
                            actionButton = `<button onclick="alert('Course completed! Contact admin for certificate issue.')" class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Finished - Get Certificate üéì</button>`;
                        } else {
                            actionButton = `<button onclick="startLearning('${courseId}')" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700">Continue Learning (Day ${enrollment.day})</button>`;
                        }
                    } else if (isPending) {
                        cardClasses += ' border-orange-500';
                        statusTag = `<span class="bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Pending Confirmation</span>`;
                        actionButton = `<button onclick="showCourseDetail('${courseId}')" class="w-full bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700">View Status</button>`;
                    }


                    container.innerHTML += `
                        <div class="card-hover bg-white p-6 rounded-xl shadow-lg w-full sm:w-80 ${cardClasses}">
                            <div class="flex justify-between items-center mb-2">
                                <div class="text-3xl">${course.icon}</div>
                                ${statusTag}
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">${course.title}</h3>
                            <p class="text-sm text-gray-600 mb-4">${course.description}</p>

                            ${isEnrolled && !hasCertificate ? `
                                <div class="mb-4">
                                    <div class="flex justify-between text-sm font-medium text-gray-700">
                                        <span>Progress:</span>
                                        <span>${Math.round((enrollment.day / totalDays) * 100)}%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                                        <div class="progress-bar bg-green-500 h-2.5 rounded-full" style="width: ${Math.round((enrollment.day / totalDays) * 100)}%"></div>
                                    </div>
                                </div>
                            ` : `<div class="h-10 mb-4"></div>`}

                            ${actionButton}
                        </div>
                    `;
                }
            });
        }


        function renderCertificates() {
            const container = document.getElementById('certificates-container');
            container.innerHTML = '';

            const userCertificates = certificates.filter(c => c.userId === currentUserId);

            if (userCertificates.length === 0) {
                container.innerHTML = `<p class="text-gray-500 py-8 text-center w-full">You have not completed any courses yet. Keep learning!</p>`;
                return;
            }

            userCertificates.forEach(cert => {
                const course = courses.find(c => c.id === cert.courseId);
                if (course) {
                    container.innerHTML += `
                        <div class="card-hover bg-white p-6 rounded-xl shadow-lg border-t-4 border-yellow-500 text-center">
                            <div class="text-5xl mb-3">üéì</div>
                            <h3 class="text-xl font-bold text-gray-800 mb-1">${course.title}</h3>
                            <p class="text-gray-600 mb-3">Certificate of Completion</p>
                            <p class="text-sm text-gray-500 mb-4">Awarded on: ${cert.dateDisplay}</p>
                            <button onclick="showCertificateScreen(certificates.find(c => c.id === '${cert.id}'))" class="w-full bg-yellow-500 text-gray-900 py-2 rounded-lg hover:bg-yellow-600 transition-colors font-semibold">
                                View Certificate
                            </button>
                        </div>
                    `;
                }
            });
        }

        // **************************************************
        // *** 5. RENDER FUNCTIONS (STUDENT) - MODIFIED ***
        // **************************************************

        function renderProfileScreen() {
            if (!currentUser || !currentUser.enrolled_courses) return showLogin();
            hideAllScreens();
            document.getElementById('profile-screen').style.display = 'block';
            document.body.style.backgroundColor = '#f3f4f6';

            const container = document.getElementById('enrolled-courses');
            container.innerHTML = '';

            const enrolledCourses = currentUser.enrolled_courses || {};
            const activeEnrollments = Object.keys(enrolledCourses).filter(courseId => enrolledCourses[courseId].status !== 'REVOKED' && enrolledCourses[courseId].status !== 'DELETED');
            const userCertificates = certificates.filter(c => c.userId === currentUserId);

            if (activeEnrollments.length === 0) {
                container.innerHTML = `<p class="text-gray-500 py-8">You are not currently enrolled in any courses. <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">Browse courses</button> to get started!</p>`;
                return;
            }

            activeEnrollments.forEach(courseId => {
                const course = courses.find(c => c.id === courseId);
                const enrollment = enrolledCourses[courseId];

                if (course && enrollment) {
                    const isEnrolled = enrollment.status === true;
                    const isPending = enrollment.status === false;
                    let actionButton;
                    let statusTag;
                    let cardClasses = 'border-t-4';
                    const hasCertificate = userCertificates.some(c => c.courseId === courseId);
                    const totalDays = course.curriculum ? course.curriculum.length : 10;

                    // *** PROGRESS BAR REPLACEMENT LOGIC ***

                    if (hasCertificate) {
                        const certData = userCertificates.find(c => c.courseId === courseId);
                        cardClasses += ' border-yellow-500';
                        statusTag = `<span class="bg-yellow-100 text-yellow-800 text-xs font-semibold px-3 py-1 rounded-full">COMPLETE</span>`; // <<-- CHANGED TO COMPLETE
                        actionButton = `<button onclick="showCertificateScreen(certificates.find(c => c.id === '${certData.id}'))" class="w-full bg-yellow-500 text-gray-900 py-2 rounded-lg hover:bg-yellow-600 transition-colors font-semibold">View Certificate</button>`;
                    } else if (isEnrolled) {
                        // If enrolled and no certificate -> INCOMPLETE
                        cardClasses += ' border-green-500';
                        actionButton = `<button onclick="secureStartLearning('${courseId}')" class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold">Continue Learning</button>`;
                        statusTag = `<span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">INCOMPLETE</span>`; // <<-- CHANGED TO INCOMPLETE
                    } else if (isPending) {
                        cardClasses += ' border-orange-500';
                        statusTag = `<span class="bg-orange-100 text-orange-800 text-xs font-semibold px-3 py-1 rounded-full">Pending Payment</span>`;
                        actionButton = `<button onclick="initiatePayment('${courseId}')" class="w-full bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700 transition-colors font-semibold">Complete Payment</button>`;
                    } else {
                        return; // Should not happen for active enrollment
                    }

                    // Progress Bar HTML is removed by setting it to an empty string.
                    const progressHTML = ``; // <<-- REMOVED PROGRESS BAR HTML

                    container.innerHTML += `
                        <div class="card-hover bg-white p-6 rounded-xl shadow-lg w-full md:w-80">
                            <div class="flex justify-between items-start mb-3">
                                <div class="text-3xl">${course.icon}</div>
                                ${statusTag}
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">${course.title}</h3>
                            <p class="text-gray-600 mb-4">${course.description}</p>
                            <div class="text-sm text-gray-500 mb-4">
                                <span class="font-medium">${course.duration || 'N/A'} | ${course.level || 'N/A'}</span>
                            </div>
                            ${progressHTML}
                            <div class="mt-4">
                                ${actionButton}
                            </div>
                        </div>
                    `;
                }
            });
        }
        function hasActiveSubscription() {
            if (!currentUser || !currentUser.enrolled_courses) return false;

            const sub = currentUser.enrolled_courses["SUBSCRIPTION"];
            return sub && sub.status === true;
        }
        function getEnrolledCourseCount() {
            if (!currentUser || !currentUser.enrolled_courses) return 0;

            return Object.keys(currentUser.enrolled_courses)
                .filter(id => id !== "SUBSCRIPTION")  // exclude subscription
                .length;
        }


        function renderDashboard() {
            if (!currentUser) return;
            document.getElementById('dashboard-user-name').textContent = currentUser.name.split(' ')[0];

            // FEATURE #1: Show Premium Greeting
            const isSubscriber = hasActiveSubscription();
            const premiumGreeting = document.getElementById('premium-greeting');
            if (isSubscriber) {
                premiumGreeting.classList.remove('hidden');
            } else {
                premiumGreeting.classList.add('hidden');
            }


            const userCertificates = certificates.filter(c => c.userId === currentUserId);
            const enrolledCount = getEnrolledCourseCount();
            const completedCount = userCertificates.length;

            // --- Dashboard Metrics Update (Top Cards) ---
            document.getElementById('enrolled-count').textContent = enrolledCount;
            document.getElementById('certificates-count').textContent = completedCount;

            // --- FIX & UPDATE: Sidebar Widget Metrics Update (Focus Metrics) ---
            const sidebarCoursesRemaining = document.getElementById('sidebar-courses-remaining');
            const sidebarLastActive = document.getElementById('sidebar-last-active');

            // Calculate new metrics
            const remaining = getCoursesRemaining();
            // Use timeSince utility function for display
            const lastActiveTime = currentUser.last_active ? timeSince(currentUser.last_active) : "N/A";

            // Update the sidebar widget elements
            if (sidebarCoursesRemaining) sidebarCoursesRemaining.textContent = remaining;
            if (sidebarLastActive) sidebarLastActive.textContent = lastActiveTime;
            // ------------------------------------------


            const enrolledCourses = currentUser.enrolled_courses || {};
            const activeEnrollments = Object.keys(enrolledCourses).filter(courseId => enrolledCourses[courseId].status === true);

            const continueLearningContainer = document.getElementById('continue-learning');
            continueLearningContainer.innerHTML = '';

            const coursesToContinue = [];

            // Filter: Find courses that are active but NOT yet certified.
            activeEnrollments.forEach(courseId => {
                const course = courses.find(c => c.id === courseId);
                const enrollment = enrolledCourses[courseId];

                if (course && enrollment && !userCertificates.some(c => c.courseId === courseId)) {
                    coursesToContinue.push({ course, enrollment });
                }
            });


            if (coursesToContinue.length === 0) {
                if (activeEnrollments.length === 0) {
                    continueLearningContainer.innerHTML = `<p class="text-gray-500 py-8 text-center w-full">You are not currently enrolled in any active courses. <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">Browse courses</button> to get started!</p>`;
                } else {
                    continueLearningContainer.innerHTML = `<p class="text-gray-500 py-8 text-center w-full">You have completed and certified all active courses! View your <button onclick="showCertificates()" class="text-yellow-600 hover:underline font-semibold">certificates</button> or <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">browse new courses</button>.</p>`;
                }
            } else {
                coursesToContinue.forEach(item => {
                    const { course } = item;

                    continueLearningContainer.innerHTML += `
                    <div class="p-4 border rounded-xl bg-gray-50 flex items-center justify-between hover:shadow-md transition-shadow">
                        <div class="flex-grow mr-4">
                            <h4 class="font-semibold text-gray-800">${course.title}</h4>
                            <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">INCOMPLETE</span>
                        </div>
                        <button onclick="secureStartLearning('${course.id}')" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex-shrink-0">
                            Continue
                        </button>
                    </div>`;
                });
            }

            // --- FINAL INTEGRATION: Render all three dynamic graphs ---
            renderStudentDashboardGraph();
            renderPeerComparisonGraph();
            renderWeeklyActivityTrend();
            // --- NEW: Render the Leaderboard ---
            renderLeaderboard();
            // --------------------------------------------------------
        }

        function renderMyAccount() {
            const container = document.getElementById('my-account-details-container');
            container.innerHTML = '';

            if (!currentUser) {
                container.innerHTML = `<p class="text-red-500">Error: User data is not available. Please log in again.</p>`;
                return;
            }

            const DetailRow = (label, value) => `
                <div class="detail-row py-3">
                    <span class="text-sm font-medium text-gray-600">${label}:</span>
                    <span class="text-sm font-semibold text-gray-900">${value}</span>
                </div>
            `;

            const userCertificates = certificates.filter(c => c.userId === currentUserId);
            const enrolledCount = getEnrolledCourseCount();
            const completedCount = userCertificates.length;
            const status = currentUser.disabled ? 'Disabled by Admin' : 'Active';

            container.innerHTML = `
                ${DetailRow('Full Name (Certificate Name)', currentUser.name)}
                 ${DetailRow('Email Address', currentUser.email)}
                     ${DetailRow('Phone Number', currentUser.phone || 'N/A')}
                ${DetailRow('Joined Date', currentUser.joined)}
                <div class="detail-row py-3">
                    <span class="text-sm font-medium text-gray-600">Account Status:</span>
                    <span class="text-sm font-semibold ${currentUser.disabled ? 'text-red-600' : 'text-green-600'}">${status}</span>
                </div>
                ${DetailRow('Total Enrolled Courses', enrolledCount)}
                ${DetailRow('Total Certificates Earned', completedCount)}
            `;
        }

        // **************************************************
        // *** 6. ADMIN DASHBOARD UTILITIES ***
        // **************************************************
        async function toggleCourseStatus(userId, courseId, currentStatus) {
            if (!isAdminLoggedIn) return;

            const newStatus = currentStatus === 'false' ? true : false;
            const isSubscription = courseId === SUBSCRIPTION_ID;

            try {
                // If it's a subscription being approved
                if (isSubscription && newStatus === true) {
                    // REQUIRED STEP: When admin click APROVE then all course acces set to true
                    const allCourseIds = courses.map(c => c.id);
                    const updates = {};

                    // 1. Set the Subscription record status to true
                    updates[`edupro_users/${userId}/enrolled_courses/${SUBSCRIPTION_ID}/status`] = true;

                    // 2. Set all other individual courses to active (status: true)
                    allCourseIds.forEach(id => {
                        updates[`edupro_users/${userId}/enrolled_courses/${id}`] = {
                            courseName: getCourseTitle(id),
                            status: true,
                            enrollDate: new Date().toISOString().split('T')[0],
                            day: 1,
                            isSubscriptionAccess: true
                        };
                    });

                    await database.ref().update(updates);
                    alert(`SUCCESS: SUBCRIPTION for user ${users.find(u => u.uid === userId)?.name} approved. All ${allCourseIds.length} courses are now ACTIVE!`);
                } else {
                    // Existing logic for single course or revoking subscription
                    await database.ref(`edupro_users/${userId}/enrolled_courses/${courseId}/status`).set(newStatus);
                    alert(`Status for ${getCourseTitle(courseId)} for user ${users.find(u => u.uid === userId)?.name} updated to ${newStatus ? 'TRUE (ACTIVE)' : 'FALSE (PENDING/REVOKED)'}`);
                }

                await fetchUserData();
                renderAdminDashboard();

            } catch (error) {
                console.error("Error toggling course status:", error);
                alert(`Failed to update status: ${error.message}`);
            }
        }


        async function sendGlobalNotification(event) {
            event.preventDefault();
            const message = document.getElementById('notification-input').value;
            if (!message) return;

            const notificationData = {
                message: message,
                timestamp: Date.now()
            };

            try {
                // Set the message in the Firebase notifications node
                await database.ref('edupro_notifications').set(notificationData);
                globalNotification = notificationData;
                alert('Notification broadcasted successfully!');
                document.getElementById('notification-input').value = '';
                document.getElementById('current-global-notification').textContent = message;

            } catch (error) {
                console.error('Error sending notification:', error);
                alert('Failed to send notification.');
            }
        }

        function renderAdminDashboard() {
            if (!isAdminLoggedIn) return;
            const distributionData = getCourseEnrollmentDistributionData();
            document.getElementById('metric-total-students').textContent = users.length;
            document.getElementById('metric-total-certificates').textContent = certificates.length;
            document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
            document.getElementById('metric-total-active-users').textContent = distributionData.totalActiveUsers;
            document.getElementById('metric-approvals').textContent = distributionData.totalApprovals;
            document.getElementById('metric-revokes').textContent = distributionData.totalRevokes;
            const ctx = document.getElementById('courseChart').getContext('2d');
            if (courseChartInstance) {
                courseChartInstance.destroy();
            }
            courseChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: distributionData.labels,
                    datasets: [{
                        label: 'Total Enrolled (Active or Pending)',
                        data: distributionData.enrolledData,
                        backgroundColor: 'rgba(59, 130, 246, 0.7)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 1
                    }, {
                        label: 'Certified (Completed)',
                        data: distributionData.certifiedData,
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Students'
                            }
                        }
                    }
                }
            });
            const courseFilter = document.getElementById('admin-course-filter');
            courseFilter.innerHTML = '<option value="all">All Courses</option>';
            courses.forEach(c => {
                const option = document.createElement('option');
                option.value = c.id;
                option.textContent = c.title;
                courseFilter.appendChild(option);
            });
            renderAdminStudentTable();
            document.getElementById('admin-student-search').oninput = renderAdminStudentTable;
            document.getElementById('admin-course-filter').onchange = renderAdminStudentTable;
            document.getElementById('admin-status-filter').onchange = renderAdminStudentTable;
            document.getElementById('admin-online-filter').onchange = renderAdminStudentTable;
        }

        function renderAdminStudentTable() {
            const tableBody = document.getElementById('admin-table-body');
            const noResults = document.getElementById('admin-no-results');
            const nextPageBtn = document.getElementById('next-page-btn');
            const prevPageBtn = document.getElementById('prev-page-btn');
            const paginationInfo = document.getElementById('pagination-info');

            tableBody.innerHTML = '';

            const searchTerm = document.getElementById('admin-student-search').value.toLowerCase();
            const filterCourseId = document.getElementById('admin-course-filter').value;
            const filterStatus = document.getElementById('admin-status-filter').value;
            const filterOnline = document.getElementById('admin-online-filter').value;

            const allEnrollmentRecords = [];
            users.forEach(user => {
                const userEnrollments = user.enrolled_courses || {};
                Object.keys(userEnrollments).forEach(courseId => {
                    allEnrollmentRecords.push({
                        userId: user.uid,
                        userName: user.name,
                        userEmail: user.email,
                        userPhone: user.phone || '',
                        lastActive: user.last_active,
                        joined: user.joined,
                        courseId: courseId,
                        courseTitle: getCourseTitle(courseId),
                        status: userEnrollments[courseId].status
                    });
                });
            });

            const filteredRecords = allEnrollmentRecords.filter(record => {
                if (searchTerm && !record.userName.toLowerCase().includes(searchTerm) && !record.userEmail.toLowerCase().includes(searchTerm) && !record.userPhone.includes(searchTerm)) {
                    return false;
                }
                if (filterCourseId !== 'all' && record.courseId !== filterCourseId) {
                    return false;
                }
                if (filterStatus === 'true' && record.status !== true) {
                    return false;
                }
                if (filterStatus === 'false' && record.status !== false) {
                    return false;
                }
                const isOnline = isUserOnline(record.lastActive);
                if (filterOnline === 'online' && !isOnline) {
                    return false;
                }
                if (filterOnline === 'offline' && isOnline) {
                    return false;
                }

                return true;
            });

            const pendingRecords = filteredRecords.filter(r => r.status === false);
            const activeRecords = filteredRecords.filter(r => r.status === true);

            pendingRecords.sort((a, b) => new Date(a.joined) - new Date(b.joined));
            activeRecords.sort((a, b) => new Date(a.joined) - new Date(b.joined));

            const finalSortedRecords = pendingRecords.concat(activeRecords);
            const totalRecords = finalSortedRecords.length;

            const startIndex = (currentPage - 1) * RECORDS_PER_PAGE;
            const endIndex = Math.min(startIndex + RECORDS_PER_PAGE, totalRecords);
            const recordsToDisplay = finalSortedRecords.slice(startIndex, endIndex);

            paginationInfo.textContent = `Displaying ${totalRecords > 0 ? startIndex + 1 : 0}-${endIndex} of ${totalRecords} records`;
            nextPageBtn.style.display = endIndex < totalRecords ? 'block' : 'none';
            prevPageBtn.style.display = currentPage > 1 ? 'block' : 'none';


            if (recordsToDisplay.length === 0 && totalRecords > 0) {
                currentPage = 1;
                renderAdminStudentTable();
                return;
            } else if (recordsToDisplay.length === 0) {
                noResults.style.display = 'block';
                nextPageBtn.style.display = 'none';
                prevPageBtn.style.display = 'none';
                currentPage = 1;
            } else {
                noResults.style.display = 'none';
                recordsToDisplay.forEach(record => {
                    const statusText = record.status ? 'ACTIVE (TRUE)' : 'PENDING (FALSE)';
                    const statusClass = record.status ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800';

                    const isOnline = isUserOnline(record.lastActive);
                    const onlineStatusTag = isOnline
                        ? `<span class="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Online</span>`
                        : `<span class="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Offline</span>`;

                    let actionButton;

                    if (!record.status) {
                        actionButton = `<button onclick="toggleCourseStatus('${record.userId}', '${record.courseId}', 'false')"
                                             class="bg-blue-600 text-white px-4 py-2 rounded-lg text-xs hover:bg-blue-700 transition-colors">
                                             APPROVE
                                           </button>`;
                    } else {
                        actionButton = `<button onclick="toggleCourseStatus('${record.userId}', '${record.courseId}', 'true')"
                                             class="bg-gray-400 text-white px-4 py-2 rounded-lg text-xs hover:bg-gray-500 transition-colors">
                                             Revoke
                                           </button>`;
                    }

                    const row = `
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${record.userName} ${onlineStatusTag}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${record.userEmail}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600">${record.courseTitle}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm">
                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${statusClass}">
                                    ${statusText}
                                </span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm flex space-x-2">
                                ${actionButton}
                                <button onclick="showAdminUserDetails('${record.userId}')"
                                             class="bg-purple-600 text-white px-4 py-2 rounded-lg text-xs hover:bg-purple-700 transition-colors">
                                             Profile
                                </button>
                            </td>
                        </tr>
                    `;
                    tableBody.innerHTML += row;
                });
            }
        }

        function showAdminUserDetails(userId) {
            if (!isAdminLoggedIn) return;
            const modal = document.getElementById('admin-user-details-modal');
            const user = users.find(u => u.uid === userId);

            if (!user) {
                alert("User data not found.");
                return;
            }

            modal.style.display = 'flex';
            modal.setAttribute('data-user-id', userId);

            const userCertificates = certificates.filter(c => c.userId === userId);
            const enrolledCourses = user.enrolled_courses || {};
            const enrolledCourseIds = Object.keys(enrolledCourses);
            const enrolledCount = enrolledCourseIds.length;
            const completedCount = userCertificates.length;


            const modalUserName = document.getElementById('modal-user-name');
            const infoContainer = document.getElementById('modal-user-info');

            if (modalUserName) modalUserName.textContent = user.name;

            const disableBtn = document.getElementById('disable-user-btn');
            const currentDisabledStatus = user.disabled || false;
            disableBtn.textContent = currentDisabledStatus ? '‚úÖ ENABLE User' : 'üö´ DISABLE User';

            disableBtn.className = `px-4 py-2 rounded-lg text-sm transition-colors flex-1 shadow-md font-semibold ${currentDisabledStatus
                ? 'bg-green-600 hover:bg-green-700 text-white'
                : 'bg-yellow-500 hover:bg-yellow-600 text-gray-900'
                }`;

            const DetailRow = (label, value, colorClass = 'text-gray-900', isMonospace = false) => `
                <div class="detail-row">
                    <span class="text-sm font-medium text-gray-500">${label}:</span>
                    <span class="text-sm font-semibold ${colorClass} ${isMonospace ? 'font-mono text-xs' : ''} break-all">${value}</span>
                </div>
            `;


            infoContainer.innerHTML = `
                ${DetailRow('UID', user.uid, 'text-indigo-700', true)}
                ${DetailRow('Email', user.email)}
                ${DetailRow('Phone', user.phone || 'N/A')}
                ${DetailRow('Joined Date', user.joined)}
                ${DetailRow('Last Active', `${new Date(user.last_active).toLocaleString()} (${isUserOnline(user.last_active) ? 'Online' : 'Offline'})`)}
                ${DetailRow('Enrolled / Certified', `${enrolledCount} / ${completedCount}`, 'text-indigo-600')}
                <div class="p-2 mt-3 rounded-lg text-center font-extrabold ${currentDisabledStatus ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}">
                    ACCOUNT STATUS: ${currentDisabledStatus ? 'DISABLED (Locked)' : 'ENABLED (Active)'}
                </div>
            `;

            const courseListContainer = document.getElementById('modal-course-list');
            courseListContainer.innerHTML = '';

            document.getElementById('modal-enrolled-count').textContent = enrolledCount;

            if (enrolledCourseIds.length === 0) {
                courseListContainer.innerHTML = '<p class="text-gray-500 p-4 text-center bg-gray-100 rounded-lg">No enrollments found for this user.</p>';
            } else {
                enrolledCourseIds.forEach(courseId => {
                    const course = courses.find(c => c.id === courseId);
                    const enrollment = enrolledCourses[courseId];

                    if (course) {
                        const isEnrolled = enrollment.status === true;
                        const statusColor = isEnrolled ? 'bg-green-500 text-white' : 'bg-orange-500 text-white';
                        const statusText = isEnrolled ? 'Active' : 'Pending';
                        const totalDays = course.curriculum ? course.curriculum.length : 10;
                        const progress = Math.round(((enrollment.day || 1) / totalDays) * 100);
                        const isCertified = userCertificates.some(c => c.courseId === courseId);

                        const enrollmentActionButton = isEnrolled
                            ? `<button onclick="toggleCourseStatus('${userId}', '${courseId}', 'true'); showAdminUserDetails('${userId}')" class="bg-gray-400 text-white px-3 py-1 text-xs rounded-lg hover:bg-gray-500 transition-colors shadow-sm font-medium">Revoke</button>`
                            : `<button onclick="toggleCourseStatus('${userId}', '${courseId}', 'false'); showAdminUserDetails('${userId}')" class="bg-blue-600 text-white px-3 py-1 text-xs rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium">Approve</button>`;

                        const certificateButton = isCertified
                            ? `<span class="bg-yellow-500 text-gray-900 px-3 py-1 text-xs font-bold rounded-lg ml-2 shadow-sm">Certified üèÜ</span>`
                            : '';

                        courseListContainer.innerHTML += `
                            <div class="course-item-admin border border-indigo-100 p-4 rounded-xl bg-white shadow-sm">
                                <div class="flex justify-between items-start mb-2">
                                    <h4 class="font-bold text-indigo-700">${course.icon} ${course.title}</h4>
                                    <span class="px-3 py-1 text-xs font-bold rounded-full ${statusColor}">${statusText}</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="progress-bar bg-indigo-500 h-2 rounded-full" style="width: ${progress}%"></div>
                                </div>
                                <div class="flex justify-between items-center text-xs text-gray-600 mt-2 pt-2 border-t border-gray-100">
                                    <span class="font-medium">Day ${enrollment.day || 1} of ${totalDays} (${progress}%)</span>
                                    <div class="flex items-center space-x-2">
                                        ${certificateButton}
                                        ${enrollmentActionButton}
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                });
            }
        }
        // Add this function inside your existing <script> tags:

        async function downloadCurrentCertificate(format) {
            const certContainer = document.getElementById('certificate-content');
            const userName = certContainer.getAttribute('data-user-name') || 'Student';
            const courseTitle = certContainer.getAttribute('data-course-title') || 'Course';
            const refNo = certContainer.getAttribute('data-ref') || 'CERT00';
            const fileName = `${userName.replace(/ /g, '_')}_${courseTitle.replace(/ /g, '_')}_${refNo}.${format.toLowerCase()}`;

            // Temporarily hide the watermark and adjust scaling for better quality
            const watermark = document.querySelector('#certificate-content .watermark');
            if (watermark) watermark.style.display = 'none';

            showLoader(); // Show global loader during processing

            try {
                const canvas = await html2canvas(certContainer, {
                    scale: 2, // Use scale 2 for high resolution output
                    useCORS: true,
                    allowTaint: true,
                    scrollY: -window.scrollY, // Correctly handle scroll position
                    windowWidth: document.documentElement.offsetWidth,
                    windowHeight: document.documentElement.offsetHeight
                });

                const image = canvas.toDataURL(`image/${format.toLowerCase()}`);
                const link = document.createElement('a');

                if (format.toLowerCase() === 'png') {
                    link.href = image;
                    link.download = fileName;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                }

                // Note: The PDF logic needs updating, but the current PDF function is elsewhere.
                // The original PDF function is still in Section 6.
                else if (format.toLowerCase() === 'pdf') {
                    // Re-run the existing PDF logic to ensure it works
                    downloadCertificate('pdf');
                }

            } catch (error) {
                console.error("Error generating certificate image:", error);
                alert("Failed to download certificate. Check browser console for details.");
            } finally {
                // Restore watermark and hide loader
                if (watermark) watermark.style.display = 'block';
                hideLoader();
            }
        }

        function closeAdminUserDetails() {
            document.getElementById('admin-user-details-modal').style.display = 'none';
            document.getElementById('admin-user-details-modal').removeAttribute('data-user-id');
        }

        // **************************************************
        // *** 7. GLOBAL INITIALIZATION CALL ***
        // **************************************************

        initializeUI();
    </script>
    <script>
        // --- TESTIMONIAL SLIDER LOGIC ---
        let currentTestimonialIndex = 0;
        const testimonialsTrack = document.getElementById('testimonials-track');
        // Get the total number of testimonial slides in the track
        const totalTestimonials = testimonialsTrack ? testimonialsTrack.children.length : 0;
        let autoSlideInterval;
        const slideDuration = 5000; // Slide every 5 seconds (5000 milliseconds)

        function moveTestimonialSlider(direction) {
            if (!testimonialsTrack || totalTestimonials === 0) return;

            // Clear the automatic interval whenever a manual button is pressed
            if (direction !== 'auto') {
                clearInterval(autoSlideInterval);
            }

            // Calculate the new index
            let newIndex = currentTestimonialIndex;

            if (direction === 1 || direction === 'auto') {
                newIndex++;
            } else if (direction === -1) {
                newIndex--;
            }

            // Handle wrapping (looping)
            if (newIndex >= totalTestimonials) {
                newIndex = 0; // Wrap to the first slide
            } else if (newIndex < 0) {
                newIndex = totalTestimonials - 1; // Wrap to the last slide
            }

            // Update the current index
            currentTestimonialIndex = newIndex;

            // Calculate the required horizontal shift (percentage)
            const offset = currentTestimonialIndex * 100;

            // Apply the transform to the track element
            testimonialsTrack.style.transform = `translateX(-${offset}%)`;

            // Restart the automatic interval after a manual move
            if (direction !== 'auto') {
                startAutoSlide();
            }
        }

        function startAutoSlide() {
            // Only start if the track exists and there's more than one slide
            if (testimonialsTrack && totalTestimonials > 1) {
                // Clear any existing interval first to prevent overlaps
                if (autoSlideInterval) {
                    clearInterval(autoSlideInterval);
                }
                // Set the new interval
                autoSlideInterval = setInterval(() => {
                    moveTestimonialSlider('auto');
                }, slideDuration);
            }
        }

        // Initialize the automatic slider movement when the page loads
        document.addEventListener('DOMContentLoaded', startAutoSlide);
        // --- END TESTIMONIAL SLIDER LOGIC ---
    </script>

    <script>
        let studentProgressChartInstance = null;

        function renderStudentDashboardGraph() {
            if (!currentUser || !currentUser.enrolled_courses) return;

            const enrolledCourses = currentUser.enrolled_courses;
            const userCertificates = certificates.filter(c => c.userId === currentUserId);

            // --- CRITICAL: Tracking based on total courses ---
            const totalEnrolled = getEnrolledCourseCount();
            const totalCertified = userCertificates.length;
            const totalIncomplete = totalEnrolled - totalCertified;

            // 1. Determine Data Points (The required metrics)
            const coursesRegistered = totalEnrolled;
            const coursesCompleted = totalCertified;
            const coursesPendingOrActive = totalIncomplete;

            const labels = ['Incomplete (Active/Pending)', 'Completed (Certified)'];
            const dataPoints = [coursesPendingOrActive, coursesCompleted];
            const backgroundColors = ['#f59e0b', '#10b981']; // Amber (Incomplete), Green (Certified)

            const ctx = document.getElementById('studentProgressChart')?.getContext('2d');

            if (!ctx) return;

            if (studentProgressChartInstance) {
                studentProgressChartInstance.destroy();
            }

            studentProgressChartInstance = new Chart(ctx, {
                type: 'doughnut', // Use a simple Donut chart for categorical data
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Course Status',
                        data: dataPoints,
                        backgroundColor: backgroundColors,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20
                            }
                        },
                        title: {
                            display: true,
                            text: `Overall Course Status (Total Registered: ${coursesRegistered})`
                        }
                    }
                }
            });
        }
    </script>


    <script>
        let peerComparisonChartInstance = null;

        function renderPeerComparisonGraph() {
            if (!currentUser || !currentUser.enrolled_courses) return;

            const userCertificates = certificates.filter(c => c.userId === currentUserId);
            const totalEnrolled = getEnrolledCourseCount();
            const totalCertified = userCertificates.length;

            // Calculate User Completion Rate
            const userCompletionRate = totalEnrolled > 0 ?
                Math.round((totalCertified / totalEnrolled) * 100) : 0;

            // --- Simulated Platform Average ---
            // In a real app, this would come from the Admin dashboard data.
            // Using a constant for now.
            const platformAverageRate = 65;
            // ----------------------------------

            const labels = ['You', 'Platform Average'];
            const dataPoints = [userCompletionRate, platformAverageRate];

            const backgroundColors = [
                userCompletionRate >= platformAverageRate ? '#10b981' : '#f59e0b', // Green if better/equal, Amber if lower
                '#6366f1' // Indigo for comparison
            ];

            const ctx = document.getElementById('peerComparisonChart')?.getContext('2d');

            if (!ctx) return;

            if (peerComparisonChartInstance) {
                peerComparisonChartInstance.destroy();
            }

            peerComparisonChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Completion Rate (%)',
                        data: dataPoints,
                        backgroundColor: backgroundColors,
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', // Make it a horizontal bar chart
                    plugins: {
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'Peer Certification Comparison'
                        }
                    },
                    scales: {
                        x: {
                            min: 0,
                            max: 100,
                            title: {
                                display: true,
                                text: 'Completion Percentage'
                            }
                        }
                    }
                }
            });
        }
    </script>

    <script>
        let weeklyActivityTrendChartInstance = null;

        async function renderWeeklyActivityTrend() {
            if (!currentUserId) return;

            const days = [];
            const dataMinutes = [];
            const simulatedAvg = 35; // Keep the motivational goal line

            const now = new Date();
            const logDates = [];

            // 1. Generate the last 7 dates for the X-axis and DB keys
            for (let i = 6; i >= 0; i--) {
                const d = new Date(now);
                d.setDate(now.getDate() - i);

                // Format for chart label (e.g., 'Wed 15')
                const label = d.toLocaleString('en-US', { weekday: 'short', day: 'numeric' });
                days.push(label);

                // Format for database key (e.g., '2025-11-17')
                logDates.push(d.toISOString().split('T')[0]);
            }

            // 2. Fetch Real-Time Data from Firebase
            const snapshot = await firebase.database().ref(`${ACTIVITY_LOG_PATH}/${currentUserId}`).once('value');
            const userActivity = snapshot.val() || {};

            // 3. Map the fetched data to the graph array
            logDates.forEach(dateKey => {
                const minutes = userActivity[dateKey] || 0;
                dataMinutes.push(minutes);
            });

            const ctx = document.getElementById('weeklyActivityTrendChart')?.getContext('2d');

            if (!ctx) return;

            if (weeklyActivityTrendChartInstance) {
                weeklyActivityTrendChartInstance.destroy();
            }

            weeklyActivityTrendChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: days,
                    datasets: [{
                        label: 'Minutes Studied',
                        data: dataMinutes,
                        borderColor: '#4f46e5', // Indigo
                        backgroundColor: 'rgba(79, 70, 229, 0.1)',
                        fill: true,
                        tension: 0.3,
                        pointRadius: 5,
                        pointBackgroundColor: '#4f46e5',
                    },
                    {
                        label: 'Your Weekly Goal',
                        data: Array(7).fill(simulatedAvg), // Horizontal line at 35 minutes
                        borderColor: '#f59e0b', // Amber
                        backgroundColor: 'transparent',
                        borderDash: [5, 5],
                        pointRadius: 0,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        title: {
                            display: true,
                            text: 'Minutes Spent Active on Platform (Last 7 Days)'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Minutes'
                            },
                            // --- CRITICAL FIX: Custom Y-Axis Label Callback ---
                            ticks: {
                                callback: function (value, index, values) {
                                    if (value < 60) {
                                        return value + ' mins';
                                    } else {
                                        const hours = Math.floor(value / 60);
                                        const remainingMins = value % 60;
                                        if (remainingMins === 0) {
                                            return hours + ' hrs';
                                        }
                                        return hours + 'h ' + remainingMins + 'm';
                                    }
                                }
                            }
                            // ----------------------------------------------------
                        }
                    }
                }
            });
        }
    </script>


    <!-- LEADERBOARD -->

    <script>
        function getCertificatesByUser(userId) {
            return certificates.filter(c => c.userId === userId).length;
        }

        function getLeaderboardData() {
            // Map all users to their certificate count and filter out users with 0 certs
            const leaderboard = users
                .map(user => ({
                    uid: user.uid,
                    name: user.name,
                    certCount: getCertificatesByUser(user.uid)
                }))
                .filter(user => user.certCount > 0);

            // Sort by certificate count (descending)
            leaderboard.sort((a, b) => b.certCount - a.certCount);

            return leaderboard.slice(0, 5); // Return Top 5
        }
        function renderLeaderboard() {
            const container = document.getElementById('leaderboard-list');
            const topAchievers = getLeaderboardData();

            if (topAchievers.length === 0) {
                container.innerHTML = `<p class="text-gray-500 text-sm py-2 text-center">No certificates issued yet to form a leaderboard.</p>`;
                return;
            }

            container.innerHTML = topAchievers.map((user, index) => {
                const rank = index + 1;
                const initials = user.name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                let badgeHTML = '';
                let rankClass = 'bg-gray-50 text-gray-700';

                if (rank === 1) {
                    badgeHTML = `<span class="text-4xl" style="color:#FFD700;">ü•á</span>`;
                    rankClass = 'bg-yellow-50/70 border-l-4 border-yellow-500 shadow-sm';
                } else if (rank === 2) {
                    badgeHTML = `<span class="text-4xl" style="color:#C0C0C0;">ü•à</span>`;
                    rankClass = 'bg-gray-100 border-l-4 border-gray-400 shadow-sm';
                } else if (rank === 3) {
                    badgeHTML = `<span class="text-4xl" style="color:#CD7F32;">ü•â</span>`;
                    rankClass = 'bg-orange-50/70 border-l-4 border-orange-400 shadow-sm';
                } else {
                    badgeHTML = `<span class="text-lg font-bold text-gray-500">#${rank}</span>`;
                }

                return `
                    <div class="flex items-center justify-between p-3 rounded-xl ${rankClass}">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 flex items-center justify-center text-xl font-extrabold" style="width:30px;text-align:center;">
                                ${badgeHTML}
                            </div>
                            <div class="w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-white text-sm font-semibold flex-shrink-0">
                                ${initials}
                            </div>
                            <span class="text-sm font-medium text-gray-800 truncate">${user.name}</span>
                        </div>
                        <div class="flex items-center space-x-1 text-red-500 font-bold flex-shrink-0">
                            <i class="fa-solid fa-certificate"></i>
                            <span>${user.certCount}</span>
                        </div>
                    </div>
                `;
            }).join('');
        }
    </script>
</body>

</html>
