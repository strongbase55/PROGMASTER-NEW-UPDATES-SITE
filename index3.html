<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduPro Academy - Professional Learning Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>

    <style>
        /* Update your existing <style> block, or add this new section */

        /* --- Certificate Design Improvements --- */
        .certificate-container {
            position: relative;
            padding: 1px;
            /* Padding for the inner border space */
            background: linear-gradient(180deg, #fff, #fcf9f8);
            border-radius: 12px;
        }

        /* 1. Watermark Style */
        .watermark {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            opacity: 0.08;
            /* Low opacity */
            z-index: 0;
        }

        .watermark::before {
            content: "PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD PROMASTER PVT LTD";
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            font-size: 80px;
            font-weight: 800;
            color: #6a1b1b;
            /* Border color for watermark */
            transform: rotate(-45deg);
            /* Diagonal pattern */
            line-height: 1.5;
            letter-spacing: 5px;
            word-break: break-all;
            white-space: pre-wrap;
        }

        /* 2. Professional Border Wrapper */
        .certificate-border-wrapper {
            position: relative;
            /* This color is #6a1b1b */
            border: 10px solid #6a1b1b;
            padding: 1px;
            /* Space for the inner line */
            /* Add inner shadow for depth if desired */
            box-shadow: inset 0 0 0 2px #a64b4b;
            border-radius: 15px;
        }

        /* Add this to your existing <style> block */
        .content-container table {
            /* ... existing styles ... */
        }

        .table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            /* ÁßªÂä®Á´ØÂπ≥ÊªëÊªöÂä® */
            display: block;
            width: 100%;
        }

        .table-wrapper table {
            min-width: 600px;
            /* ÊàñËÄÖÊ†πÊçÆË°®Ê†ºÂÜÖÂÆπËÆæÁΩÆ */
            border-collapse: collapse;
        }

        /* Add this to your existing <style> block */
        .content-container table {
            /* Ensure the table itself respects its parent's width */
            max-width: 100%;
            /* Set a reasonable minimum width to prevent cells from collapsing too much */
            min-width: 300px;
            width: 100%;
        }

        /* CRITICAL FIX: Wrap the table in a div with overflow-x-auto in the editor OR */
        /* Apply this rule to make the entire content area scrollable for tables: */
        .content-container {
            /* Existing styles here... */
            overflow-x: auto;
            /* Makes the entire content block horizontally scrollable if needed */
        }

        /* Or, more precisely, target the table's direct container for overflow control */
        .table-responsive-wrapper {
            overflow-x: auto;
            width: 100%;
            /* Apply styles for responsive table display */
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        body {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in {
            animation: slideIn 0.6s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        }

        .card-hover {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        .progress-bar {
            transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .locked {
            opacity: 0.5;
            pointer-events: none;
        }

        .certificate-bg {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #667eea 100%);
            border: 12px solid #ffd700;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.4);
        }

        .nav-glass {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }

        .stats-counter {
            animation: countUp 2s ease-out;
        }

        @keyframes countUp {
            from {
                opacity: 0;
                transform: scale(0.5);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }

        @keyframes pulseGlow {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(102, 126, 234, 0.4);
            }

            50% {
                box-shadow: 0 0 30px rgba(102, 126, 234, 0.8);
            }
        }

        .language-filter.active {
            background-color: #4f46e5;
            color: white;
        }

        .language-filter {
            color: #6b7280;
        }

        /* Modal Styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.3s ease;
        }

        .modal-content {
            background-color: white;
            border-radius: 1rem;
            padding: 2rem;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(1);
            transition: transform 0.3s ease;
        }

        /* ENHANCED ADMIN PROFILE CARD STYLING */
        .admin-profile-card {
            border-radius: 1.5rem;
            background: #ffffff;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .detail-row {
            padding: 0.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f3f4f6;
        }

        .course-item-admin {
            transition: all 0.2s;
        }

        .course-item-admin:hover {
            background-color: #eef2ff;
        }

        /* ************************************************* */
        /* ******* NEW: ATTRACTIVE CONTENT STYLES ******* */
        /* ************************************************* */

        /* Basic cleanup for rendered HTML */
        .content-container {
            font-family: inherit;
        }

        .content-container h4 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4f46e5;
            /* Indigo 600 */
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            padding-bottom: 0.25rem;
            border-bottom: 2px solid #eef2ff;
            animation: slideIn 0.5s ease-out;
        }

        .content-container h5 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1f2937;
            /* Gray 800 */
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            border-left: 4px solid #a78bfa;
            /* Purple 400 */
            padding-left: 0.75rem;
        }

        .content-container p {
            font-size: 1rem;
            line-height: 1.75;
            color: #4b5563;
            /* Gray 600 */
            margin-bottom: 1rem;
        }

        .content-container ul,
        .content-container ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
            padding-left: 0.5rem;
            list-style: disc;
        }

        .content-container ol {
            list-style: decimal;
        }

        .content-container ul li,
        .content-container ol li {
            margin-bottom: 0.5rem;
            color: #374151;
            /* Gray 700 */
            line-height: 1.5;
        }

        /* Use Tailwind Classes for Rich Text inside contenteditable */
        .content-container strong,
        .content-container b {
            color: #ef4444;
            /* Red 500 */
            font-weight: 800;
            padding: 2px 4px;
            background-color: #fee2e2;
            /* Red 100 */
            border-radius: 4px;
        }

        .content-container em,
        .content-container i {
            font-style: italic;
            color: #2563eb;
            /* Blue 600 */
        }

        .content-container u {
            text-decoration: underline;
            text-decoration-color: #f59e0b;
            /* Amber 500 */
        }

        .content-container code,
        .content-container pre {
            background-color: #1f2937;
            /* Dark background for code */
            color: #e5e7eb;
            /* Light text */
            /* padding: 1rem; */
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #6366f1;
            /* Indigo border */
            animation: fade-in 0.6s ease-out;
        }

        .content-container blockquote {
            border-left: 5px solid #f97316;
            /* Orange border for quotes */
            background-color: #fff7ed;
            /* Light orange background */
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            color: #9a3412;
            /* Darker orange text */
            font-style: italic;
            border-radius: 0.5rem;
        }

        /* Admin Content Editor Styling */
        .content-editor {
            border: 1px solid #ccc;
            min-height: 100px;
            padding: 10px;
            outline: none;
            cursor: text;
        }

        .block-type-selector {
            width: 120px;
        }
    </style>

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Reenie+Beanie&display=swap"
        rel="stylesheet">

</head>

\1

<!-- START: Global Loader (shows during Login/Register actions) -->
<style>
    /* Loader overlay */
    #global-loader {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.6);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        backdrop-filter: blur(3px);
    }

    .loader-box {
        background: white;
        padding: 24px 28px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        gap: 16px;
        box-shadow: 0 10px 30px rgba(2, 6, 23, 0.35);
        min-width: 260px;
    }

    .lds-ring {
        display: inline-block;
        position: relative;
        width: 48px;
        height: 48px;
    }

    .lds-ring div {
        box-sizing: border-box;
        display: block;
        position: absolute;
        width: 40px;
        height: 40px;
        margin: 4px;
        border: 4px solid #4f46e5;
        border-radius: 50%;
        animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;
        border-color: #4f46e5 transparent transparent transparent;
    }

    .lds-ring div:nth-child(1) {
        animation-delay: -0.45s;
    }

    .lds-ring div:nth-child(2) {
        animation-delay: -0.3s;
    }

    .lds-ring div:nth-child(3) {
        animation-delay: -0.15s;
    }

    @keyframes lds-ring {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }

    #global-loader p {
        margin: 0;
        font-weight: 600;
        color: #0f172a;
    }
</style>

<div id="global-loader" aria-hidden="true">
    <div class="loader-box">
        <div class="lds-ring" aria-hidden="true">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div>
            <p>Authenticating ‚Äî Please Wait</p>
            <p style="font-size:12px;color:#6b7280;margin-top:4px">Logging in or registering your account securely...
            </p>
        </div>
    </div>
</div>
<!-- END: Global Loader -->

<nav class="nav-glass shadow-xl fixed w-full top-0 z-50">
    <div class="max-w-7xl mx-auto px-6">
        <div class="flex justify-between items-center py-4">
            <div class="flex items-center space-x-3">
                <div
                    class="w-10 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-lg">E</span>
                </div>
                <h1
                    class="text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
                    PROGMASTER PVT LTD</h1>
            </div>

            <div id="nav-buttons" class="flex items-center space-x-4">
                <button onclick="showAdminLogin()"
                    class="bg-yellow-500 text-gray-900 px-4 py-2.5 rounded-full hover:shadow-lg transition-all duration-300 font-medium">Admin</button>
                <button onclick="showLogin()"
                    class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-2.5 rounded-full hover:shadow-lg transition-all duration-300 font-medium">Sign
                    In</button>
                <button onclick="showRegister()"
                    class="bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-2.5 rounded-full hover:shadow-lg transition-all duration-300 font-medium">Get
                    Started</button>
            </div>

            <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg bg-white bg-opacity-10 border border-white/20">
                <svg id="mobile-menu-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                    viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>

            <!-- Slide-in mobile menu (right to left) -->
            <div id="mobile-slide-menu"
                class="fixed top-0 right-0 h-full w-80 bg-white shadow-2xl transform translate-x-full transition-transform z-50 md:hidden">
                <div class="p-6 flex items-center justify-between border-b">
                    <div class="flex items-center space-x-3">
                        <div
                            class="w-10 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-lg">E</span>
                        </div>
                        <div class="font-bold text-lg">EduPro</div>
                    </div>
                    <button id="mobile-close-btn" class="p-2 rounded-md bg-gray-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-800" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </button>
                </div>
                <nav class="p-6 space-y-4">
                    <a href="#" onclick="showWelcomeScreen(); closeMobileMenu();"
                        class="block font-semibold text-gray-800">Home</a>
                    <a href="#" onclick="showCourseList(); closeMobileMenu();"
                        class="block font-semibold text-gray-800">Courses</a>
                    <a href="#" onclick="showLogin(); closeMobileMenu();" class="block font-semibold text-gray-800">Sign
                        In</a>
                    <a href="#" onclick="showRegister(); closeMobileMenu();"
                        class="block font-semibold text-gray-800">Get
                        Started</a>
                    <a href="#" onclick="showContact(); closeMobileMenu();"
                        class="block font-semibold text-gray-800">Contact</a>
                </nav>
            </div>

            <div id="user-nav" class="hidden flex items-center space-x-2">
                <div class="flex items-center space-x-1 bg-white rounded-full px-4 py-2 shadow-md">
                    <div
                        class="w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm font-semibold" id="user-avatar"></span>
                    </div>
                    <span class="text-gray-700 font-medium" id="user-name-nav"></span>
                </div>
                <button onclick="showDashboard()"
                    class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors">Dashboard</button>
                <button onclick="showProfile()"
                    class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">My
                    Courses</button>
                <button onclick="showCertificates()"
                    class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">Certificates</button>
                <button onclick="showMyAccount()"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">My
                    Account</button>
                <button onclick="logout()"
                    class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">Logout</button>
            </div>

            <div id="admin-nav" class="hidden items-center space-x-2">
                <span class="text-sm font-bold text-red-600">Admin Mode</span>
                <button onclick="showAdminDashboard()"
                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">Dashboard</button>
                <button onclick="showCourseManagerPanel()"
                    class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors">Courses</button>
                <button onclick="adminLogout()"
                    class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors">Logout</button>
            </div>
        </div>
    </div>
</nav>

<div class="pt-20">
    <div id="welcome-screen" class="fade-in">
        <section class="hero-gradient text-white py-20 px-4 sm:px-6">
            <div class="max-w-7xl mx-auto text-center">
                <div class="floating mb-8">
                    <div class="inline-block p-4 bg-white bg-opacity-20 rounded-full">
                        <svg class="w-16 h-16" fill="currentColor" viewBox="0 0 20 20">
                            <path
                                d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z" />
                        </svg>
                    </div>
                </div>
                <h1 class="text-5xl md:text-7xl font-bold mb-6 slide-in">
                    Transform Your
                    <span
                        class="bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">Career</span>
                </h1>
                <p class="text-xl md:text-2xl mb-8 text-white text-opacity-90 max-w-3xl mx-auto slide-in">
                    Join thousands of professionals mastering cutting-edge skills with our expert-designed courses.
                    Learn at your own pace, earn certificates, and advance your career.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12 slide-in">
                    <button onclick="showRegister()"
                        class="pulse-glow bg-white text-indigo-600 px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-300">
                        Start Learning Today
                    </button>
                    <button onclick="showCourseList()"
                        class="border-2 border-white text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-white hover:text-indigo-600 transition-all duration-300">
                        Explore Courses
                    </button>
                </div>
            </div>
        </section>

        <section class="py-16 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 text-center">
                    <div class="stats-counter">
                        <div class="text-4xl font-bold text-indigo-600 mb-2">15+</div>
                        <div class="text-gray-600 font-medium">Expert Courses</div>
                    </div>
                    <div class="stats-counter">
                        <div class="text-4xl font-bold text-purple-600 mb-2">5K+</div>
                        <div class="text-gray-600 font-medium">Students</div>
                    </div>
                    <div class="stats-counter">
                        <div class="text-4xl font-bold text-green-600 mb-2">98%</div>
                        <div class="text-gray-600 font-medium">Success Rate</div>
                    </div>
                    <div class="stats-counter">
                        <div class="text-4xl font-bold text-orange-600 mb-2">24/7</div>
                        <div class="text-gray-600 font-medium">Support</div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 bg-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Why Choose PROGMASTER PVT LTD?</h2>
                    <p class="text-xl text-gray-600 max-w-2xl mx-auto">Experience the future of online learning with
                        our innovative platform</p>
                </div>

                <div class="grid md:grid-cols-3 gap-4 md:gap-8">
                    <div class="card-hover bg-white p-8 rounded-2xl shadow-lg text-center">
                        <div
                            class="w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-semibold mb-4">Industry-Recognized Certificates</h3>
                        <p class="text-gray-600">Earn certificates that employers value and trust</p>
                    </div>

                    <div class="card-hover bg-white p-8 rounded-2xl shadow-lg text-center">
                        <div
                            class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-semibold mb-4">Expert Instructors</h3>
                        <p class="text-gray-600">Learn from industry professionals with real-world experience</p>
                    </div>

                    <div class="card-hover bg-white p-8 rounded-2xl shadow-lg text-center">
                        <div
                            class="w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-6">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-semibold mb-4">Progress Tracking</h3>
                        <p class="text-gray-600">Monitor your learning journey with detailed analytics</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-800 mb-4">Popular Courses</h2>
                    <p class="text-xl text-gray-600">Start your learning journey with our most popular courses</p>
                </div>

                <div class="grid md:grid-cols-3 gap-4 md:gap-8" id="popular-courses-preview">
                </div>

                <div class="text-center mt-12">
                    <button onclick="showCourseList()"
                        class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:shadow-lg transition-all duration-300">
                        View All Courses
                    </button>
                </div>
            </div>
        </section>

        <!-- START: Student Achievements Slider -->
        <section id="achievements-slider" class="py-12 bg-gradient-to-b from-white to-gray-50">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold text-gray-800">Student Achievements</h2>
                    <div class="flex gap-2 items-center">
                        <button id="slide-prev" class="px-3 py-2 rounded-lg bg-gray-100">Prev</button>
                        <button id="slide-next" class="px-3 py-2 rounded-lg bg-gray-100">Next</button>
                    </div>
                </div>
                <div id="slider-wrapper" class="overflow-hidden rounded-2xl bg-white shadow-lg">
                    <div id="slider-track" class="flex transition-transform duration-500">
                        <!-- We'll programmatically ensure there are 10 slides -->
                    </div>
                </div>
            </div>
        </section>
        <!-- END: Student Achievements Slider -->


        <!-- START: Testimonials -->
        <section id="testimonials" class="py-12 bg-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 text-center">
                <h3 class="text-3xl font-bold mb-4">What our students say</h3>
                <p class="text-gray-600 mb-8">Real feedback from learners who advanced their careers</p>
                <div class="grid md:grid-cols-3 gap-6" id="testimonials-list">
                    <div class="bg-gray-50 p-6 rounded-xl shadow-sm">
                        <p class="text-gray-700 mb-4">"Great course, practical projects and supportive instructors!"</p>
                        <div class="flex items-center gap-3 justify-center">
                            <div
                                class="w-12 h-12 rounded-full bg-indigo-200 flex items-center justify-center font-semibold">
                                A</div>
                            <div class="text-left">
                                <div class="font-bold">Ananya</div>
                                <div class="text-sm text-gray-500">Full Stack Grad</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-sm">
                        <p class="text-gray-700 mb-4">"The certificate helped me get interviews. Highly recommend."</p>
                        <div class="flex items-center gap-3 justify-center">
                            <div
                                class="w-12 h-12 rounded-full bg-green-200 flex items-center justify-center font-semibold">
                                R</div>
                            <div class="text-left">
                                <div class="font-bold">Ravi</div>
                                <div class="text-sm text-gray-500">Data Analyst</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-xl shadow-sm">
                        <p class="text-gray-700 mb-4">"Practical, updated content and friendly community."</p>
                        <div class="flex items-center gap-3 justify-center">
                            <div
                                class="w-12 h-12 rounded-full bg-orange-200 flex items-center justify-center font-semibold">
                                S</div>
                            <div class="text-left">
                                <div class="font-bold">Sahana</div>
                                <div class="text-sm text-gray-500">Mobile Dev</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- END: Testimonials -->

        <!-- START: Contact Section -->
        <section id="contact-section" class="py-12 bg-gradient-to-b from-gray-50 to-white">
            <div class="max-w-7xl mx-auto px-4 sm:px-6">
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div>
                        <h3 class="text-3xl font-bold mb-4">Get in touch</h3>
                        <p class="text-gray-600 mb-6">Have questions? Reach out and our team will respond within 24
                            hours.</p>
                        <ul class="text-gray-700 space-y-3">
                            <li><strong>Email:</strong> support@edupro.example</li>
                            <li><strong>Phone:</strong> +91 98765 43210</li>
                            <li><strong>Address:</strong> 12/4 Tech Park, Hyderabad, India</li>
                        </ul>
                    </div>
                    <div>
                        <form id="contact-form"
                            onsubmit="event.preventDefault(); alert('Thanks ‚Äî we will contact you shortly!'); this.reset();">
                            <div class="mb-3">
                                <input required placeholder="Your name" class="w-full px-3 py-2 border rounded-lg">
                            </div>
                            <div class="mb-3">
                                <input required type="email" placeholder="Email"
                                    class="w-full px-3 py-2 border rounded-lg">
                            </div>
                            <div class="mb-3">
                                <textarea required placeholder="Message" rows="4"
                                    class="w-full px-3 py-2 border rounded-lg"></textarea>
                            </div>
                            <button class="bg-indigo-600 text-white px-6 py-2 rounded-lg">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- END: Contact Section -->

    </div>

    <div id="admin-login-screen" class="hidden max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg fade-in">
        <h2 class="text-2xl font-bold text-center mb-6 text-red-600">Admin Login</h2>
        <p class="text-center text-sm text-gray-600 mb-4">Use: admin@edupro.com / admin123</p>
        <form onsubmit="handleAdminLogin(event)">
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2">Admin Email</label>
                <input type="email" id="admin-email"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-red-500"
                    value="admin@edupro.com" required>
            </div>
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-bold mb-2">Admin Password</label>
                <input type="password" id="admin-password"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-red-500" value="admin123"
                    required>
            </div>
            <button type="submit" class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700">Login as
                Admin</button>
        </form>
        <p class="text-center mt-4">
            <button onclick="showWelcomeScreen()" class="text-gray-600 hover:underline">‚Üê Back to Main Page</button>
        </p>
    </div>

    <div id="login-form" class="hidden max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg fade-in">
        <h2 class="text-2xl font-bold text-center mb-6">Login</h2>
        <form onsubmit="handleLogin(event)">
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                <input type="email" id="login-email"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required>
            </div>
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                <input type="password" id="login-password"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-indigo-500" required>
            </div>
            <button type="submit"
                class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700">Login</button>
        </form>
        <p class="text-center mt-4">
            Don't have an account?
            <button onclick="showRegister()" class="text-indigo-600 hover:underline">Register here</button>
        </p>
    </div>

    <div id="register-form" class="hidden max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg fade-in">
        <h2 class="text-2xl font-bold text-center mb-6">Register</h2>
        <form onsubmit="handleRegister(event)">
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2">Full Name (Used for Certificate)</label>
                <input type="text" id="register-name"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
                <p class="text-red-500 text-xs mt-1 font-semibold">‚ö†Ô∏è WARNING: Double-check this name! It cannot be
                    changed and will appear on your official certificate.</p>
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
                <input type="email" id="register-email"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
            </div>
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2">Phone Number (10 Digits)</label>
                <input type="tel" id="register-phone" pattern="[0-9]{10}" maxlength="10"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
            </div>
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-bold mb-2">Password</label>
                <input type="password" id="register-password"
                    class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-green-500" required>
            </div>
            <button type="submit"
                class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Register</button>
        </form>
        <p class="text-center mt-4">
            Already have an account?
            <button onclick="showLogin()" class="text-green-600 hover:underline">Login here</button>
        </p>
    </div>

    <div id="my-account-screen" class="hidden fade-in max-w-4xl mx-auto px-4 sm:px-6 py-8">
        <div class="bg-white rounded-2xl shadow-xl p-8 border-t-4 border-blue-500">
            <h2 class="text-4xl font-bold text-gray-800 mb-6 flex items-center">
                <svg class="w-8 h-8 mr-3 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                </svg>
                My Account Details
            </h2>
            <div id="my-account-details-container" class="space-y-4">
            </div>
        </div>
    </div>
    <div id="dashboard-screen" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-2">Welcome back, <span id="dashboard-user-name"></span>!
            </h2>
            <p class="text-gray-600">Continue your learning journey</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-8">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-6 rounded-2xl">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-indigo-100">Enrolled Courses</p>
                        <p class="text-3xl font-bold" id="enrolled-count">0</p>
                    </div>
                    <div class="text-4xl opacity-80">üìö</div>
                </div>
            </div>

            <div class="bg-gradient-to-r from-green-500 to-emerald-600 text-white p-6 rounded-2xl">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-green-100">Completed</p>
                        <p class="text-3xl font-bold" id="completed-count">0</p>
                    </div>
                    <div class="text-4xl opacity-80">üèÜ</div>
                </div>
            </div>

            <div class="bg-gradient-to-r from-orange-500 to-red-500 text-white p-6 rounded-2xl">
                <div class="flex items-center justify-between">
                    <div>
                        <p class="text-orange-100">Certificates</p>
                        <p class="text-3xl font-bold" id="certificates-count">0</p>
                    </div>
                    <div class="text-4xl opacity-80">üéì</div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-8">
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-4">Continue Learning</h3>
                    <div id="continue-learning" class="space-y-4">
                    </div>
                </div>
            </div>

            <div>
                <div class="bg-white rounded-2xl shadow-lg p-6">
                    <h3 class="text-xl font-semibold mb-4">Quick Actions</h3>
                    <div class="space-y-3">
                        <button onclick="showCourseList()"
                            class="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition-colors">
                            Browse Courses
                        </button>
                        <button onclick="showProfile()"
                            class="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors">
                            My Courses
                        </button>
                        <button onclick="showCertificates()"
                            class="w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors">
                            View Certificates
                        </button>
                        <button onclick="showNotificationPopup()"
                            class="w-full bg-yellow-500 text-gray-900 py-3 rounded-lg hover:bg-yellow-600 transition-colors relative">
                            Global Notification
                            <span id="notification-badge"
                                class="absolute top-0 right-0 transform -translate-y-1/2 translate-x-1/2 bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full hidden">
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="course-list" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">All Courses</h2>
            <p class="text-xl text-gray-600">Choose from our comprehensive course catalog</p>
        </div>

        <div class="mb-8 flex justify-center">
            <div class="bg-white rounded-full p-2 shadow-lg">
                <button onclick="filterCourses('all')"
                    class="language-filter active px-6 py-2 rounded-full transition-all">All</button>
                <button onclick="filterCourses('programming')"
                    class="language-filter px-6 py-2 rounded-full transition-all">Programming</button>
                <button onclick="filterCourses('design')"
                    class="language-filter px-6 py-2 rounded-full transition-all">Design</button>
                <button onclick="filterCourses('business')"
                    class="language-filter px-6 py-2 rounded-full transition-all">Business</button>
                <button onclick="filterCourses('data')"
                    class="language-filter px-6 py-2 rounded-full transition-all">Data
                    Science</button>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8" id="courses-container"></div>
    </div>

    <div id="certificates-screen" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
        <div class="text-center mb-12">
            <h2 class="text-4xl font-bold text-gray-800 mb-4">My Certificates</h2>
            <p class="text-xl text-gray-600">Your achievements and certifications</p>
        </div>
        <div id="certificates-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
        </div>
    </div>

    <div id="course-detail" class="hidden fade-in">
        <button onclick="showCourseList()" class="mb-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">‚Üê
            Back to Courses</button>
        <div id="course-detail-content"></div>
    </div>

    <div id="course-learning" class="hidden fade-in">
        <div class="bg-white rounded-lg shadow-lg p-6">
            <div class="flex justify-between items-center mb-6">
                <button onclick="showCourseList()"
                    class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">‚Üê
                    Back to Courses</button>
                <div class="text-right">
                    <div class="text-sm text-gray-600">Progress</div>
                    <div class="text-lg font-semibold" id="course-progress">0%</div>
                </div>
            </div>
            <div id="course-content"></div>
        </div>
    </div>

    <div id="profile-screen" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
        <h2 class="text-3xl font-bold text-center mb-8">My Courses</h2>
        <div id="enrolled-courses" class="flex flex-wrap gap-4 justify-center">
        </div>
    </div>

    <div id="certificate-screen" class="hidden fade-in">
        <div class="max-w-4xl mx-auto">
            <button onclick="showProfile()" class="mb-4 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">‚Üê
                Back to My
                Courses</button>

            <div class="certificate-border-wrapper">
                <div id="certificate-content" class="certificate-container text-gray-800 text-center relative"
                    style="overflow: hidden;">
                    <div class="watermark"></div>

                </div>
            </div>
            <div class="text-center mt-6">
                <button onclick="downloadCurrentCertificate()"
                    class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 text-lg">Download
                    Certificate</button>
            </div>
        </div>
    </div>

    <div id="admin-course-manager-panel" class="hidden fade-in max-w-7xl mx-auto px-4 sm:px-6 py-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-8">Course Management Interface üõ†Ô∏è</h2>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg h-min sticky top-24">
                <h3 class="text-xl font-semibold text-gray-800 mb-4" id="course-form-title">Add New Course</h3>
                <form id="course-management-form" onsubmit="handleCourseSubmit(event)">
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">Course Title</label>
                        <input type="text" id="course-title" class="w-full px-3 py-2 border rounded-lg" required>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">Course ID (Unique, e.g.,
                            web_dev)</label>
                        <input type="text" id="course-id" class="w-full px-3 py-2 border rounded-lg" required>
                    </div>
                    <div class="mb-3">
                        <label class="block text-sm font-medium text-gray-700">Description</label>
                        <textarea id="course-description" class="w-full px-3 py-2 border rounded-lg"
                            required></textarea>
                    </div>

                    <div class="mb-3 border border-indigo-200 p-3 rounded-lg bg-indigo-50">
                        <h4 class="text-lg font-semibold text-indigo-700 mb-3">Course Curriculum Modules</h4>
                        <div id="curriculum-modules-container" class="space-y-4">
                        </div>
                        <button type="button" onclick="addCurriculumModule()"
                            class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 mt-4 text-sm flex items-center justify-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 4v16m8-8H4"></path>
                            </svg>
                            <span>Add New Day/Module</span>
                        </button>
                    </div>

                    <div class="mb-4 flex space-x-4">
                        <input type="hidden" id="original-course-id">
                        <button type="submit" id="submit-course-btn"
                            class="flex-1 bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700">Add
                            Course</button>
                        <button type="button" onclick="resetCourseForm()"
                            class="bg-gray-300 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-400">Cancel</button>
                    </div>
                </form>
            </div>

            <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Current Course Catalog</h3>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead>
                            <tr class="bg-gray-50">
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Title</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    ID</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Days</th>
                                <th
                                    class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                    Actions</th>
                            </tr>
                        </thead>
                        <tbody id="course-manager-table-body" class="bg-white divide-y divide-gray-200">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-lg mt-8">
            <h3 class="text-xl font-semibold text-gray-800 mb-4">Send Global Notification üì¢</h3>
            <form onsubmit="sendGlobalNotification(event)">
                <div class="mb-3">
                    <label class="block text-sm font-medium text-gray-700">Message</label>
                    <input type="text" id="notification-input"
                        placeholder="e.g., Enrollment approvals are complete for today!"
                        class="w-full px-3 py-2 border rounded-lg" required>
                </div>
                <button type="submit" class="bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700">Broadcast
                    Message</button>
                <p class="text-xs text-gray-500 mt-2">Current Message: <span
                        id="current-global-notification">None</span></p>
            </form>
        </div>
    </div>
    <div id="admin-dashboard-panel" class="hidden fade-in">
        <div class="min-h-screen flex flex-col">
            <header class="bg-white shadow-md z-10">
                <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center">
                    <h1 class="text-3xl font-bold text-gray-900 slide-in">Admin Enrollment Dashboard üîë</h1>
                    <div class="text-sm text-gray-500">
                        Last Refreshed: <span id="last-updated" class="font-semibold text-blue-600">Loading...</span>
                    </div>
                </div>
            </header>
            <main class="flex-1 p-4 sm:p-6 lg:p-8 max-w-7xl mx-auto w-full">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div id="card-total-students"
                        class="card-animation bg-white p-6 rounded-xl shadow-lg border-l-4 border-blue-600">
                        <div class="flex items-center justify-between">
                            <div class="text-sm font-medium text-gray-500">Total Student Accounts</div>
                            <svg class="h-6 w-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 20h5v-4h-5v4zm0 0l-1.336-1.336m1.336 1.336H3m3-4H2m3 4v-4m3 4v-4m3 4v-4m3 4v-4m3 4v-4m-3 4V4m3 16V4m-3 0h5m-5 0H3m3 0h12" />
                            </svg>
                        </div>
                        <p class="text-4xl font-extrabold text-gray-900 mt-1"><span id="metric-total-students">0</span>
                        </p>
                    </div>
                    <div id="card-total-active-users"
                        class="card-animation bg-white p-6 rounded-xl shadow-lg border-l-4 border-red-600">
                        <div class="flex items-center justify-between">
                            <div class="text-sm font-medium text-gray-500">Total Active Users</div>
                            <svg class="h-6 w-6 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                        </div>
                        <p class="text-4xl font-extrabold text-gray-900 mt-1"><span
                                id="metric-total-active-users">0</span></p>
                    </div>
                    <div id="card-total-certificates"
                        class="card-animation bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-600">
                        <div class="flex items-center justify-between">
                            <div class="text-sm font-medium text-gray-500">Courses Completed (Certified)</div>
                            <svg class="h-6 w-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.01 12.01 0 002.5 14c0 1.491.31 2.923.863 4.264m18.774-11.28A12.01 12.01 0 0021.5 14c0 1.491-.31 2.923-.863 4.264M18 18h-4.264l-.5-1.5-.5 1.5H6m12 0a2 2 0 100 4 2 2 0 000-4z" />
                            </svg>
                        </div>
                        <p class="text-4xl font-extrabold text-gray-900 mt-1"><span
                                id="metric-total-certificates">0</span></p>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-lg card-animation w-full">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Course Enrollment Distribution (Live
                            Data)</h2>
                        <div style="height: 300px;">
                            <canvas id="courseChart"></canvas>
                        </div>
                    </div>
                    <div
                        class="bg-white p-6 rounded-xl shadow-lg card-animation w-full grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label for="admin-student-search" class="block text-sm font-medium text-gray-700">Search
                                Name/Email/Phone</label>
                            <input type="text" id="admin-student-search" placeholder="E.g., Alice Johnson"
                                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition">
                        </div>
                        <div>
                            <label for="admin-course-filter" class="block text-sm font-medium text-gray-700">Filter
                                by Course</label>
                            <select id="admin-course-filter"
                                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition bg-white">
                                <option value="all">All Courses</option>
                            </select>
                        </div>
                        <div>
                            <label for="admin-status-filter" class="block text-sm font-medium text-gray-700">Filter
                                by Enrollment Status</label>
                            <select id="admin-status-filter"
                                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition bg-white">
                                <option value="all">Any Status</option>
                                <option value="true">Active (True)</option>
                                <option value="false">Pending (False)</option>
                            </select>
                        </div>
                        <div>
                            <label for="admin-online-filter" class="block text-sm font-medium text-gray-700">Filter
                                by Online Status</label>
                            <select id="admin-online-filter"
                                class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-blue-500 focus:border-blue-500 filter-transition bg-white">
                                <option value="all">All</option>
                                <option value="online">Online</option>
                                <option value="offline">Offline</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg card-animation">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">
                        Student Enrollment Records
                        <span id="approval-metrics" class="ml-4 text-sm font-normal text-gray-600">
                            (Active: <span id="metric-approvals" class="font-semibold text-green-600">0</span> /
                            Pending: <span id="metric-revokes" class="font-semibold text-orange-600">0</span>)
                        </span>
                    </h2>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Student Name</th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Email</th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Course Title</th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Status</th>
                                    <th
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Action</th>
                                </tr>
                            </thead>
                            <tbody id="admin-table-body" class="bg-white divide-y divide-gray-200">
                            </tbody>
                        </table>
                        <div id="admin-no-results" class="hidden text-center py-8 text-gray-500">No enrollment
                            records found matching the criteria.</div>
                    </div>
                    <div class="flex justify-between items-center mt-4">
                        <div class="flex space-x-2">
                            <button onclick="handlePagination('prev')"
                                class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg text-sm hover:bg-gray-300 transition-colors hidden"
                                id="prev-page-btn">‚Üê</button>
                            <button onclick="handlePagination('next')"
                                class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg text-sm hover:bg-gray-300 transition-colors hidden"
                                id="next-page-btn">‚Üí</button>
                        </div>
                        <span class="text-sm text-gray-600" id="pagination-info">Displaying 0 records</span>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>

<div id="admin-user-details-modal" class="modal hidden">
    <div class="modal-content w-full max-w-xl admin-profile-card">
        <div class="flex justify-between items-center pb-4 mb-4 border-b border-indigo-200">
            <h2 class="text-3xl font-extrabold text-indigo-900" id="modal-user-name">Student Details</h2>
            <button onclick="closeAdminUserDetails()"
                class="text-gray-500 hover:text-red-700 p-2 rounded-full hover:bg-red-50">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
        </div>

        <div id="modal-user-info" class="p-4 bg-indigo-50 rounded-xl shadow-inner mb-6 space-y-2 text-gray-700">
        </div>

        <div class="mt-6 flex justify-between space-x-3 pt-4">
            <button id="disable-user-btn"
                onclick="toggleUserDisableStatus(document.getElementById('admin-user-details-modal').getAttribute('data-user-id'))"
                class="bg-yellow-500 text-gray-900 px-4 py-2 rounded-lg text-sm hover:bg-yellow-600 transition-colors flex-1 shadow-md">Disable
                User</button>
            <button id="delete-user-btn"
                onclick="deleteUserPermanently(document.getElementById('admin-user-details-modal').getAttribute('data-user-id'))"
                class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors flex-1 shadow-md">Delete
                User Permanently</button>
        </div>
        <div class="mt-8">
            <h3 class="text-xl font-bold text-gray-800 border-b pb-2 mb-4 flex items-center">
                <span class="mr-2 text-indigo-600">üìö</span> Enrolled Courses (<span id="modal-enrolled-count">0</span>)
            </h3>
            <div id="modal-course-list" class="space-y-3">
            </div>
        </div>
    </div>
</div>
<div id="notification-modal" class="modal hidden">
    <div class="modal-content w-full max-w-lg bg-white p-6 rounded-xl shadow-2xl border-t-8 border-yellow-500">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                <span class="mr-3 text-yellow-600">üì¢</span> Global Announcement
            </h2>
            <button onclick="closeNotificationPopup()" class="text-gray-500 hover:text-gray-900">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12">
                    </path>
                </svg>
            </button>
        </div>
        <div id="notification-content" class="bg-yellow-50 p-4 rounded-lg text-yellow-900 border border-yellow-200">
            <p class="font-medium text-lg">No active announcements.</p>
        </div>
        <p class="text-xs text-gray-500 mt-4 text-right">Last updated: <span id="notification-timestamp">N/A</span>
        </p>
    </div>
</div>
<script>
    // Application State
    let currentCourse = null;
    let currentDay = 1;
    let currentUser = null;
    const PAYMENT_LINK = 'https://rzp.io/rzp/MdrDDje';
    let isAdminLoggedIn = false;
    const ADMIN_EMAIL = 'admin@edupro.com';
    const ADMIN_PASSWORD = 'admin123';
    let courseChartInstance = null;

    // Pagination state
    const RECORDS_PER_PAGE = 20;
    let currentPage = 1;

    // Configuration for the Rich Text Editor (Colors & Styles)
    const RICH_TEXT_OPTIONS = {
        colors: ['#ef4444', '#f97316', '#10b981', '#3b82f6', '#8b5cf6', '#1f2937'], // Red, Orange, Green, Blue, Purple, Dark
        bgColors: ['#fee2e2', '#ffedd5', '#d1fae5', '#dbeafe', '#ede9fe', '#f3f4f6'], // Corresponding Light Backgrounds
        fontNames: ['Arial', 'Verdana', 'Times New Roman', 'Georgia'],
    };


    // Sample Data: COURSE IDs must be unique strings (rich content structure)
    // CRITICAL FIX: This initial data structure remains, but the application logic
    // now ensures it is overwritten by/merged with data from Firebase on load.
    let courses = [{
        id: "web_dev",
        title: "Full Stack Web Development",
        description: "Master modern web development with React, Node.js, and databases",
        duration: "10 days",
        level: "Beginner",
        icon: "üíª",
        category: "programming",
        rating: 4.9,
        students: 2847,
        curriculum: [{
            title: "HTML & CSS Fundamentals",
            content: "<p>Welcome to Day 1! We dive into <strong>semantic HTML5</strong>, <strong>Flexbox</strong>, and <strong>CSS Grid</strong>. <strong>Task</strong>: Build a responsive header and footer layout. The core idea is to structure content clearly. üìò</p><h4>Core Concepts</h4><ul><li><strong>Hyper Text:</strong> Text within Text. This is what links pages together.</li><li><strong>Markup Language:</strong> Used to apply layout and formatting to documents.</li><li><strong>Web Page:</strong> A document (typically HTML) rendered by a web browser.</li></ul><p style='background-color:#fee2e2; color:#ef4444; padding: 10px;'>This module is the <strong>foundation</strong>. Never underestimate the power of pure HTML and CSS!</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L" // Mock embed link
        }, {
            title: "JavaScript ES6+",
            content: "<p>Day 2 covers modern JavaScript features: <strong>Arrow Functions</strong>, <strong>Promises</strong>, and <strong>Async/Await</strong>. These are critical for building dynamic applications like this one.</p><h4>Why Learn HTML? The Foundation of the Web</h4><p>Even as we dive into JS, understanding <strong>HTML</strong> is essential:</p><ol><li><strong>Semantic Structure:</strong> Use &lt;article&gt;, &lt;nav&gt;, &lt;footer&gt; to define meaning.</li><li><strong>Accessibility (a11y):</strong> Core accessibility is built into native HTML elements.</li><li><strong>DOM Manipulation:</strong> JavaScript <em>must</em> interact with the Document Object Model (DOM), which is the programming interface for HTML.</li></ol><p><strong>Task</strong>: Create a simple promise chain. üí°</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "React Components",
            content: "<h2>What is CSS? The Art of Styling the Web</h2><p><strong>CSS</strong> stands for <strong>Cascading Style Sheets</strong>. If HTML is the skeleton, CSS is the <strong>skin, clothes, and makeup</strong>. It describes the presentation of the HTML document, including colors, layout, and fonts.</p><p>This separation is what lets you apply a complete visual overhaul to an entire website by changing just a few CSS files. Imagine transforming a plain document into a stunning, responsive layout with sophisticated typography and vibrant colors‚Äîthat's the power of CSS.</p><h4>Types of CSS Styling</h4><ul><li><strong>External CSS:</strong> Styles defined in a separate file (<code>styles.css</code>). This keeps style and structure completely isolated, allowing reuse. The entire site's background could be a deep, mesmerizing <span style='color:#3b82f6;'>Blue</span>.</li><li><strong>Internal CSS:</strong> Styles defined within <style> tags. Example: applying a special block with a subtle, radiant <span style='color:#f59e0b;'>Amber</span> border.</li><li><strong>Inline CSS:</strong> Styles applied directly to an element. (e.g., giving a button a temporary, cheerful <span style='color:#ef4444;'>Coral Pink</span> background).</li></ul><p>Learn how to build reusable components in <strong>React</strong>. Focus on functional components and hooks (useState). ‚öõÔ∏è</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "State Management",
            content: "<p>Understand complex state with Redux/Context API. We simulate an e-commerce cart. Efficient state management is crucial for large applications. <strong>Task</strong>: Implement global authentication state. üõí</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "Node.js Backend",
            content: "<p>Introduction to server-side JavaScript using Node.js. Focus on setting up the server and basic routing. Node is the core technology powering many modern APIs. <strong>Task</strong>: Create a simple 'Hello World' server. ‚öôÔ∏è</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "Express.js Framework",
            content: "<p>Simplifying backend development with Express. Learn middleware and REST API structure. Express is the industry standard for lightweight backend services. <strong>Task</strong>: Define CRUD endpoints for user accounts. üöÄ</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "Database Integration",
            content: "<p>Connecting the Express app to a NoSQL database (MongoDB/Mongoose simulation). You'll learn how data persistence works. <strong>Task</strong>: Store and retrieve user data from the simulated DB. üíæ</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "API Development",
            content: "<p>Building robust and secure APIs. Focus on error handling and data validation. A good API is the backbone of any distributed system. <strong>Task</strong>: Validate incoming enrollment data. üõ°Ô∏è</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "Authentication",
            content: "<p>Implement user authentication using JSON Web Tokens (JWT). This is essential for protecting user resources. <strong>Task</strong>: Create signup/login functionality with token generation. üîë</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        }, {
            title: "Deployment",
            content: "<p>Final step: deploy the full stack application to a cloud provider simulation. Learn about hosting, domains, and environment variables. <strong>Task</strong>: Simulate production build and deployment steps. ‚úÖ</p>",
            video_url: "https://www.youtube.com/embed/videoseries?list=PL4-Tl6P4lXwR8iGzXz_k4q6rXm6e_vQ5L"
        },],
    }, {
        id: "data_sci",
        title: "Data Science & Analytics",
        description: "Master Python, machine learning, and data visualization",
        duration: "10 days",
        level: "Intermediate",
        icon: "üìä",
        category: "data",
        rating: 4.8,
        students: 1923,
        curriculum: [
            { title: "Python for Data Science", content: "<p>Introduction to Python syntax, libraries, and basic data structures for data manipulation. <strong>Task</strong>: Set up your Jupyter environment. üêç</p>", video_url: "" },
            { title: "NumPy & Pandas", content: "<p>Mastering the fundamental libraries for numerical operations and data analysis. Learn about DataFrames and Series. <strong>Task</strong>: Load and clean a CSV file.</p>", video_url: "" },
            { title: "Data Cleaning", content: "<p>Techniques for handling missing values, outliers, and incorrect data types. Garbage in, garbage out! <strong>Task</strong>: Implement three different imputation methods.</p>", video_url: "" },
            { title: "Statistical Analysis", content: "<p>Understanding descriptive and inferential statistics. Hypothesis testing and p-values. <strong>Task</strong>: Perform an A/B test analysis.</p>", video_url: "" },
            { title: "Data Visualization", content: "<p>Using Matplotlib and Seaborn to create beautiful and informative charts. <strong>Task</strong>: Create a stunning heat map with custom color palettes. üé®</p>", video_url: "" },
            { title: "Machine Learning Basics", content: "<p>Introduction to supervised vs. unsupervised learning. Linear Regression and Logistic Regression. <strong>Task</strong>: Build your first predictive model.</p>", video_url: "" },
            { title: "Scikit-learn", content: "<p>The go-to library for ML in Python. Pipeline creation and model training. <strong>Task</strong>: Implement k-fold cross-validation.</p>", video_url: "" },
            { title: "Model Evaluation", content: "<p>Metrics like precision, recall, F1-score, and ROC curves. Understanding model performance limitations. <strong>Task</strong>: Compare performance across three algorithms.</p>", video_url: "" },
            { title: "Deep Learning Intro", content: "<p>The basics of neural networks, layers, and activation functions. Keras/TensorFlow intro. <strong>Task</strong>: Build a simple feed-forward network.</p>", video_url: "" },
            { title: "Capstone Project", content: "<p>Apply everything you've learned to a real-world dataset. Prepare your presentation and portfolio piece. <strong>Task</strong>: Submit your final project and code repository. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "digital_mkt",
        title: "Digital Marketing Mastery",
        description: "Complete digital marketing strategy and execution",
        duration: "10 days",
        level: "Beginner",
        icon: "üìà",
        category: "business",
        rating: 4.7,
        students: 3421,
        curriculum: [
            { title: "Marketing Strategy", content: "<p>Defining your target audience, value proposition, and marketing goals. <strong>Task</strong>: Complete a SWOT analysis for a sample brand. üìã</p>", video_url: "" },
            { title: "SEO Optimization", content: "<p>On-page, off-page, and technical SEO fundamentals. Keyword research. <strong>Task</strong>: Optimize a blog post for a primary keyword.</p>", video_url: "" },
            { title: "Content Marketing", content: "<p>Creating engaging content that converts. Content calendars and distribution. <strong>Task</strong>: Outline a 30-day content calendar.</p>", video_url: "" },
            { title: "Social Media Strategy", content: "<p>Platform-specific strategies (Facebook, Instagram, LinkedIn). Community engagement. <strong>Task</strong>: Develop a crisis communication plan.</p>", video_url: "" },
            { title: "Email Campaigns", content: "<p>Building lists, segmentation, and automated drip campaigns. A/B testing subject lines. <strong>Task</strong>: Design a 3-part welcome email sequence. üìß</p>", video_url: "" },
            { title: "Google Analytics", content: "<p>Tracking traffic, conversions, and user behavior. Setting up goals. <strong>Task</strong>: Analyze bounce rate across different channels.</p>", video_url: "" },
            { title: "Paid Advertising", content: "<p>PPC fundamentals (Google Ads, Social Media Ads). Budget management. <strong>Task</strong>: Create an ad group with optimized creative and copy.</p>", video_url: "" },
            { title: "Conversion Optimization", content: "<p>CRO. Improving landing pages, calls to action (CTAs), and user flow. <strong>Task</strong>: Redesign a checkout page to reduce cart abandonment.</p>", video_url: "" },
            { title: "Brand Building", content: "<p>Developing a consistent brand voice and visual identity. Trust and authority. <strong>Task</strong>: Write a brand style guide summary.</p>", video_url: "" },
            { title: "Campaign Analysis", content: "<p>Measuring ROI and generating actionable reports. Lifetime value (LTV). <strong>Task</strong>: Present a final marketing campaign report. üìä</p>", video_url: "" },
        ]
    }, {
        id: "mobile_dev",
        title: "Mobile App Development",
        description: "Build cross-platform mobile apps with React Native",
        duration: "10 days",
        level: "Intermediate",
        icon: "üì±",
        category: "programming",
        rating: 4.6,
        students: 1567,
        curriculum: [
            { title: "React Native Setup", content: "<p>Installing dependencies and setting up your development environment (Expo/CLI). <strong>Task</strong>: Run your first 'Hello Mobile' app on a simulator.</p>", video_url: "" },
            { title: "Components & Navigation", content: "<p>Functional components, basic styling, and implementing React Navigation. <strong>Task</strong>: Create a tab bar navigation structure.</p>", video_url: "" },
            { title: "State Management", content: "<p>Using React Hooks (useState, useContext) for local and global state. <strong>Task</strong>: Build a simple counter app with global state.</p>", video_url: "" },
            { title: "API Integration", content: "<p>Fetching data from REST APIs using Axios or Fetch. Handling loading and error states. <strong>Task</strong>: Display a list of items fetched from a public API.</p>", video_url: "" },
            { title: "Native Features", content: "<p>Accessing device features like Camera, Geolocation, and AsyncStorage. <strong>Task</strong>: Implement photo upload functionality.</p>", video_url: "" },
            { title: "Push Notifications", content: "<p>Setting up Firebase Cloud Messaging (FCM) or Expo Notifications. <strong>Task</strong>: Schedule a local notification.</p>", video_url: "" },
            { title: "App Store Guidelines", content: "<p>Understanding Apple and Google Play policies and requirements. <strong>Task</strong>: Prepare app metadata and screenshots.</p>", video_url: "" },
            { title: "Testing & Debugging", content: "<p>Using Chrome DevTools and native debugging tools. Jest for unit testing. <strong>Task</strong>: Write tests for a utility function.</p>", video_url: "" },
            { title: "Performance Optimization", content: "<p>Improving startup time, rendering performance, and bundle size. <strong>Task</strong>: Analyze and reduce component re-renders.</p>", video_url: "" },
            { title: "Publishing", content: "<p>Building production bundles and submitting your app to the stores. <strong>Task</strong>: Generate signed APK/IPA files. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "cyber_sec",
        title: "Cybersecurity Fundamentals",
        description: "Learn ethical hacking and security best practices",
        duration: "10 days",
        level: "Advanced",
        icon: "üîí",
        category: "programming",
        rating: 4.9,
        students: 892,
        curriculum: [
            { title: "Security Principles", content: "<p>The CIA Triad (Confidentiality, Integrity, Availability). Introduction to threat modeling. <strong>Task</strong>: Define a security policy for a small business.</p>", video_url: "" },
            { title: "Network Security", content: "<p>Firewalls, VPNs, IDS/IPS. Understanding TCP/IP vulnerabilities. <strong>Task</strong>: Configure a mock firewall to block specific ports.</p>", video_url: "" },
            { title: "Cryptography", content: "<p>Symmetric vs. Asymmetric encryption, hashing, and digital signatures. <strong>Task</strong>: Implement a basic RSA encryption/decryption function.</p>", video_url: "" },
            { title: "Vulnerability Assessment", content: "<p>Using tools like Nessus and OpenVAS to scan for vulnerabilities. CVSS scoring. <strong>Task</strong>: Analyze a mock scan report and prioritize patches.</p>", video_url: "" },
            { title: "Penetration Testing", content: "<p>The phases of penetration testing. Web application attacks (XSS, SQLi). <strong>Task</strong>: Perform a simulated SQL Injection attack. üõ°Ô∏è</p>", video_url: "" },
            { title: "Incident Response", content: "<p>Containment, eradication, and recovery. Creating an Incident Response Plan (IRP). <strong>Task</strong>: Outline the first 5 steps after detecting a breach.</p>", video_url: "" },
            { title: "Security Tools", content: "<p>Introduction to Kali Linux, Wireshark, and Metasploit. <strong>Task</strong>: Capture and analyze network traffic.</p>", video_url: "" },
            { title: "Compliance Standards", content: "<p>Overview of GDPR, HIPAA, and ISO 27001. Data privacy laws. <strong>Task</strong>: Identify 3 compliance requirements for a health tech app.</p>", video_url: "" },
            { title: "Risk Management", content: "<p>Identifying, assessing, and mitigating security risks. Qualitative vs. quantitative risk analysis. <strong>Task</strong>: Create a risk matrix for an e-commerce platform.</p>", video_url: "" },
            { title: "Capstone Project", content: "<p>Full mock security audit and defense plan for a web application. <strong>Task</strong>: Submit the final audit report. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "aws_cloud",
        title: "Cloud Computing with AWS",
        description: "Master Amazon Web Services and cloud architecture",
        duration: "10 days",
        level: "Intermediate",
        icon: "‚òÅÔ∏è",
        category: "programming",
        rating: 4.8,
        students: 2156,
        curriculum: [
            { title: "AWS Fundamentals", content: "<p>The core services (Compute, Storage, Networking, Database). Global infrastructure. <strong>Task</strong>: Create an AWS Free Tier account.</p>", video_url: "" },
            { title: "EC2 & VPC", content: "<p>Launching and managing Elastic Compute Cloud (EC2) instances. Virtual Private Cloud (VPC) networking. <strong>Task</strong>: Launch a secure T2.micro instance.</p>", video_url: "" },
            { title: "S3 & Storage", content: "<p>Simple Storage Service (S3), EBS, and Glacier. Bucket policies and versioning. <strong>Task</strong>: Host a static website on S3.</p>", video_url: "" },
            { title: "RDS & Databases", content: "<p>Relational Database Service (RDS) vs. DynamoDB (NoSQL). Backup and replication. <strong>Task</strong>: Provision a PostgreSQL instance on RDS.</p>", video_url: "" },
            { title: "Lambda Functions", content: "<p>Serverless computing with AWS Lambda. Event-driven architecture. <strong>Task</strong>: Create a Lambda function triggered by an S3 upload. ‚öôÔ∏è</p>", video_url: "" },
            { title: "CloudFormation", content: "<p>Infrastructure as Code (IaC). Defining infrastructure using JSON/YAML templates. <strong>Task</strong>: Deploy a simple web stack using a CloudFormation template.</p>", video_url: "" },
            { title: "Security & IAM", content: "<p>Identity and Access Management (IAM). Users, groups, roles, and policies. <strong>Task</strong>: Create an IAM user with limited S3 access.</p>", video_url: "" },
            { title: "Monitoring & Logging", content: "<p>Using CloudWatch for metrics, alarms, and logs. <strong>Task</strong>: Set an alarm for high CPU utilization.</p>", video_url: "" },
            { title: "DevOps Integration", content: "<p>CodePipeline and CodeDeploy for CI/CD. <strong>Task</strong>: Deploy an update through a mock pipeline.</p>", video_url: "" },
            { title: "Certification Prep", content: "<p>Review of key services for the AWS Certified Cloud Practitioner exam. <strong>Task</strong>: Complete the final practice exam. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "ui_ux",
        title: "UI/UX Design Professional",
        description: "Create stunning user experiences and interfaces",
        duration: "10 days",
        level: "Beginner",
        icon: "üé®",
        category: "design",
        rating: 4.7,
        students: 2834,
        curriculum: [
            { title: "Design Thinking", content: "<p>Empathize, Define, Ideate, Prototype, Test. The five stages of Design Thinking. <strong>Task</strong>: Conduct a user interview (mock) and synthesize findings.</p>", video_url: "" },
            { title: "User Research", content: "<p>Surveys, A/B testing, card sorting. Creating user personas and empathy maps. <strong>Task</strong>: Develop three distinct user personas for a new app.</p>", video_url: "" },
            { title: "Wireframing", content: "<p>Low-fidelity vs. high-fidelity wireframes. Information architecture. <strong>Task</strong>: Sketch a wireframe for a mobile login flow.</p>", video_url: "" },
            { title: "Prototyping", content: "<p>Creating interactive prototypes using Figma or Sketch. User flow visualization. <strong>Task</strong>: Build a clickable prototype of the app's core feature.</p>", video_url: "" },
            { title: "Visual Design", content: "<p>Color theory, typography, and visual hierarchy. Choosing a brand palette. <strong>Task</strong>: Design a mood board inspired by a <strong>Royal Purple</strong> and <strong>Goldenrod Yellow</strong> palette.</p>", video_url: "" },
            { title: "Interaction Design", content: "<p>Micro-interactions, animations, and transitions. Usability heuristics. <strong>Task</strong>: Design an engaging loading animation.</p>", video_url: "" },
            { title: "Usability Testing", content: "<p>Planning and running usability tests. Analyzing quantitative and qualitative data. <strong>Task</strong>: Write a usability test script and a summary report.</p>", video_url: "" },
            { title: "Design Systems", content: "<p>Creating reusable components and documentation. Consistency and scalability. <strong>Task</strong>: Build a small component library in Figma.</p>", video_url: "" },
            { title: "Figma Mastery", content: "<p>Advanced features: auto layout, variants, and collaboration tools. <strong>Task</strong>: Collaborate on a design file with a partner.</p>", video_url: "" },
            { title: "Portfolio Building", content: "<p>Curating your best work and presenting your design rationale. <strong>Task</strong>: Finalize two case studies for your portfolio. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "ai_ml",
        title: "Artificial Intelligence & ML",
        description: "Deep dive into AI, neural networks, and machine learning",
        duration: "10 days",
        level: "Advanced",
        icon: "ü§ñ",
        category: "data",
        rating: 4.9,
        students: 1245,
        curriculum: [
            { title: "AI Fundamentals", content: "<p>History of AI, different types of AI (Narrow, General, Super). Introduction to common terminology. <strong>Task</strong>: Write a short essay on the Turing Test.</p>", video_url: "" },
            { title: "Machine Learning Algorithms", content: "<p>Decision Trees, Support Vector Machines (SVM), and clustering algorithms. <strong>Task</strong>: Implement K-Means clustering on an unlabeled dataset.</p>", video_url: "" },
            { title: "Neural Networks", content: "<p>Perceptrons, backpropagation, and loss functions. The structure of a basic neural network. <strong>Task</strong>: Manually calculate one step of backpropagation.</p>", video_url: "" },
            { title: "Deep Learning", content: "<p>Introduction to Convolutional Neural Networks (CNN) for images and Recurrent Neural Networks (RNN) for sequences. <strong>Task</strong>: Build a simple CNN for image classification.</p>", video_url: "" },
            { title: "Computer Vision", content: "<p>Image processing, object detection, and facial recognition. OpenCV basics. <strong>Task</strong>: Implement edge detection on an image.</p>", video_url: "" },
            { title: "Natural Language Processing", content: "<p>Tokenization, stemming, lemmatization. Sentiment analysis and text generation. <strong>Task</strong>: Build a simple sentiment analyzer using TF-IDF.</p>", video_url: "" },
            { title: "TensorFlow & PyTorch", content: "<p>Working with the leading deep learning frameworks. Data loaders and GPUs. <strong>Task</strong>: Retrain a pre-trained model (Transfer Learning).</p>", video_url: "" },
            { title: "Model Deployment", content: "<p>Saving models and serving them via a REST API (e.g., Flask). MLOps fundamentals. <strong>Task</strong>: Deploy a trained model endpoint locally.</p>", video_url: "" },
            { title: "AI Ethics", content: "<p>Bias, fairness, accountability, and transparency in AI systems. <strong>Task</strong>: Analyze a case study on algorithmic bias.</p>", video_url: "" },
            { title: "Industry Applications", content: "<p>Exploring AI in finance, healthcare, and self-driving cars. <strong>Task</strong>: Final project submission. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "blockchain",
        title: "Blockchain & Web3 Development",
        description: "Build decentralized applications and smart contracts",
        duration: "10 days",
        level: "Advanced",
        icon: "‚õìÔ∏è",
        category: "programming",
        rating: 4.6,
        students: 743,
        curriculum: [
            { title: "Blockchain Fundamentals", content: "<p>How distributed ledger technology works. Hashing and immutability. <strong>Task</strong>: Implement a simple, local blockchain structure in Python.</p>", video_url: "" },
            { title: "Ethereum & Solidity", content: "<p>The Ethereum Virtual Machine (EVM). Introduction to the Solidity programming language. <strong>Task</strong>: Set up a local development environment (Ganache).</p>", video_url: "" },
            { title: "Smart Contracts", content: "<p>Writing, compiling, and deploying your first contract. State variables and functions. <strong>Task</strong>: Deploy a basic <code>Storage</code> contract to a local testnet</p>.", video_url: "" },
            { title: "Web3.js Integration", content: "<p>Interacting with the blockchain from a frontend application. Connecting wallets (MetaMask). <strong>Task</strong>: Read a variable from your deployed contract using Web3.js.</p>", video_url: "" },
            { title: "DeFi Protocols", content: "<p>Decentralized Finance basics. Lending, borrowing, and stablecoins. <strong>Task</strong>: Explain the mechanism of a liquidity pool.</p>", video_url: "" },
            { title: "NFT Development", content: "<p>ERC-721 and ERC-1155 standards. Metadata and IPFS storage. <strong>Task</strong>: Mint a mock NFT using OpenZeppelin standards.</p>", video_url: "" },
            { title: "Security Best Practices", content: "<p>Common smart contract vulnerabilities (reentrancy, overflow). Auditing tools. <strong>Task</strong>: Identify and fix a vulnerability in a sample contract.</p>", video_url: "" },
            { title: "Testing & Deployment", content: "<p>Using frameworks like Truffle or Hardhat for automated testing and staging deployment. <strong>Task</strong>: Write unit tests for your NFT contract.</p>", video_url: "" },
            { title: "Gas Optimization", content: "<p>Reducing transaction costs and improving efficiency. Storage vs. memory usage. <strong>Task</strong>: Refactor a contract function to save gas.</p>", video_url: "" },
            { title: "DApp Project", content: "<p>Building a full decentralized application (DApp). <strong>Task</strong>: Submit your DApp code and live demo video. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "agile_pm",
        title: "Agile Project Management",
        description: "Master Scrum, Kanban, and modern project leadership",
        duration: "10 days",
        level: "Beginner",
        icon: "üìã",
        category: "business",
        rating: 4.5,
        students: 1876,
        curriculum: [
            { title: "Agile Principles", content: "<p>The Agile Manifesto and its 12 principles. Waterfall vs. Agile comparison. <strong>Task</strong>: Explain the importance of 'working software over comprehensive documentation'.</p>", video_url: "" },
            { title: "Scrum Framework", content: "<p>Roles (Scrum Master, Product Owner, Development Team) and artifacts (Product Backlog, Sprint Backlog). <strong>Task</strong>: Define the first 10 items for a new Product Backlog.</p>", video_url: "" },
            { title: "Kanban Method", content: "<p>Visualizing workflow, limiting work in progress (WIP), and managing flow. <strong>Task</strong>: Design a 5-column Kanban board for a software team.</p>", video_url: "" },
            { title: "Sprint Planning", content: "<p>Estimating user stories (Story Points) and defining the Sprint Goal. <strong>Task</strong>: Conduct a mock Poker Planning session.</p>", video_url: "" },
            { title: "Team Leadership", content: "<p>Servant leadership, coaching, and conflict resolution. <strong>Task</strong>: Write a debrief on a simulated team conflict scenario.</p>", video_url: "" },
            { title: "Stakeholder Management", content: "<p>Identifying and engaging stakeholders. Managing expectations and communication. <strong>Task</strong>: Create a stakeholder engagement plan.</p>", video_url: "" },
            { title: "Risk Assessment", content: "<p>Identifying and mitigating project risks in an iterative environment. <strong>Task</strong>: Perform a qualitative risk assessment on a new feature.</p>", video_url: "" },
            { title: "Quality Assurance", content: "<p>Incorporating quality into every stage of development. Definition of Done (DoD). <strong>Task</strong>: Define a DoD for a simple website feature.</p>", video_url: "" },
            { title: "Project Tools", content: "<p>Using Jira, Trello, or Azure DevOps for backlog management. <strong>Task</strong>: Create and link a user story and a bug report.</p>", video_url: "" },
            { title: "PMP Preparation", content: "<p>Overview of Project Management Professional (PMP) concepts related to Agile. <strong>Task</strong>: Complete the final practice exam. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "python_prog",
        title: "Python Programming Mastery",
        description: "Complete Python course from basics to advanced concepts",
        duration: "10 days",
        level: "Beginner",
        icon: "üêç",
        category: "programming",
        rating: 4.8,
        students: 3567,
        curriculum: [
            { title: "Python Syntax", content: "<p>Variables, data types (strings, integers, booleans), and basic operators. <strong>Task</strong>: Write a program to swap two variables without a temporary variable.</p>", video_url: "" },
            { title: "Data Structures", content: "<p>Lists, Tuples, Dictionaries, and Sets. When to use which structure. <strong>Task</strong>: Create a function to count word frequency in a list of strings.</p>", video_url: "" },
            { title: "Object-Oriented Programming", content: "<p>Classes, objects, inheritance, and encapsulation. <strong>Task</strong>: Create a class structure for a simple library management system.</p>", video_url: "" },
            { title: "File Handling", content: "<p>Reading from and writing to text files and CSV files. Context managers (<code>with</code> statement). <strong>Task</strong>: Read user data from a file and store it in a dictionary.</p>", video_url: "" },
            { title: "Error Handling", content: "<p>Using <code>try</code>, <code>except</code>, <code>else</code>, and <code>finally</code> to manage runtime errors gracefully. <strong>Task</strong>: Write a function that handles <code>ZeroDivisionError</code> and <code>TypeError</code>.</p>", video_url: "" },
            { title: "Libraries & Modules", content: "<p>Installing and importing external packages (e.g., requests, beautifulsoup). <strong>Task</strong>: Build a simple weather checker using an external API library.</p>", video_url: "" },
            { title: "Web Scraping", content: "<p>Using requests and Beautiful Soup to extract data from websites. Ethical scraping practices. <strong>Task</strong>: Scrape product titles from a mock e-commerce page.</p>", video_url: "" },
            { title: "API Development", content: "<p>Introduction to Flask/Django frameworks. Building a simple REST API endpoint. <strong>Task</strong>: Create a '/hello' endpoint using Flask. üöÄ</p>", video_url: "" },
            { title: "Testing", content: "<p>Unit testing with Python's built-in <code>unittest</code> module. Test-Driven Development (TDD) concepts. <strong>Task</strong>: Write tests for a calculator class.</p>", video_url: "" },
            { title: "Real-world Projects", content: "<p>Applying all knowledge to create a final, deployable Python script or application. <strong>Task</strong>: Submit your portfolio project. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "graphic_design",
        title: "Graphic Design Fundamentals",
        description: "Learn Adobe Creative Suite and design principles",
        duration: "10 days",
        level: "Beginner",
        icon: "üñåÔ∏è",
        category: "design",
        rating: 4.6,
        students: 2145,
        curriculum: [
            { title: "Design Principles", content: "<p>Hierarchy, balance, proximity, and repetition. Gestalt principles. <strong>Task</strong>: Analyze a professional poster for its use of hierarchy.</p>", video_url: "" },
            { title: "Color Theory", content: "<p>CMYK vs. RGB, monochromatic, complementary, and analogous color schemes. <strong>Task</strong>: Design a logo using a complementary color scheme of <strong>Emerald Green</strong> and <strong>Ruby Red</strong>.</p>", video_url: "" },
            { title: "Typography", content: "<p>Serif vs. Sans-serif, kerning, tracking, and leading. Font pairing best practices. <strong>Task</strong>: Choose and justify a typeface for a modern tech company.</p>", video_url: "" },
            { title: "Adobe Photoshop", content: "<p>Layers, masks, retouching, and non-destructive editing. <strong>Task</strong>: Retouch a sample portrait photo.</p>", video_url: "" },
            { title: "Adobe Illustrator", content: "<p>Vector vs. raster graphics. Paths, anchor points, and the Pen Tool. <strong>Task</strong>: Recreate a simple icon using the Pen Tool.</p>", video_url: "" },
            { title: "Logo Design", content: "<p>The logo design process, from sketching to final vectorization. Logo styles. <strong>Task</strong>: Design three variations of a logo concept.</p>", video_url: "" },
            { title: "Brand Identity", content: "<p>Visual identity, brand voice, and mood boards. <strong>Task</strong>: Create a mini-brand style guide for a fictional cafe.</p>", video_url: "" },
            { title: "Print Design", content: "<p>DPI, bleed, trim, and safe zones. Preparing files for commercial printing. <strong>Task</strong>: Design a business card with correct print settings.</p>", video_url: "" },
            { title: "Digital Design", content: "<p>Designing for web and mobile. Resolution independence. <strong>Task</strong>: Design a simple social media ad banner.</p>", video_url: "" },
            { title: "Portfolio Creation", content: "<p>Curating your best work and presenting your design rationale. <strong>Task</strong>: Finalize two case studies for your portfolio. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "business_ana",
        title: "Business Analytics",
        description: "Data-driven decision making for business growth",
        duration: "10 days",
        level: "Intermediate",
        icon: "üìä",
        category: "business",
        rating: 4.7,
        students: 1432,
        curriculum: [
            { title: "Business Intelligence", content: "<p>The BI lifecycle, data warehousing, and ETL processes. <strong>Task</strong>: Map out a simple data flow diagram from source to report.</p>", video_url: "" },
            { title: "Excel Advanced", content: "<p>Pivot tables, advanced formulas (VLOOKUP, INDEX/MATCH), and macro recording. <strong>Task</strong>: Build a dynamic dashboard using a pivot table.</p>", video_url: "" },
            { title: "SQL for Business", content: "<p>SELECT, JOIN, GROUP BY, and aggregate functions. Relational database concepts. <strong>Task</strong>: Write a SQL query to find the top 5 customers by sales revenue.</p>", video_url: "" },
            { title: "Tableau Visualization", content: "<p>Connecting data sources, creating charts, and building interactive dashboards. <strong>Task</strong>: Create a time-series line chart and a scatter plot in Tableau (mock exercise).</p>", video_url: "" },
            { title: "KPI Development", content: "<p>Defining Key Performance Indicators (KPIs). Leading vs. lagging indicators. <strong>Task</strong>: Define 5 KPIs for a SaaS subscription business. üìà</p>", video_url: "" },
            { title: "Forecasting", content: "<p>Time series analysis, moving averages, and simple linear regression for forecasting. <strong>Task</strong>: Forecast next quarter's sales using a 3-period moving average.</p>", video_url: "" },
            { title: "A/B Testing", content: "<p>Designing, executing, and analyzing split tests for optimal results. Statistical significance. <strong>Task</strong>: Determine if a 5% increase in conversion is significant given sample size.</p>", video_url: "" },
            { title: "Customer Analytics", content: "<p>Customer lifetime value (CLV), churn prediction, and segmentation. RFM analysis. <strong>Task</strong>: Segment customers using RFM analysis.</p>", video_url: "" },
            { title: "Financial Modeling", content: "<p>Building basic financial statements and projection models (mock exercise). <strong>Task</strong>: Calculate Net Present Value (NPV) for a new investment.</p>", video_url: "" },
            { title: "Strategic Planning", content: "<p>Translating data insights into actionable business strategies and recommendations. <strong>Task</strong>: Present a final data-driven strategic recommendation. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "devops",
        title: "DevOps Engineering",
        description: "Master CI/CD, containerization, and infrastructure automation",
        duration: "10 days",
        level: "Advanced",
        icon: "‚öôÔ∏è",
        category: "programming",
        rating: 4.8,
        students: 987,
        curriculum: [
            { title: "DevOps Culture", content: "<p>The philosophy of DevOps. CALMS framework (Culture, Automation, Lean, Measurement, Sharing). <strong>Task</strong>: Compare the roles of a Developer vs. an Operations Engineer.</p>", video_url: "" },
            { title: "Git & Version Control", content: "<p>Advanced branching strategies (Gitflow, Trunk-based). Resolving complex merges. <strong>Task</strong>: Perform a rebase and a squash merge on a sample repository.</p>", video_url: "" },
            { title: "Docker Containers", content: "<p>Dockerfiles, images, and container orchestration basics. <strong>Task</strong>: Create a Dockerfile for a Python web application and build the image.</p>", video_url: "" },
            { title: "Kubernetes", content: "<p>Pods, Deployments, Services, and Namespaces. Cluster architecture overview. <strong>Task</strong>: Deploy a simple application to a mock Kubernetes cluster.</p>", video_url: "" },
            { title: "CI/CD Pipelines", content: "<p>Continuous Integration and Continuous Delivery concepts. Jenkins/GitHub Actions intro. <strong>Task</strong>: Define a YAML pipeline to automate build and test stages.</p>", video_url: "" },
            { title: "Infrastructure as Code", content: "<p>IaC using Terraform or Ansible. State management. <strong>Task</strong>: Write a basic Terraform configuration to provision a virtual machine.</p>", video_url: "" },
            { title: "Monitoring & Logging", content: "<p>Using Prometheus/Grafana for monitoring and ELK/Splunk for centralized logging. <strong>Task</strong>: Create a dashboard to track application latency.</p>", video_url: "" },
            { title: "Security Integration", content: "<p>DevSecOps principles. Security scanning in the CI/CD pipeline. <strong>Task</strong>: Integrate a static code analysis tool into the build process.</p>", video_url: "" },
            { title: "Cloud Platforms", content: "<p>Comparing deployment strategies on AWS, Azure, and Google Cloud. Cost optimization. <strong>Task</strong>: Identify a cost-saving strategy for a given cloud infrastructure.</p>", video_url: "" },
            { title: "Automation", content: "<p>Scripting complex tasks using Bash or Python. <strong>Task</strong>: Final project: Create a complete CI/CD pipeline from code commit to production deployment. ‚úÖ</p>", video_url: "" },
        ]
    }, {
        id: "content_create",
        title: "Content Creation & Video Editing",
        description: "Create engaging content for social media and marketing",
        duration: "10 days",
        level: "Beginner",
        icon: "üé¨",
        category: "design",
        rating: 4.5,
        students: 1890,
        curriculum: [
            { title: "Storyboarding", content: "<p>Developing a visual narrative. From script to screen outline. <strong>Task</strong>: Create a 6-panel storyboard for a 30-second promo video.</p>", video_url: "" },
            { title: "Video Shooting Basics", content: "<p>Rule of thirds, lighting, and audio quality. Using smartphone cameras effectively. <strong>Task</strong>: Film a 1-minute segment demonstrating proper lighting setup.</p>", video_url: "" },
            { title: "Adobe Premiere Pro", content: "<p>Interface, basic cuts, transitions, and multi-track editing. <strong>Task</strong>: Edit a short interview using J-cuts and L-cuts.</p>", video_url: "" },
            { title: "Color Grading", content: "<p>Color correction, LUTs, and establishing mood with color. <strong>Task</strong>: Apply a 'cinematic' grade using Lumetri Color panel.</p>", video_url: "" },
            { title: "Sound Design", content: "<p>Mixing audio tracks, adding music, and noise reduction. Royalty-free audio resources. <strong>Task</strong>: Mix dialogue, music, and sound effects for a short scene.</p>", video_url: "" },
            { title: "Motion Graphics", content: "<p>Basic text animation and lower thirds using Adobe After Effects (or similar tools). <strong>Task</strong>: Create a simple animated logo reveal.</p>", video_url: "" },
            { title: "YouTube Optimization", content: "<p>Titles, thumbnails, tags, and end screens for maximizing views. <strong>Task</strong>: Design a compelling, click-worthy thumbnail graphic.</p>", video_url: "" },
            { title: "Social Media Formats", content: "<p>Creating content for TikTok, Reels, and YouTube Shorts (vertical video). Aspect ratios. <strong>Task</strong>: Repurpose a 16:9 video into a 9:16 vertical format.</p>", video_url: "" },
            { title: "Content Strategy", content: "<p>Developing a content calendar and defining KPIs for video performance. <strong>Task</strong>: Outline a viral strategy for a product launch.</p>", video_url: "" },
            { title: "Final Project", content: "<p>Produce and edit a complete 2-3 minute video for a client or portfolio. <strong>Task</strong>: Submit your final edited video file. ‚úÖ</p>", video_url: "" },
        ]
    },];

    const firebaseConfig = {
        apiKey: "AIzaSyBnQ0s1jFoMH6J7vhKVM7NVC-WNScLdA7E",
        authDomain: "sutherland-6ce2b.firebaseapp.com",
        databaseURL: "https://sutherland-6ce2b-default-rtdb.firebaseio.com",
        projectId: "sutherland-6ce2b",
        storageBucket: "sutherland-6ce2b.firebasestorage.app",
        messagingSenderId: "243800407888",
        appId: "1:243800407888:web:2c4dfa1e6a267ba2a17655",
        measurementId: "G-S6GMQ32JJ5"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const database = firebase.database();
    // Initialize Firebase Storage (kept but not used for large video files)
    const storage = firebase.storage();

    // Data Storage
    let users = [];
    let certificates = [];
    let globalNotification = null;
    let currentUserId = null;


    // --- UI Helpers ---
    function hideAllScreens() {
        // Added 'my-account-screen' and 'notification-modal' to hide list
        ['welcome-screen', 'login-form', 'register-form', 'dashboard-screen', 'course-list', 'course-detail', 'course-learning', 'profile-screen', 'certificate-screen', 'certificates-screen', 'admin-dashboard-panel', 'admin-login-screen', 'admin-user-details-modal', 'admin-course-manager-panel', 'my-account-screen', 'notification-modal'].forEach(id => {
            const element = document.getElementById(id);
            if (element) element.style.display = 'none';
        });
    }

    function updateNav(isLoggedIn, isAdmin) {
        const navButtons = document.getElementById('nav-buttons');
        const userNav = document.getElementById('user-nav');
        const adminNav = document.getElementById('admin-nav');

        navButtons.style.display = 'none';
        userNav.style.display = 'none';
        adminNav.style.display = 'none';

        if (isAdmin) {
            adminNav.style.display = 'flex';
        } else if (isLoggedIn) {
            if (currentUser) {
                document.getElementById('user-name-nav').textContent = currentUser.name.split(' ')[0];
                document.getElementById('user-avatar').textContent = currentUser.name.charAt(0);
                // Update notification badge on every navigation update
                updateNotificationBadge();
            }
            userNav.style.display = 'flex';
        } else {
            navButtons.style.display = 'flex';
        }
    }

    // --- Screen Navigation Functions ---

    function showWelcomeScreen() {
        hideAllScreens();
        isAdminLoggedIn = false;
        updateNav(false, false);
        document.getElementById('welcome-screen').style.display = 'block';
    }
    function showLogin() { hideAllScreens(); document.getElementById('login-form').style.display = 'block'; }
    function showRegister() { hideAllScreens(); document.getElementById('register-form').style.display = 'block'; }
    function showCourseList() { hideAllScreens(); document.getElementById('course-list').style.display = 'block'; renderCourseList(courses); resetFilterButtons('all'); }
    async function showDashboard() {
        // FIX: Ensure latest data is fetched before showing dashboard
        if (!currentUserId) return showLogin();
        await fetchUserData(); // RELOAD DATA

        // Update last_active timestamp on navigating to Dashboard
        if (currentUserId) {
            database.ref(`edupro_users/${currentUserId}/last_active`).set(Date.now());
        }

        hideAllScreens();
        document.getElementById('dashboard-screen').style.display = 'block';
        renderDashboard();
    }
    async function showCertificates() {
        // FIX: Ensure certificates are latest before rendering
        if (!currentUserId) return showLogin();
        await fetchUserData(); // RELOAD DATA

        hideAllScreens();
        document.getElementById('certificates-screen').style.display = 'block';
        renderCertificates();
    }
    function showProfile() {
        // FIX: Ensure courses are latest before rendering
        if (!currentUserId) return showLogin();
        fetchUserData().then(() => { // RELOAD DATA
            hideAllScreens();
            document.getElementById('profile-screen').style.display = 'block';
            renderProfileCourses();
        });
    }
    function showAdminLogin() { hideAllScreens(); document.getElementById('admin-login-screen').style.display = 'block'; }

    // FIX: Show My Account Screen - Must fetch latest user details
    async function showMyAccount() {
        if (!currentUserId) return showLogin();
        await fetchUserData(); // RELOAD DATA

        hideAllScreens();
        document.getElementById('my-account-screen').style.display = 'block';
        renderMyAccount();
    }

    function showCertificateScreen(certData) {
        hideAllScreens();
        document.getElementById('certificate-screen').style.display = 'block';
        renderCertificate(certData);
    }

    // NEW: Global Notification Popup logic
    async function showNotificationPopup() {
        if (!currentUserId || !currentUser) return showLogin();
        const modal = document.getElementById('notification-modal');
        const content = document.getElementById('notification-content');
        const timestampDisplay = document.getElementById('notification-timestamp');

        await fetchUserData(); // Ensure latest notification data

        if (globalNotification && globalNotification.message) {
            content.innerHTML = `<p class="font-medium text-lg">${globalNotification.message}</p>`;
            timestampDisplay.textContent = new Date(globalNotification.timestamp).toLocaleString();
        } else {
            content.innerHTML = `<p class="font-medium text-lg">No active announcements.</p>`;
            timestampDisplay.textContent = 'N/A';
        }

        // Mark notification as seen
        if (globalNotification && globalNotification.timestamp) {
            await database.ref(`edupro_users/${currentUserId}/last_notification_check`).set(globalNotification.timestamp);
            currentUser.last_notification_check = globalNotification.timestamp;
            updateNotificationBadge();
        }

        modal.style.display = 'flex';
    }

    function closeNotificationPopup() {
        document.getElementById('notification-modal').style.display = 'none';
    }

    // NEW: Logic to update the unread notification badge
    function updateNotificationBadge() {
        const badge = document.getElementById('notification-badge');

        if (!currentUser || !globalNotification || !globalNotification.timestamp) {
            badge.classList.add('hidden');
            return;
        }

        const lastCheck = currentUser.last_notification_check || 0;

        if (globalNotification.timestamp > lastCheck) {
            badge.textContent = 'New!';
            badge.classList.remove('hidden');
        } else {
            badge.classList.add('hidden');
        }
    }

    // NEW: Course Manager Navigation
    function showCourseManagerPanel() {
        if (!isAdminLoggedIn) return showAdminLogin();
        hideAllScreens();
        document.getElementById('admin-course-manager-panel').style.display = 'block';
        renderCourseManagerPanel();
    }

    async function showAdminDashboard() {
        if (!isAdminLoggedIn) return showAdminLogin();
        currentPage = 1; // Reset page when opening dashboard
        hideAllScreens();
        document.getElementById('admin-dashboard-panel').style.display = 'block';
        await fetchUserData(); // Ensure latest data before rendering
        renderAdminDashboard();
    }

    function startLearning(courseId) {
        if (!currentUserId || !currentUser) return showLogin();
        // Update last_active timestamp
        database.ref(`edupro_users/${currentUserId}/last_active`).set(Date.now());

        const course = courses.find(c => c.id === courseId);
        const userEnrollment = currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;

        // Check if user is actively enrolled (unlocked: status === true)
        if (!userEnrollment || userEnrollment.status !== true) {
            alert("Course not yet unlocked. Please check your payment status on the 'My Courses' page. Status must be ACTIVE (True) for access.");
            showCourseDetail(courseId);
            return;
        }

        // CRITICAL FIX: Check if certified, if so, show certificate instead of learning screen
        const isCertified = certificates.some(c => c.userId === currentUserId && c.courseId === courseId);
        if (isCertified) {
            const certData = certificates.find(c => c.userId === currentUserId && c.courseId === courseId);
            showCertificateScreen(certData);
            return;
        }


        hideAllScreens();
        document.getElementById('course-learning').style.display = 'block';
        currentCourse = course;
        // IMPORTANT: If starting, ensure day is reset to 1 if coming from 100% completion before certification was issued
        const currentDayState = userEnrollment.day || 1;
        currentDay = currentDayState;
        renderCourseContent();
    }

    // NEW: Pagination handler
    function handlePagination(direction) {
        if (direction === 'next') {
            currentPage++;
        } else if (direction === 'prev' && currentPage > 1) {
            currentPage--;
        }
        renderAdminStudentTable();
    }

    // --- Core Application Logic ---

    function initializeUI() {
        // CRITICAL FIX: Fetch initial course data immediately on load
        fetchUserData(true).then(() => {
            auth.onAuthStateChanged((user) => {
                if (user) {
                    if (user.email === ADMIN_EMAIL && user.uid === 'admin-mock-uid') {
                        // Admin logic handled by local flag
                    } else {
                        currentUserId = user.uid;
                        // Fetch all data including notifications
                        fetchUserData().then(() => {
                            updateNav(true, false);
                            if (document.getElementById('welcome-screen').style.display !== 'none' ||
                                document.getElementById('login-form').style.display !== 'none' ||
                                document.getElementById('register-form').style.display !== 'none'
                            ) {
                                // Only show dashboard if user is not in the middle of course/cert view
                                if (document.getElementById('course-learning').style.display === 'none' &&
                                    document.getElementById('certificate-screen').style.display === 'none') {
                                    showDashboard();
                                }
                            }
                        });
                    }
                } else {
                    currentUserId = null;
                    currentUser = null;
                    updateNav(false, isAdminLoggedIn);
                    if (!isAdminLoggedIn) {
                        if (document.getElementById('dashboard-screen').style.display === 'block' ||
                            document.getElementById('profile-screen').style.display === 'block' ||
                            document.getElementById('certificates-screen').style.display === 'block' ||
                            document.getElementById('course-learning').style.display === 'block' ||
                            document.getElementById('my-account-screen').style.display === 'block'
                        ) {
                            showWelcomeScreen();
                        }
                    }
                }
            });

            loadPopularCourses();
        });
    }

    // CRITICAL FIX: Added loadCoursesData flag to separate initial course load from user data load
    async function fetchUserData(loadCoursesData = false) {
        try {
            if (loadCoursesData) {
                const courseSnapshot = await database.ref('edupro_courses').once('value');
                const dbCourses = courseSnapshot.val();

                if (dbCourses && Array.isArray(dbCourses) && dbCourses.length > 0) {
                    // Overwrite the local sample array with persistent data
                    courses = dbCourses;
                    loadPopularCourses(); // Refresh welcome screen previews if courses loaded
                }
            }

            // Continue fetching user-specific data
            const userSnapshot = await database.ref('edupro_users').once('value');
            users = userSnapshot.val() ? Object.keys(userSnapshot.val()).map(uid => ({
                uid,
                ...userSnapshot.val()[uid]
            })) : [];
            currentUser = users.find(u => u.uid === currentUserId);

            const certificateSnapshot = await database.ref('certificates').once('value');
            certificates = certificateSnapshot.val() ? Object.values(certificateSnapshot.val()) : [];

            // NEW: Fetch Global Notification
            const notificationSnapshot = await database.ref('edupro_notifications').once('value');
            const rawNotification = notificationSnapshot.val();

            // Clear old notifications (after 10 days - 864,000,000 milliseconds)
            const tenDaysAgo = Date.now() - (10 * 24 * 60 * 60 * 1000);
            if (rawNotification && rawNotification.timestamp < tenDaysAgo) {
                // Clear the notification in Firebase
                await database.ref('edupro_notifications').remove();
                globalNotification = null;
                document.getElementById('current-global-notification').textContent = 'None (Cleared)';
            } else {
                globalNotification = rawNotification;
                if (globalNotification) {
                    document.getElementById('current-global-notification').textContent = globalNotification.message;
                }
            }

        } catch (error) {
            console.error("Error fetching data:", error);
            // Keep local data in case of failure, but log error
        }
    }

    // --- Auth & DB Handlers ---

    async function handleAdminLogin(event) {
        event.preventDefault();
        const email = document.getElementById('admin-email').value;
        const password = document.getElementById('admin-password').value;

        if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
            isAdminLoggedIn = true;
            updateNav(false, true);
            showAdminDashboard();
        } else {
            alert("Invalid Admin Credentials.");
        }
    }

    function adminLogout() {
        isAdminLoggedIn = false;
        updateNav(false, false);
        showWelcomeScreen();
    }

    async function handleLogin(event) {
        event.preventDefault();
        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;

        try {
            // Check disabled status before signing in
            await fetchUserData();
            const userToLogin = users.find(u => u.email === email);

            if (userToLogin && userToLogin.disabled === true) {
                alert("Account is temporarily disabled by the administrator. Please contact support.");
                return;
            }

            const userCredential = await auth.signInWithEmailAndPassword(email, password);
            // Update last_active timestamp on successful login
            if (userCredential.user.uid) {
                database.ref(`edupro_users/${userCredential.user.uid}/last_active`).set(Date.now());
            }
        } catch (error) {
            alert(`Login Failed: ${error.message}`);
        }
    }

    async function handleRegister(event) {
        event.preventDefault();
        const name = document.getElementById('register-name').value;
        const email = document.getElementById('register-email').value;
        const phone = document.getElementById('register-phone').value;
        const password = document.getElementById('register-password').value;

        try {
            // Name warning alert
            const nameWarning = `
                    ‚ö†Ô∏è WARNING ‚ö†Ô∏è
                    The name provided ("${name}") will be used EXCLUSIVELY for your official certificate.
                    It cannot be changed later. 
                    
                    Click OK to confirm your name and continue registration.
                `;
            if (!window.confirm || !window.confirm(nameWarning)) {
                alert(nameWarning + "\nRegistration CANCELLED.");
                return;
            }


            const userCredential = await auth.createUserWithEmailAndPassword(email, password);
            const uid = userCredential.user.uid;

            await database.ref('edupro_users/' + uid).set({
                name: name,
                email: email,
                phone: phone,
                joined: new Date().toISOString().split('T')[0],
                disabled: false,
                last_active: Date.now(),
                last_notification_check: 0 // NEW: for notification tracking
            });

        } catch (error) {
            alert(`Registration Failed: ${error.message}`);
        }
    }

    function logout() {
        // Update last_active on logout
        if (currentUserId) {
            database.ref(`edupro_users/${currentUserId}/last_active`).set(Date.now());
        }
        auth.signOut();
        showWelcomeScreen();
    }


    async function initiatePayment(courseId) {
        if (!currentUserId) return showLogin();
        if (!currentUser) await fetchUserData();

        const course = courses.find(c => c.id === courseId);
        const userEnrollment = currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;

        if (userEnrollment && userEnrollment.status === true) {
            alert(`You are already enrolled and the ${course.title} course is ACTIVE!`);
            return;
        }

        if (userEnrollment && userEnrollment.status === false) {
            // Already pending, just redirect to payment and remind them.
            window.open(PAYMENT_LINK, '_blank');
            alert("Your enrollment is already PENDING confirmation. Redirecting to payment portal again.");
            return;
        }

        try {
            // 1. Mark enrollment as PENDING (status: false) with day 1
            await database.ref(`edupro_users/${currentUserId}/enrolled_courses/${courseId}/day`).set(1);
            await database.ref(`edupro_users/${currentUserId}/enrolled_courses/${courseId}/status`).set(false);


            // 2. Refresh local data and update UI (important after enrollment)
            await fetchUserData();
            currentUser = users.find(u => u.uid === currentUserId);
            showCourseDetail(courseId); // Update the button/status message

            // 3. Redirect user to payment link in a new tab
            window.open(PAYMENT_LINK, '_blank');

            alert(`Payment initiated for ${course.title}. Your enrollment is PENDING confirmation. Please allow time for admin approval.`);

        } catch (error) {
            alert(`Failed to initiate enrollment: ${error.message}`);
        }
    }

    async function advanceDay(courseId) {
        if (!currentUserId || !currentUser) return showLogin();

        const course = courses.find(c => c.id === courseId);
        const userEnrollment = currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;

        // Must be UNLOCKED (status: true)
        if (!userEnrollment || userEnrollment.status !== true) {
            alert("This course is currently locked. Please contact support if you believe this is an error.");
            return;
        }
        // Update last_active timestamp
        database.ref(`edupro_users/${currentUserId}/last_active`).set(Date.now());


        const nextDay = userEnrollment.day + 1;
        const isCompleted = nextDay > course.curriculum.length;
        // CRITICAL FIX: Check if already certified
        const isCertified = certificates.some(c => c.userId === currentUserId && c.courseId === courseId);


        try {

            if (isCompleted) {
                // If already certified, just show the cert and exit
                if (isCertified) {
                    const certData = certificates.find(c => c.userId === currentUserId && c.courseId === courseId);
                    showCertificateScreen(certData);
                    return;
                }

                // mark final day
                await database.ref(`edupro_users/${currentUserId}/enrolled_courses/${courseId}/day`).set(course.curriculum.length);

                try {
                    // generate, save, and render certificate under /certificates/{refNo}
                    const certObj = await generateAndSaveCertificate(currentUserId, courseId);
                    // reload data
                    await fetchUserData();
                    currentUser = users.find(u => u.uid === currentUserId);
                    // show certificate screen with our certObj
                    showCertificateScreen(certObj);
                    alert(`Congratulations! You have completed the ${course.title} course and earned a certificate!`);
                } catch (err) {
                    console.error('Certificate creation failed', err);
                    alert('Course completed but failed to issue certificate. See console.');
                }
            } else {
                await database.ref(`edupro_users/${currentUserId}/enrolled_courses/${courseId}/day`).set(nextDay);

                // CRITICAL FIX: Reload data after advancing a day
                await fetchUserData();
                currentUser = users.find(u => u.uid === currentUserId);

                currentCourse = courses.find(c => c.id === courseId); // Re-fetch currentCourse to get latest video URL
                currentDay = nextDay;
                renderCourseContent();
            }

            // Ensure metrics are updated after any progress change
            renderDashboard();

        } catch (error) {
            console.error("Error advancing day:", error);
            alert(`Failed to update progress: ${error.message}`);
        }
    }

    // FIX/UPDATE: Permanent deletion of user data
    async function deleteUserPermanently(userId) {
        if (!isAdminLoggedIn) return;
        const userToDelete = users.find(u => u.uid === userId);
        if (!userToDelete) return;

        if (confirm(`ARE YOU SURE you want to permanently delete ALL data for user: ${userToDelete.name} (${userToDelete.email})? This action cannot be undone and will not be logged out in a real application!`)) {
            try {
                // 1. Delete user profile and enrollments
                await database.ref(`edupro_users/${userId}`).remove();

                // 2. Delete associated certificates (filter locally, delete from DB)
                certificates.filter(c => c.userId === userId).forEach(async (cert) => {
                    await database.ref(`certificates/${cert.id}`).remove();
                });

                // 3. Re-fetch data and update UI
                await fetchUserData();
                renderAdminDashboard();
                closeAdminUserDetails();
                alert(`User ${userToDelete.name} and all associated data have been permanently deleted.`);

            } catch (error) {
                console.error("Error deleting user:", error);
                alert(`Failed to delete user: ${error.message}`);
            }
        }
    }

    // FIX/UPDATE: Toggle disable status
    async function toggleUserDisableStatus(userId) {
        if (!isAdminLoggedIn) return;
        const userToToggle = users.find(u => u.uid === userId);
        if (!userToToggle) return;

        const currentDisabledStatus = userToToggle.disabled || false;
        const newDisabledStatus = !currentDisabledStatus;

        try {
            // Update the user's profile with the new disabled status
            await database.ref(`edupro_users/${userId}/disabled`).set(newDisabledStatus);

            await fetchUserData();
            renderAdminDashboard();
            // Update modal view right after the change
            showAdminUserDetails(userId);

            alert(`User ${userToToggle.name}'s account status changed to: ${newDisabledStatus ? 'DISABLED (Cannot Log In)' : 'ENABLED (Can Log In)'}`);

        } catch (error) {
            console.error("Error toggling disable status:", error);
            alert(`Failed to change disable status: ${error.message}`);
        }
    }


    // --- Render Functions (Student / Unchanged) ---
    function renderCourseCard(course) { /* ... unchanged ... */
        const userEnrollment = currentUser && currentUser.enrolled_courses ? currentUser.enrolled_courses[course.id] : null;
        const isEnrolled = userEnrollment && userEnrollment.status === true;
        const isPending = userEnrollment && userEnrollment.status === false;
        const isNotEnrolled = !userEnrollment;
        // CRITICAL FIX: Check if certified directly
        const isCertified = certificates.some(c => c.userId === currentUserId && c.courseId === course.id);


        let cardClasses = 'shadow-lg';
        let buttonText = 'View Details';

        if (currentUser) {
            if (isCertified) {
                cardClasses = 'border-4 border-yellow-500 shadow-xl';
                buttonText = 'View Certificate üèÜ';
            } else if (isEnrolled) {
                cardClasses = 'border-4 border-green-500 shadow-xl';
                buttonText = 'View Course';
            } else if (isPending) {
                cardClasses = 'border-4 border-orange-500 shadow-xl';
                buttonText = 'Awaiting Confirmation';
            } else if (isNotEnrolled) {
                buttonText = 'Enroll Now';
            }
        }

        return `
                <div class="card-hover bg-white p-6 rounded-xl ${cardClasses}">
                    <div class="text-3xl mb-3">${course.icon}</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">${course.title}</h3>
                    <p class="text-gray-600 mb-4">${course.description}</p>
                    <div class="flex justify-between text-sm text-gray-500 mb-4">
                        <span>Level: ${course.level}</span>
                        <span>Duration: ${course.duration}</span>
                    </div>
                    <div class="flex items-center space-x-1 text-yellow-500 mb-4">
                        ${'‚òÖ'.repeat(Math.floor(course.rating))}
                        ${course.rating % 1 !== 0 ? '‚òÜ' : ''}
                        <span class="text-gray-600 ml-1">(${course.students} enrolled)</span>
                    </div>
                    <button onclick="showCourseDetail('${course.id}')" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition-colors">
                        ${buttonText}
                    </button>
                </div>
            `;
    }
    function loadPopularCourses() { /* ... unchanged ... */
        const container = document.getElementById('popular-courses-preview');
        // FIX: Ensure courses array has content before slicing
        const popularCourses = courses.slice(0, 3);
        container.innerHTML = popularCourses.map(renderCourseCard).join('');
    }

    function renderCourseList(filteredCourses) { /* ... unchanged ... */
        const container = document.getElementById('courses-container');
        container.innerHTML = filteredCourses.map(renderCourseCard).join('');
    }

    function filterCourses(category) { /* ... unchanged ... */
        let filtered = courses;
        if (category !== 'all') {
            filtered = courses.filter(course => course.category === category);
        }
        renderCourseList(filtered);
        resetFilterButtons(category);
    }

    function resetFilterButtons(activeCategory) { /* ... unchanged ... */
        document.querySelectorAll('.language-filter').forEach(btn => {
            btn.classList.remove('active');
        });
        const activeBtn = document.querySelector(`.language-filter[onclick="filterCourses('${activeCategory}')"]`);
        if (activeBtn) {
            activeBtn.classList.add('active');
        }
    }
    async function showCourseDetail(courseId) { /* ... unchanged ... */
        const course = courses.find(c => c.id === courseId);
        if (!course) return;

        hideAllScreens();
        document.getElementById('course-detail').style.display = 'block';
        const container = document.getElementById('course-detail-content');
        container.setAttribute('data-course-id', courseId);

        const userEnrollment = currentUser && currentUser.enrolled_courses ? currentUser.enrolled_courses[courseId] : null;
        const isEnrolled = userEnrollment && userEnrollment.status === true;
        const isPending = userEnrollment && userEnrollment.status === false;
        const isNotEnrolled = !currentUser || !userEnrollment;
        const currentDay = userEnrollment ? userEnrollment.day : 1;
        // CRITICAL FIX: Check if certified
        const isCertified = certificates.some(c => c.userId === currentUserId && c.courseId === courseId);


        let actionButton;
        let enrollmentMessage;


        if (isCertified) {
            const certData = certificates.find(c => c.userId === currentUserId && c.courseId === courseId);
            actionButton = `<button onclick="showCertificateScreen(certData)" class="w-full bg-yellow-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-yellow-700 transition-colors">
                        View Certificate üèÜ
                    </button>`;
            enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">You have successfully completed this course and earned your certificate.</p>`;
        } else if (isEnrolled) {
            actionButton = `<button onclick="startLearning('${course.id}')" class="w-full bg-green-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-green-700 transition-colors">
                    Continue Learning (Day ${currentDay})
                </button>`;
            enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">You have full, lifetime access to this course.</p>`;

        } else if (isPending) {
            actionButton = `<div class="p-4 bg-orange-100 border border-orange-400 rounded-lg text-orange-800">
                    <p class="font-semibold mb-2">Enrollment is **PENDING** admin confirmation.</p>
                    <p class="text-sm">Please allow time for processing. Your status: <span class="font-bold">LOCKED (FALSE)</span></p>
                </div>`;
            enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">Check My Courses for status updates. <button onclick="window.open(PAYMENT_LINK, '_blank')" class="text-indigo-600 underline">View Payment Portal</button></p>`;

        } else if (isNotEnrolled && currentUser) {
            actionButton = `<button onclick="initiatePayment('${course.id}')" class="w-full bg-indigo-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors shadow-xl">
                    Enroll Now - Pay Now
                </button>`;
            enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">Clicking above initiates enrollment (sets status to FALSE) and opens the payment portal.</p>`;

        } else {
            actionButton = `<button onclick="showLogin()" class="w-full bg-indigo-600 text-white py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors shadow-xl">
                    Sign In to Enroll
                </button>`;
            enrollmentMessage = `<p class="text-center text-sm text-gray-500 mt-4">You must be logged in to enroll in this course.</p>`;
        }


        // Use the correct title for the list display
        const curriculumHTML = course.curriculum.map((item, index) => {
            const day = index + 1;
            // Check if curriculum is rich content or simple string
            const dayTitle = typeof item === 'object' && item.title ? item.title : item;

            const completed = isEnrolled && day < currentDay;
            const current = isEnrolled && day === currentDay;
            const statusIcon = completed ? '‚úÖ' : current ? 'üî•' : 'üîí';
            const statusColor = completed ? 'text-green-600' : current ? 'text-red-500' : 'text-gray-500';
            const isLockedVisual = !isEnrolled || (isEnrolled && day > currentDay);


            return `
                    <li class="p-4 border-b last:border-b-0 flex items-center justify-between ${isLockedVisual ? 'opacity-50' : ''}">
                        <span class="font-medium flex items-center">Day ${day}: ${dayTitle}</span>
                        <span class="${statusColor}">${statusIcon}</span>
                    </li>
                `;
        }).join('');

        const html = `
                <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden p-8">
                    <div class="md:flex md:space-x-8">
                        <div class="md:w-2/3">
                            <h2 class="text-5xl font-extrabold text-gray-900 mb-3">${course.icon} ${course.title}</h2>
                            <p class="text-xl text-gray-600 mb-6">${course.description}</p>

                            <div class="flex items-center space-x-6 text-gray-700 mb-8">
                                <span class="flex items-center">
                                    <svg class="w-5 h-5 mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a5 5 0 00-5 5c0 1.05.176 2.05.51 3L10 16l4.49-3A5 5 0 0015 10a5 5 0 00-5-5z" clip-rule="evenodd"/></svg>
                                    ${course.level}
                                </span>
                                <span class="flex items-center">
                                    <svg class="w-5 h-5 mr-1 text-indigo-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"/></svg>
                                    ${course.duration}
                                </span>
                                <span class="flex items-center text-yellow-500">
                                    ${'‚òÖ'.repeat(Math.floor(course.rating))}
                                    <span class="text-gray-600 ml-1">(${course.rating})</span>
                                </span>
                            </div>

                            <h3 class="text-3xl font-bold text-gray-800 mb-4">What you will learn:</h3>
                            <ul class="grid grid-cols-2 gap-4 text-gray-700">
                                ${course.curriculum.slice(0, 6).map(item => {
            const itemTitle = typeof item === 'object' && item.title ? item.title : item;
            return `<li class="flex items-center"><svg class="w-4 h-4 mr-2 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/></svg> ${itemTitle}</li>`;
        }).join('')}
                            </ul>
                        </div>

                        <div class="md:w-1/3 mt-8 md:mt-0">
                            <div class="bg-gray-50 p-6 rounded-xl shadow-inner sticky top-24">
                                <h3 class="text-2xl font-bold text-gray-800 mb-4">Course Access</h3>
                                <p class="text-3xl font-extrabold text-indigo-600 mb-6">Course Fee: FREE*</p>
                                ${actionButton}
                                ${enrollmentMessage}
                            </div>
                        </div>
                    </div>

                    <div class="mt-12 pt-8 border-t border-gray-200">
                        <h3 class="text-3xl font-bold text-gray-800 mb-6">Full Curriculum (${course.curriculum.length} Days)</h3>
                        <ul class="bg-white border rounded-xl shadow-lg divide-y divide-gray-100">
                            ${curriculumHTML}
                        </ul>
                    </div>
                </div>
            `;
        container.innerHTML = html;
    }

    // START: MODIFIED renderCourseContent to safely render rich HTML

    /**
     * Safely renders rich HTML content received from the admin editor.
     * The editor should save HTML that uses <p>, <strong>, <span style="">, <ul>/ol/li.
     * @param {string} rawHtml - The raw HTML content string from the curriculum object.
     * @returns {string} The HTML string.
     */
    function renderContentAsHtml(rawHtml) {
        // NOTE: In a production environment, this function would use a library
        // like DOMPurify to strip malicious scripts and ensure safety.
        // For this mock, we trust the admin input and return the raw HTML.
        return rawHtml;
    }

    function renderCourseContent() {
        const container = document.getElementById('course-content');
        const progressDisplay = document.getElementById('course-progress');
        const totalDays = currentCourse.curriculum.length;

        // Get the current day's content object
        const dayContent = currentCourse.curriculum[currentDay - 1];
        // Handle the fact that curriculum must now be rich objects for this to work
        if (!dayContent || !dayContent.title || !dayContent.content) {
            container.innerHTML = `<h4 class="text-2xl font-bold text-red-500">Error: Day ${currentDay} content is missing or malformed.</h4><p>Please contact an administrator to update the course curriculum using the new editor format.</p>`;
            progressDisplay.textContent = '0%';
            return;
        }

        const contentTitle = dayContent.title;
        const contentBody = dayContent.content;
        const videoUrl = dayContent.video_url || '';

        // APPLY HTML RENDERING HERE
        const styledContentBody = renderContentAsHtml(contentBody);

        const progress = Math.round((currentDay / totalDays) * 100);

        progressDisplay.textContent = `${progress}% (Day ${currentDay} of ${totalDays})`;

        const html = `
                <h3 class="text-4xl font-bold text-gray-800 mb-6">${currentCourse.icon} ${currentCourse.title}</h3>

                <div class="mb-8">
                    <div class="text-sm font-medium text-indigo-600 mb-1">Your Progress</div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="progress-bar bg-green-500 h-2.5 rounded-full" style="width: ${progress}%"></div>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl border-t-4 border-indigo-500 mb-8 shadow-xl content-container">
                    <h4 class="text-3xl font-bold text-indigo-800 mb-3 border-none pt-0">${contentTitle}</h4>
                    
                    ${styledContentBody}

                </div>
                
                ${videoUrl ? `
                    <div class="mb-8 bg-white p-4 rounded-xl shadow-lg">
                        <h5 class="text-xl font-semibold text-gray-800 border-b pb-2 mb-4 flex items-center"><span class="text-red-500 mr-2">‚ñ∂Ô∏è</span> Video Lecture</h5>
                        <div class="aspect-w-16 aspect-h-9" style="position:relative; width:100%; height:0; padding-bottom:56.25%;">
                            
                            ${videoUrl.startsWith('http') && videoUrl.includes('youtube.com/embed') ? `
                                <iframe 
                                    src="${videoUrl}" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen
                                    style="position:absolute; top:0; left:0; width:100%; height:100%;">
                                </iframe>
                            ` : (videoUrl.startsWith('http') || videoUrl.startsWith('https') || videoUrl.includes('/videos/') || videoUrl.startsWith('videos/')) ? `
                                <video controls style="position:absolute; top:0; left:0; width:100%; height:100%;" src="${videoUrl}">
                                    Your browser does not support the video tag. Path attempted: ${videoUrl}
                                </video>
                            ` : `
                                <div style="position:absolute; top:0; left:0; width:100%; height:100%; background-color: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #707070;">
                                    <p class="text-center font-medium">Video URL is set but appears to be an invalid link: 
                                      <span class="font-mono text-sm break-all">${videoUrl}</span>
                                    </p>
                                </div>
                            `}
                            </div>
                    </div>
                ` : ''}

                <div class="space-y-4">
                    <h5 class="text-xl font-semibold text-gray-800 border-b pb-2">Learning Resources (Mock)</h5>
                    <div class="flex items-center p-3 bg-white border rounded-lg hover:bg-gray-50 transition-colors shadow-sm">
                        <span class="text-xl mr-3">üìñ</span>
                        <a href="#" class="text-indigo-600 hover:underline">Download: Official E-Book for Day ${currentDay}</a>
                    </div>
                    <div class="flex items-center p-3 bg-white border rounded-lg hover:bg-gray-50 transition-colors shadow-sm">
                        <span class="text-xl mr-3">üß™</span>
                        <a href="#" class="text-indigo-600 hover:underline">Practice: Interactive Quiz for Day ${currentDay}</a>
                    </div>
                </div>

                <div class="mt-10">
                    <button onclick="advanceDay('${currentCourse.id}')" class="w-full bg-indigo-600 text-white py-3 rounded-lg text-xl font-semibold hover:bg-indigo-700 transition-colors shadow-xl">
                        ${currentDay < totalDays ? `Mark Day ${currentDay} Complete & Go to Next Day ‚Üí` : 'Complete Course & Get Certificate üèÜ'}
                    </button>
                </div>
            `;
        container.innerHTML = html;
    }
    // END: MODIFIED renderCourseContent

    // FIX: Dashboard Metrics and "Continue Learning" List
    function renderDashboard() {
        if (!currentUser) {
            document.getElementById('dashboard-user-name').textContent = "Guest";
            return;
        }

        document.getElementById('dashboard-user-name').textContent = currentUser.name.split(' ')[0];

        const enrolledCourses = currentUser.enrolled_courses || {};
        const userCertificates = certificates.filter(c => c.userId === currentUserId);

        // Calculate Metrics
        const totalEnrolled = Object.keys(enrolledCourses).length;
        const completedCount = userCertificates.length;

        // Calculate Active Courses (status === true)
        const activeEnrollmentIds = Object.keys(enrolledCourses).filter(id => enrolledCourses[id].status === true);
        const activeCourses = activeEnrollmentIds.map(courseId => {
            const course = courses.find(c => c.id === courseId);
            return course ? { ...course, enrollment: enrolledCourses[courseId] } : null;
        }).filter(c => c !== null);

        // Update Metric Cards
        document.getElementById('enrolled-count').textContent = totalEnrolled;
        document.getElementById('completed-count').textContent = completedCount;
        document.getElementById('certificates-count').textContent = completedCount;

        // Render Continue Learning List
        const continueLearningContainer = document.getElementById('continue-learning');
        continueLearningContainer.innerHTML = '';

        if (activeCourses.length === 0) {
            continueLearningContainer.innerHTML = `<p class="text-gray-500 py-4">You are not actively enrolled in any courses yet. Enroll now or wait for admin approval!</p>`;
            return;
        }

        activeCourses.forEach(course => {
            const enrollment = course.enrollment;
            const totalDays = course.curriculum.length;
            const progressDay = enrollment.day || 1;
            const progress = Math.round((progressDay / totalDays) * 100);
            const isComplete = progress === 100;

            // CRITICAL FIX: Skip courses already certified (check global list)
            if (userCertificates.some(c => c.courseId === course.id)) return;

            // Show continue button for courses that are NOT fully complete or are missing certificates
            continueLearningContainer.innerHTML += `
                    <div class="p-4 border rounded-xl shadow-sm hover:shadow-md transition-shadow cursor-pointer border-indigo-200" onclick="startLearning('${course.id}')">
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="font-bold text-gray-900 flex items-center">${course.icon} ${course.title}</h4>
                            <span class="bg-indigo-100 text-indigo-800 text-xs font-medium px-2 py-1 rounded-full">Day ${progressDay} of ${totalDays}</span>
                        </div>
                        <p class="text-sm text-gray-500">Progress: ${progress}%</p>
                        <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                            <div class="progress-bar bg-green-500 h-2 rounded-full" style="width: ${progress}%"></div>
                        </div>
                    </div>
                `;
        });

        // If all actively enrolled courses are certified, show an encouraging message
        if (continueLearningContainer.innerHTML.trim() === '') {
            continueLearningContainer.innerHTML = `<p class="text-gray-500 py-4">üéâ You've completed all active courses! View your certificates or browse new courses.</p>`;
        }
    }

    function renderMyAccount() {
        const container = document.getElementById('my-account-details-container');
        container.innerHTML = '';

        if (!currentUser) {
            container.innerHTML = `<p class="text-red-500">Error: User data is not available. Please log in again.</p>`;
            return;
        }

        // Helper function for formatted row
        const DetailRow = (label, value) => `
                <div class="detail-row py-3">
                    <span class="text-lg font-medium text-gray-600">${label}:</span>
                    <span class="text-lg font-semibold text-gray-900">${value}</span>
                </div>
            `;

        const userCertificates = certificates.filter(c => c.userId === currentUserId);
        const enrolledCount = Object.keys(currentUser.enrolled_courses || {}).length;
        const completedCount = userCertificates.length;
        const status = currentUser.disabled ? 'Disabled by Admin' : 'Active';

        container.innerHTML = `
                ${DetailRow('Full Name (Certificate Name)', currentUser.name)}
                ${DetailRow('Email Address', currentUser.email)}
                ${DetailRow('Phone Number', currentUser.phone || 'N/A')}
                ${DetailRow('Joined Date', currentUser.joined)}
                <div class="detail-row py-3">
                    <span class="text-lg font-medium text-gray-600">Account Status:</span>
                    <span class="text-lg font-semibold ${currentUser.disabled ? 'text-red-600' : 'text-green-600'}">${status}</span>
                </div>
                ${DetailRow('Total Enrolled Courses', enrolledCount)}
                ${DetailRow('Total Certificates Earned', completedCount)}
            `;
    }


    function renderProfileCourses() { /* ... unchanged ... */
        const container = document.getElementById('enrolled-courses');
        container.innerHTML = '';

        if (!currentUser || !currentUser.enrolled_courses) {
            container.innerHTML = `<p class="text-gray-500 py-8">You are not currently enrolled in any courses. <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">Browse courses</button> to get started!</p>`;
            return;
        }

        const enrolledCourses = currentUser.enrolled_courses;
        const enrolledCourseIds = Object.keys(enrolledCourses);
        // CRITICAL FIX: Use global certificate array
        const userCertificates = certificates.filter(c => c.userId === currentUserId);

        // Filter to only show courses that are explicitly enrolled or pending (status true or false)
        const activeEnrollments = enrolledCourseIds.filter(id => enrolledCourses[id].status === true || enrolledCourses[id].status === false);


        if (activeEnrollments.length === 0) {
            container.innerHTML = `<p class="text-gray-500 py-8">You are not currently enrolled in any courses. <button onclick="showCourseList()" class="text-indigo-600 hover:underline font-semibold">Browse courses</button> to get started!</p>`;
            return;
        }

        activeEnrollments.forEach(courseId => {
            const course = courses.find(c => c.id === courseId);
            const enrollment = enrolledCourses[courseId];

            if (course && enrollment) {
                const isEnrolled = enrollment.status === true;
                const isPending = enrollment.status === false;

                let actionButton;
                let statusTag;
                let cardClasses = 'border-t-4';
                const hasCertificate = userCertificates.some(c => c.courseId === courseId);


                if (hasCertificate) {
                    const certData = userCertificates.find(c => c.courseId === courseId);
                    cardClasses += ' border-yellow-500';
                    statusTag = `<span class="bg-yellow-100 text-yellow-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Certified</span>`;
                    actionButton = `<button onclick="showCertificateScreen(certificates.find(c => c.courseId === '${courseId}' && c.userId === currentUserId))" class="w-full bg-yellow-600 text-white py-2 rounded-lg hover:bg-yellow-700">View Certificate üèÜ</button>`;

                } else if (isEnrolled) {
                    const totalDays = course.curriculum.length;
                    const progress = Math.round((enrollment.day / totalDays) * 100);
                    const isComplete = progress === 100;

                    cardClasses += ' border-green-500';
                    statusTag = `<span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Active</span>`;

                    if (isComplete) {
                        // CRITICAL FIX: If 100% complete but no certificate, show "Finish & Get Certificate"
                        actionButton = `<button onclick="advanceDay('${courseId}')" class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700">Finish & Get Certificate üéì</button>`;
                    } else {
                        actionButton = `<button onclick="startLearning('${courseId}')" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700">Continue Learning (Day ${enrollment.day})</button>`;
                    }
                } else if (isPending) {
                    cardClasses += ' border-orange-500';
                    statusTag = `<span class="bg-orange-100 text-orange-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Pending Confirmation</span>`;
                    actionButton = `<button onclick="showCourseDetail('${courseId}')" class="w-full bg-orange-600 text-white py-2 rounded-lg hover:bg-orange-700">View Status</button>`;
                }


                container.innerHTML += `
                        <div class="card-hover bg-white p-6 rounded-xl shadow-lg w-full sm:w-80 ${cardClasses}">
                            <div class="flex justify-between items-center mb-2">
                                <div class="text-3xl">${course.icon}</div>
                                ${statusTag}
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-2">${course.title}</h3>
                            <p class="text-sm text-gray-600 mb-4">${course.description}</p>

                            ${isEnrolled ? `
                                <div class="mb-4">
                                    <div class="flex justify-between text-sm font-medium text-gray-700">
                                        <span>Progress:</span>
                                        <span>${Math.round((enrollment.day / course.curriculum.length) * 100)}%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                                        <div class="progress-bar bg-green-500 h-2.5 rounded-full" style="width: ${Math.round((enrollment.day / course.curriculum.length) * 100)}%"></div>
                                    </div>
                                </div>
                            ` : `<div class="h-10 mb-4"></div>`}

                            ${actionButton}
                        </div>
                    `;
            }
        });
    }
    function renderCertificates() { /* ... unchanged ... */
        const container = document.getElementById('certificates-container');
        container.innerHTML = '';

        const userCertificates = certificates.filter(c => c.userId === currentUserId);

        if (userCertificates.length === 0) {
            container.innerHTML = `<p class="text-gray-500 py-8 text-center w-full">You have not completed any courses yet. Keep learning!</p>`;
            return;
        }

        userCertificates.forEach(cert => {
            const course = courses.find(c => c.id === cert.courseId);
            if (course) {
                container.innerHTML += `
                        <div class="card-hover bg-white p-6 rounded-xl shadow-lg border-t-4 border-yellow-500 text-center">
                            <div class="text-5xl mb-3">üéì</div>
                            <h3 class="text-xl font-bold text-gray-800 mb-1">${course.title}</h3>
                            <p class="text-gray-600 mb-3">Certificate of Completion</p>
                            <p class="text-sm text-gray-500 mb-4">Awarded on: ${cert.dateDisplay}</p>
                            <button onclick="showCertificateScreen(certificates.find(c => c.id === '${cert.id}'))" class="w-full bg-yellow-500 text-gray-900 py-2 rounded-lg hover:bg-yellow-600 transition-colors font-semibold">
                                View Certificate
                            </button>
                        </div>
                    `;
            }
        });
    }

    // CRITICAL FIX: Updated to fetch user and course data from global arrays
    async function generateAndSaveCertificate(uid, courseId) {
        try {
            if (!firebase || !firebase.database) throw new Error('Firebase not available');

            // Fetch latest user data
            const user = users.find(u => u.uid === uid) || {};
            // Fetch course details from the main course array
            const course = courses.find(c => c.id === courseId);

            if (!user || !course) throw new Error('User or Course data missing for certificate generation.');

            const userEnrollment = user.enrolled_courses ? user.enrolled_courses[courseId] : {};
            const completed = userEnrollment.day || course.curriculum.length;
            const total = course.curriculum.length;

            // 1. Increment and get Reference Number (PROGxx format)
            const counterRef = firebase.database().ref('/meta/certificateCounter');
            const counterResult = await counterRef.transaction(current => (current || 0) + 1);
            const count = (counterResult.snapshot && counterResult.snapshot.val()) || 1;
            const refNo = 'PROG' + String(count).padStart(2, '0');

            const dateIssued = new Date();
            // Use the name saved at registration
            const certName = user.name || 'Student Name';

            const certObj = {
                name: certName,
                userId: uid,
                courseId: courseId,
                courseTitle: course.title, // Use title from the course list
                completedModules: completed,
                totalModules: total,
                refNo: refNo,
                dateIssued: dateIssued.toISOString(),
                dateDisplay: (function (d) { const dd = String(d.getDate()).padStart(2, '0'); const mm = String(d.getMonth() + 1).padStart(2, '0'); return dd + '.' + mm + '.' + d.getFullYear(); })(dateIssued),
                id: refNo // Use refNo as the unique ID for the global certificates list
            };

            // 2. Save under global 'certificates' node for easy retrieval/listing
            await firebase.database().ref(`certificates/${refNo}`).set(certObj);

            // 3. Update the local array immediately (for UI rendering without full re-fetch)
            certificates.push(certObj);

            return certObj;
        } catch (err) {
            console.error('generateAndSaveCertificate error', err);
            throw err;
        }
    }

    // CRITICAL FIX: Updated Certificate Renderer with new UI/UX
    // CRITICAL FIX: Updated Certificate Renderer with new UI/UX and Base64 images for CORS safety
    // CRITICAL FIX: Updated Certificate Renderer with new UI/UX and Base64 images for CORS safety
    // CRITICAL FIX: Updated Certificate Renderer with two distinct signature images
    function renderCertificate(certData) {
        if (!certData) return;
        const container = document.getElementById('certificate-content');
        if (!container) return;

        const course = courses.find(c => c.id === certData.courseId) || {};
        const userName = certData.name || 'Student Name';
        const completed = certData.completedModules || course.curriculum.length;
        const total = course.curriculum.length;
        const refNo = certData.refNo || 'PROG00';
        const dateDisplay = certData.dateDisplay || (new Date().toISOString().split('T')[0]);

        // Base64 SVGs for placeholder images (CORS fix)
        const companyLogoSVG = 'data:image/jpeg;base64,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';
        const aicteLogoSVG = 'data:image/jpeg;base64,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';
        const sealSVG = 'data:image/jpeg;base64,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';

        // Signature 1: Base64 for Jai Hemi (uses a sweeping path)
        const signatureSVG_1 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARkAAACzCAMAAACKPpgZAAAAkFBMVEX////m5ubl5eXk5OQfGhcAAADj4+Py8vLt7e319fXw8PD4+Pj09PTp6en7+/vs7OwYEg4MAAAWDwsQBwAOAwDR0NCUk5JZV1ZgXl2qqamGhYQYEQ29vLzY2NjHxsYjHx0qJyWjoqFIRkR2dXSLiom/v75sa2qysbF6eXhQTk2Yl5Y1MjFlY2IiHhs3NDNBPj3sE9r2AAAgAElEQVR4nO0deXuiPhOQEAg31HqsWq96tdXv/+3emQkgR0Cstvvb53n9Y5cSnQlDMvdMNA0+rqHrhotXOlyEeCHg1gAvggHc8vDKh0EfLzwcC/AKxzhehDCm44VTgMIxGy/sHBShcTI0OqHhN9AYBRpBaPBWdcZGjuY64wJNAYo3Z+yrZyzyGdPY/ynzf8rcT5mBYQwkHvhklIFbcspwIacMt+SU8ZbEA7ckZeBC4ilAWXAro0wGitBIyuRoeG80IkdzBeXmY3ZzxgUaSZlBNoZfH/AczXXGVTQ4Y0Nz4ePY8PHwCi8EXnC8ahnz8MrJb3G8EPnXFWNdoBRjXaBE5evOLVDNsX4zpjFcJQNJcyCZRTS3CpoPjEFBcxrDlZDRHMYKmltBPiZfbf51F25Z+asdhE00XgWNVwFVoKH94xSgrHzGdhmU5WRrXqLhTTS+Gk0x40F1xsRZqvu0yg6u+1Su1PI+pTGnyQ5sNTuoMTDjOQxMP2wt/24GNmgyML0643+dMnoYMcaG/g9QpnM3GZ27yei1mwa3d5PRuZsMo0DT2E26v0xMk831bMaP76YCjeY4jusJ+HguXOEFxwuOVw5+KmPCzb9ejF2/7naAao6JJ6BxtXUKhBkG94O6iUbLCVWX2jkRb4nTQSG1i1erkNpWgaYmtdVo9Cqa66utS+0NA8LMCKbI0XxbaltVqV3dXP+YprdCwryK/+vANcoEcyBMvHN+Uge2BoNM7YCPpAzeIjx4kakdg4yD4S25/uBCUgZ/SHgKUHCRMcoKKMkoc1A8H9MKND6M6U00Ikdj5TMeuGZkRm+2csZOZcZVNLyCxqmgyVg7Ps0NqW20Sm2jJLUH35Ha5VVitC5Go30x7mLYS35jxq2L0XhYnxn0pUwxZQVlBlU8NyjTvk0raCqUWSCTmTTf5Xf1mdq7/Hc1vQD2UrzzmjN+oqbXw1Ytjxm9bNWaSdzPiDf6GPGZdT1lZrS0n2jEG9UZayF8RAAfjld44eCFh1d4YRdjLly4eMHxlp2Pec0xUQHl5KBEE5R3C5Sdg/KqoDSUS+ydPwmNYsZEnZJJPGhX4lu060w29TCJ3atJrDbiCzSZbFIp8VIEut4xMZNRNtacsXWHr6CCppjxv6rpBTNcMviwP+zT++cooy0jM91pP0+ZMqNs301lDtbcTQq7SbGb2oz4Khq9iaZqEu9xydj5mGLGD/kK5G7i+EFLE/8nm9MTcOHlt2jM49ktHOO1seLrogYqcBWgKmjqoCpoeDsa1H7jqSbaZ8y7ZsyVM66hKUntwRNs1UFZau+HQUXUhk00XgVN1bpud737E1wyXmFdX6V2oRzwJhqF1K4Y8XWp/XOa3oIFP6Tp8bcITOyHGNhf9Xaaox/SgUPiMt5PU2ZQmMSDJ9iqg8IkhhV/KhnxVm8jPkejuzkao4aGX4jLXGfsVoz4sDLjoLcRPyhAScrQn0jqguZEJ56/qwAvajTHW0E+VrxauYLwFkFO2MInrCIHdUXjF6+2Asorgxq8npfHYZDPSi5GAjUkXcbXcz1DzriKxutA0zbjGhqCNehlEhs9nQXEwd4Zy6Z8XfQVI77DWeB73uTC4DOyVPrMLjXTjWdULe/ajBW+gpo+ozbif0HTG8dr/i1Nzxb2foRk+TjpXKHp6SGjaMEvxbVzsj2wZnLhKkFxFk9FnTI4lqkD7WtmsWMsZvFmDuQ2mozSsF9jM/mEH/ZYM0bnminNuClBdI0MTB8+ZGDihbSu8QovXLyQljdcSLMXb7n516VJnH/dkWOgpLKZ7ZPZKyqgnEBbLZxQhSYMNGu7BLKw4wSerAWN9wfjKGF5xgo0xYyvaNx8rACleJorqJ6yaXCnbPJGCXNaHMzik+00lWyyVx+MpewyccXidTAo0FRl04KZ0VmrzFglmwY9ZdOgVTb9iD6jGzHNXqnPiF3K1kFVn/EdZ39kLDLPm9XpM2Zfp7CVgSUm23vVbfrvaHr+O0OFQ00Zexub6UegXXku15HnJiZ8lrCX2GHu+m2snQP//cMfNuK/F9dW2011W7XDbgrF4YW9a7UEoNwk1lEfeVkHembQeJNxRhbTjIDHzNrRAKgVM+NtWDPiu+ymW76Cwoiv200eftDSLC5489a9Y+45YpaX3Wl8HV24JhtJrjc5FmQxU7Z8HWiu14rG4xrov8xylGOPzLgJSqsSyugwiTv9M5W4diDgxTpN/0zxag8YXLysVodlmSzsMCyvEpVJjOstGdcX47PX/M95O7UZSw+iw6fH4Qu4c9Io20TAXTYzO2igqWt69iszcZ/+q7md2iFle7/L2xn6m3ytIFXO26HH/dveTlt8RGai/SJlFGpHUx9Qx7Vzb2dZ7dA+IqYbHYqS4XuLJfFbZq6ns1C7GdfOljlsJin0FEb8U3wFpbg2KX6gCWtNHZLGbBwrVFWpjuKtkPREuKjpkHjLhyXvaGXlugZKWxyRCV8WFu4gAbDCJihCY2doJCjtxKT+e52xdlWulTOWT5PPuB8aGuuOaxudcW2jLa49Y8lY5KCaBpkzHAHfZWwifCcH1csgM7RzFC0do75NAx7mBlm3Ea9CU4trFzP+EU1v+sJOYQGqShnO52OgS8xOIryXgekWLJlV2GBgi/Hr4Fd04L65EK1r5hixod6yZvwN0CVlW1czbrzMpuMnBDWPhXqdMsFLykbiO2tG9329QFNfM3JnImXgIvOJwYWTj0k8OCZ9YrQzERbtTMSDX3czPOTFC2D+cqwKChMYTuwF6LLRszGvgsbrQOPALfcS/VkXaIoZb5mZbngZTX3GXhWULQRwF4frQ/jMfe5qrrDDAo1e8nY+IJushmwCbSxa1zi9FAx8EoGhzMYDrt+bc0WyyQGSn/zqjC2dYv/D/rLJMGaT6eiCgjH7xOfjduaDIVyRTYTnqfqMvyJzshm9XSyRLuv5t6O3e4bOvOqMB3wkY/+99RnQFnOKpIlUNaMElKqP7dzxf1TT46jnNSljjRiYPMv3DM13KLNLoguvpSyBWY/Oz3s0PRe9RIvZfrU97C4mkQgpBCrncaHVKHO/3aQIJeZ2k7eM2KCW6i2cAwrqaOVJzncjlNhiN4Ga9xrWUpa8ryz2f6fdZOfMTbOG+9fxG5gqqHrushnD07RYoC2maNut0pgXsuhNBo/zMdc7sRgFtet+2wgGA36Im8mrjgFLN8n4vmPG9THPARpbs01Ei9py5dhz/DMVb8cc9DxeyuIPtHdgMCmbiiqact1BqxFfSlkIt3H0odWSLHQgTHQEPD3qDjr9MzoIsNkZLPlkrv+Upjdh8at9zWD05kcW/WGfc1Wq9z0MzDtH6UGrMjBvh3UHe8ezH9f0cMZgyicf/KcoAxrwzM8pY6NmBwJp6Dwa10bpzBZVyvjoHjTj0/HtpD9HB0Yvx5YI843YwaDLVgU8oCnM9QyUvQLNjp0XBOq2oqRGI1k7poZgPKKsKPE1Sd34D/sInxM70FJKJqBfkoEZhn4tNxJvSVsVLqqZnh7ecvOxagqmE4ooMhEqjDnDDxAn8coTfoGmljRaAeVVQBVoAkKj7dJoHWSzIlAupV6R93jEO2fMO2ZcQSMc9KYucJCoUzJvjEdjlKABozsSVTAwHaOITUP7rhjlFc2gigaUgVV4dWTrtjOLpJt0vajPeKDwFfSIUXoLKiQrkgeequn5e2DAdIs0mPO8jYHdqel5yGaGfm746Y61jXDF/GGHhVud8Xd9er49BbmN0aySptdwFny7PMB+jYlPAoHMhK207+RCqNA4yGaC3CTWhp8AHzfS0hH+k3IhJhGCzJK5rmumxttxQRn5G1Dkz8iXiWO1NcPHCQu1+QUVsLVVAXVFw4V9TWwhUDfRuMck+XQyNO/rPOTAFn4pf+aKppk/c0XTzJ/BMVS6THiZ+zx/5iqbnlIfJLSPKOU79ge2/0SCauRc8YM5PgW3cq6sqmxy0WlFY/7pCxY9mMr4IGsaK2Zc+AruzLmyJx+4kYCVz+0fimtzh5nLrxd4mWNe8+mFUgc2xJ5FL8t79ZkFshkYC7cpPkO8fJ9J70NjxnfqM4DG2P6RdPlYED1+hDLIKEle7AkUrdTB6LgPdTFhly26m6jG7/Veymxjk4Ets5PshYH4MyPzZcMfo4wfutZkTTD/sHMlkFWt4nm8dtXFNxmxsfydNkQ8by+we2146ckS0NjLiEoGOvOBK0W9hOYcJTv/Ew1iVO1GmjZGncxqreIBLfx2FY8zP50Z7HyAyNazApSkDBUpUxp1Xrcsa6GLAubKmFOMqb/uDt8ASzTTKLlbG4EEDEZY1Df34d90pzlU45eMtNLveI6mVjpdQuNiCtoS2C5pMMklQDUe9HhXuG4+hWC2Xllc/s4NZ7bDNWDEbuVp8hlzL9D4+9RkcURsN91amld9GqJOv1J83+is4jGkRRaZ8SZL9eavDLgwuglMJl/xxLdJbWVDPWPtRsjDokwhr+Jp1h34mbbLRmf8N5TaLwPOtZ+LTJr6ScJYNmPxyV4W/pqxaJiv+Zy1G7jvvMUWBuMs/WI0++m4NkwFcbmSyD4yTUoJMZPPGT3J3Lfoz5GbsQNtfhot07fxUOvS9AxhHWnJJzP3I8LiSYIKmofmM7aUBbO0GE2NJHNI3Bklu2TRV33G97z5jKgS5VkpsNB8VZ7e8yjjvDN0GiaftqSMeIuSz0Au1yn+G11cfkloyfiSMtYnw99ECZt6HZSxpviQETvY7oEBGE2nN4CWH2ZgzYkySIx0IyljvGRBc2mdX/mxtdotc6ogWS4nPQj1rrh2nzYx3TVxPt8wMz1fzPjkS219A9JkuJYaGf3LJs6BlsyYU+md2EmGGgFx2AmM8FpNXI7mlZZ9BIYGpyTpoSDHdgySjv4myghaRRN6l3ydFJQhvzPXQ+7MV2N2Tb+AnXdeIZ5qTVxpN9m2Hcq+PiFcUc8fvJA9f8L6mIsXsq8PjMmeP3jL0eagQoIsJa0DxmyBk07GsXn9MO1dvuv3wHUDYEDkeWXReXzGdKFAgqqgCRxxYhmLefdsF+QaW7tLSeiB7b3BgvvQYMbZYpwL+J02umJlM2ELJ5BUKeiVAm/Zwwqwy09zfXjqYHRn7W2L1DaAI4JZvXLR7HOpiod/0AYqEeZlGtAzRh8IQD+SeF+e5pobvMak4CoaaE1MTF1L3yg52j5hKoRzppUGzIrjEkw+QdTC8qN7Agwl+5Nlz2+Sv89/Lycw4bv42uz1/Gnaa2+foen5ODH2MbeB6QIXwH1qr5hZ+7A5vVczOlroEkX2uCQdwvdPMSV/NBjY7AMfnW18IPMbPDXunfAomQjbB+/ZDnK9rSTM2DNs65JhZqsP3HKHqNhBtFiOq2HIfVVyepXlPkSZzFa150t45xu4FZ5iZIJAGT+uEybZTVm+xWdjWjCvQlr/6K5DF2+FMr42vJB9NBoiE0lGnB/AfN/kUBgXcm9aFL+VtLDdfZytjninfeF/aWmxpAfsyKKIxKtq/B/vWeRN0AO+IA3mM0EmGA7EtEEZ81JaPrhgPuYi04H9U0aZK2v3ncURlNOIXRaej0ZTvLUHFCcAwH/QyFlqxGfh/5wwsCqtY75Uo6XUtrO/YlosMi+xZ24n/flALxHdwZ10tkLyoy4jttABVNAkTH1vHYjkEg3wmZepfzWJfZTnuF4+5HZDPjTTsEYQORc7jmFsdJAW2nRO1EAqJYeCnURYf/oR5VRZvy6ysFuvXiLWE+LacidNPbm3PHj3et4yB6dKKuv1U9ArAi5R2qaHFMR2WHiuxHxDq+prJX3V4hO0Fl2T7nCkKa3IjAhfRI14lZEnyjbWHH43SqIX0Fm2C9+zS5zlVzIYOcikBHSGzCTGLAiOoOQ6jpanCh9m+Z/xcm6XTeIRZsznGYzcOjB0Y7DX0JZobHj5EWZCSCBaTnizJHFysn3MQD4mUvU9sct0ZmtK3fSHu1N6wA7ZJSyk3oq9TG0YG+Yvbiw1j2zWp+CYRlGSsl3oV/pcMXLOSTQh0SVlr3ZRxQMmRXSkThC42DTZYAUB7qW+FKWZfoC2LEBjxzn9bm5x2y6h0W77Cr7VnVLUu1MGDthJbBoEea9HbZOyPfwyOJBAAI1OSo/9GecN3/T25uX4udsHooJmQNJYABrNJYU3YTtdKzpQBsSASf1n0ZymIon0rrlUOnfO5BU7AAA32M8DIWcs6v00nUoHyrZem/x2d8pO2SQWafIHGOOV04MwoF4NriTIShp+8ad2wN2xoS9pHhd+gUYuxhkjEaMF+itj0ufo6VcRGKJzfOYPI/aypSkM+I4lDHakoQ+2q6GnueNU7jO9K679W90pPUyaW1oln54Bqz7FC2kJT6WVF5kB3GDsxNuitwKLV0BUuUQXYBVDmlVhqgpk0HPdt4c5O9Dtw2hCs8piLBZoc/Hxv1HF44EBSdkmV8ro71kQDhkkut3QTopIShxe4QW3UcbFuOBMy+gST7S6EQ/clVEAoeksyGbsD0fLyz3JXD/XndK5MJIS5SyRcBvLIBy84+iLJgM8gKQE1US2GfHos0kPRJeUTd0yGqlQgrA50qZtb8Why6KFziyRO3fTtziwO2RJAouh1lH3CEwRfuiCHsGQ+8H3LC241biXk38uJZ469jXeYPSUUu9WZuVVQLW1IW5y2Xs4MFHnTqlNLGbtNRzZoJVYsM5cE6nWuzulOGSmDbsMNZVygImLEy9HU8tGG/TyFXxHalc3Vy9NLwC9XCr3FXaA4ZII2YHYvikyGFuDH94yS/WYtFTxTF9MNqwlNJcDWf+ZKp5gVIQLK5QB4Zp8avnv+lLGl8ZnwqZh2OLtRAYc/qUO7fdYlLqZgvJtNzOlBRna5Xit1RYWvnan9IYUTmZjkF1tQVbUgHmzO2VnK47HulOSRXlnBqO9YBG7OMp9iuVqMqN0oGIHddkEF75HeRmwBKWxoSpDxCw00IA720QNsPSGZkwd5coz7tmZR+GFuE+fQVVF5sxWViPhQU/nfd0p+SzNUj14e/oJZaHNuluLif1kQmPz02FK7OrXu1OiBUkqiyKuvWLR2bujO2Wo7wq/ZNhOGXuaoguiizLYa4HCBlPG0pShnvXb3SlHsJVmvEXqjZJ0Y/fvTqnNohg0GIo5io4jJjBzLlF0pyyhsVHnBmE5zik9e1p3Shk5CfPAAvZzRBvXpnzGfCwQ5zj9mnsy3CF7PVJUBfs5ui6ymQnPYhT49RwUmct1NBr/RMvhbO1ACXr1SqBkVAXbRkpQDvqAtQJNZUx+XTsm5J0gJ1+Mwe+vgFdAec0Z19HUZ5zpwb26U87jJEbeq47EgdGEjrR+3Sl1b8Jgj5gz2X6Ta8rulBLNXPqA6y3mdc/PZJPYAo2j0F1kXnfkdzPJj3+nO+UQdtLYa+7TbNEL1MeCnj0YyZGNxjh6cqiYtj2DETXgd7/OKPna3GZlvMOsUSWoPZEJv9yh69StgPpRTQ8nuPXaGaXzFqGh3Ysye/LyIidHFxQzOilzeKHzDGrdKUHaS1FghG+UA5AFcjW5ClfPokyX2iGX+Ypsl/a4NuY8oCNSfWBDpTulP8K5y3zwV9nMoGYSV7JEzlF0FnWTmPpJUzDf2wAfx2y9Xbb6MNbC3uV77hUValrecjf1yiyiV/SudWQWBah1+PwmKFdDDpOyyQcTXHgYI5l7XZlF/gt6taqgZAwuwlueLPzyuE17igeYcfQnCqqgOnKhWmfcrzvljkkHVIetekySEa92p6ybxLgYQ+IwwK/AwqAQLyyZrmw0TGIjp3hZB3YoTendgxn4yHYvcx1Tj2DpENPBuf5Sd0ossLYo+6Y1g5HjbvNv9iFfUUnyBOtz2T70KU+tMzFHYFW/VWUH6DfG4CygQUepaaYjR2xStCEwaS1547/k7XSPLD77fmduJ3p8WYWDNSmjO5T/wEZWiJRJNy5Y2Vgb2kUZF+MyBRpJGfuM5xxgyoVuyeyKtSOW5DHFTtMf37QO7u1OaQfnFzYSeretCvwv2XHlgQ25SazD6yeR5OEyD1j0JTJp0pUpzb8yFn01ifU8Edi2MAcA18yakm1ZCEwmSuid/Eh3ymp2PV+mjKbWmV3PM25Q6vWIY+W0d/9CGR8LiSaE5XKMKGOvK7veH2T9DsptI0cJ9mBENHLJJG8eyeqvidRsKqB6ZddfZ9y/O6X9lrCNl+NpreJBbYeANg9syPSZBS2YS/badUw8imQvxa6KjFCWaFcWfUDPT2iOlA3xFsr4zRtF/X6pO6WfRuzg3c5g3KXpoaCMQtPjlMfANk6+NMWO4vRT3s0ObAw10fsqKIPiJ7o4+CUylKIvfNFFisGTfXptlV9h+oe9OsbNyi+Pao8Iz0C1ZvhWZql6hTpAbaHNBOfXUfmFOW3JZ7U7JSbTgoYj9JnMsWULrOLZSC87Cx+q/FJ0pyxVC/pFtaDQkz9ggfg3qwW1bRyd3bAKys9Bgbm8IcLMyqB0qcTfqBaktipaUeInfJwg/PJjdGEyj4BtXECjHaWXfao9Vi2Yd6fEasEO2WQnYJvQ+++uMDWEdJlX6jXLsmlD6tdQhmrzsQ1jW/tWhSkqA8OrCKTJ2GhdRFk6FaWDuJb9Jv8CNe0XulOGwGNWTo8MRtQ/0ZPQos9omGuZmPOwZqpaurjJwNCfx2vswPCPRd4Mm2VoaGPFW/EbcW1BhGnvzHOljLe8lpg3KSPQ0/ay9P26Ea/fmDKiwTR00WCUzmxsUrD3z1Gqg7qsHWK6/0TKtMQOXB4h8x306H7gS5+VMko8MDCND/Terrh2e/eDENUkv9Kdksb0QAutJcrorJfQTOamP9D9oG93Skd8JOxV69V/ArhftA5aWlLIdotH1/lOKwsHt6nvKBtzOKjlMSHPcHBlwcfe+VbHDHX/D61KqMKRfUlBxhYrqMtWdeZkTBrq00O2tGLE9X20BLKUXVb4Z0KuF9Wpi2gJJMfcX05JAy/+1Sf+Y90pRzFovv32Kdp8iafWm1w6mWDsfrNe23sxKe1EFRbCxgfoqTKIT86YLPQgUM/U9OqUAYk6dvpxMKpiWnElnvCdtpLTHfFvRaNTVamaMmRlYyGKpAz5r/b+j8e1X1m65j0zpT1KiKp2p8ysa3IjxSNX0Z1SHXCuqR2YIP2VjdXVDmlw+3lcm+hkGQpfwX1x7Xp3ymrXOKyWWGYFAbe7xmHe5VTWDxTt3GwJioPNmK5FAeqKJqCHy9u5tXaNW0dgU+et3vxqczowlKI3nvW580Uqm5Pf6hp3ReNWnsb2G2gU+swQ1G6r2Fut+kxmd2COnepcFfj6OjWTZVhY+Pe24vBsKbPVpy5OsbxF5G0VBOz/V+2Hu1OGDBR5v28VDyzq+MAVFpmBNkEUDfxvnzjjksxWswMbTUgsOswZ2Hw787Qfzu08Y3G1ylZVrhl0MloqW9UmN9Lc//4RE8EYO0Go3Sg2Bven8P2iFYcf5E/zrDVT64KrfcZs62Z9Y293wV1RkVq9Cy7sWlt2RkSgjhrUzfa0Om4mnjfbLdrTZjPWVie32gX3m2gqXXAzNAiUqHOVTfaKpeTb7NmdEp3/uOKasokih7TyVJ2TlW2iarIJN1O7SWz4YS3n6tmdk6ubC7hvwtsWfXOfYnktJQU3jiXYUW3PQ8cSfCbJyLuZAGQ0JMiPaHoBulFEb8rQjnFVlAHGnI6+dxZPjsYlyfS3KZMbO5uYvfL+3SlRYssssGZX/2gJk2nr6q+wmxqnLuJmChWhREUC4M909S+Zm8GMJWutt3Ua7KneXjGGPn02dx86ogEs+HQT3GEgP/EkiHp3SsOIItS3+9JcnjClovkkTxjukWShqf0z1Fh7WH+1rbmdxsPdKbvi2t4upufpWcXjbF4oOa7Zh9xBJiOrUCrs4B5NLzzFVPL0U8fG3qPp8QWjhqE9KYNJCmbqqiizS6PIf/DkcWcpM4f+ImWK2AFVFBOsXt0psVqA2lE0ulMOKX2sFtfu38ab0BjogMBp+Q1FSdHG+2dOtgqy4w/EnqU7qUPKCI3feRqa8wpb5hN/WD8NzTlH8UZrPabMyUG1oZEtjTdpMnL8+mlo4orG//HT0IhQsKpEhJ2g+3anlK4XCqTXulNS531XvegrwcNO88ajddfHvCnQPKM7pUrTQ7Ng079e28PWQQtFCzPXj7Mg0CPsQJxY9OXqdQb2NzQ9LDLC1KZ+JvEA49RY4VTK7cxhvVI3kdY10687pcDupUGXSWx0r5mn5UJgNgY64nue7iremZlcNNVZqTxrCFgCdf/prtgmjAVdx65WxxRomvkzd5/umsmmcYIO5n62qjuXGSwKWzXcxi+bO8qQWmTTJXo5iGp3yhaTuFU2PZ5zJfUZId1nvaqSfT1CJhOqejCig9LvWavSrs8sKOmv1ir1L2l6sJlG6uCHgjLLBLOmdQVlQnk8xqOUOUfpjnecPP47lJH5wLs0Pvm9ulPq9jnBkgGlrcrfIsyV78gH7nNa/YIy0DpOq8/tpmZRbxFjfUI+MFiVggeUeMzzNGq4lWVd8zy5O7vlce+cmmwcKMYcTOhOxhr9jtdACVHklzfGaqCAy6S7oEjubqLhPUDdRlMHVX94oo6Lhq2e0byrOyW8j2NsxiOhq7tT7lK28NtN4o7mAVc0JJh07UYpfmUFKWZ8RzeqtroDgrXI9NZbmp4froEwa9HQDiQ7cFhkeo+yA9BlYioGV526+NuaXoBJX9ptyvj+BTTcNWoASsrM6HSMBymDZzEM/jOUwQVM0+qqidN96w2Y76i2/vLdBGrHDsss+tTEGepiNUSDcv+V5uc120YimkEBqmM35frYIzVxVGZI0sCmZEc3kHWUQVb8iJWHsiqRwrps54Y8KFUlBrIqEX4XgFGaaHgrr0qUoJwclChA4dfdAk0ZlPuZmqkmCxwroLwMVHAFVUXj3YOmNMbVM5bdKYWMIBtdtbe6R7kwr7ywOxpSe8GSXSBXYw1VBIAAAATxSURBVINR9myghe1r0eszuNbeNqT2oFF7q2rF8XjtrdT0zOiGpketXCP2LvRmBmPODlaMyTZv39f07NikSGDTiP9bOvA0lqn8kmxNW1Vg+wbs3aTmYFlcDmQ2b075dly7eAHO7kW68ppGfGtBQ50y7Ub8Dcqoa/wtLE5zjDplcr+DM6UTUlRZIiXKrCNm1bofFA6mXu6NoAg6lClj3KZMX/dGj4h/gYY+riWwlHemKXuJ6GKGC+ZtwQ1FzlWplwiYBjXr+nYvkbIRr1tY2uPeMIl/o5dIJa4dRxjfab5ajS+OLErZlrwWbbUq5O1gZlw+DvFudiDQIuNhGc3f1mcATyjrfHmDMos1trQaD7qreDLKJI9QhlqjzrpOXfw7cW2btJWpc02C931NPy1xvRyp7lYt9QqTWMeE76pB06/PVUYZjsrvppIPrBSuCiP+iSdZ1LpTerYQdmCR+Jm52I4MT4V93y5ZnDC2mweO7PWIRz3g1+H/rNMY1jtTHwy8hYq0LI+mTmOVMTf/ulcBxQtQmHuWnLXbaK5jCjSOGo0CVHOsCkqU4tq+2LKXiK3f58P96YBHAiQx+zgJra+tyopGXRV7oE9ce4Bd6aMXWM6KUxeLJIsbzQO0Z/TTK9BU8vT4/MBYQkfCpkmKJ8EOuVfsU7lSOzS9LzwuK9+n92l6gtjc0FcysL8d1xY0GJ7eWPyC/VN3e5sL/56zeDDjUPsOZQxJmEXQZJR/19tZy8wZTqcr2cmrn61arE15kJB2/26iLoxs0naGaa/dZD1pN3V1p/Qw2O316fXoVno9IqtgE0fd67GJ5toEkw6lYSf3isbuQKMYa+unWYwVT3MT1IPdKSvitGQSLyMzwRKvu6S2Lg5UbMp7msRdUruriue21B4Yj3anbD2LB7tbTPl97MC21lRnIpRo/rqm9yTKuNj8ZBHeQxlnEmP7ru5Tiv4iZe7pTqm0KH1pg1HLZEvPTb3b3SmpwvglMpRVPH0tSuu7FmUzLFzuTnmrl8hdtqp3gQUQ8eLr3Saxn3UXGdv+7VMX/1ZcW3voxJnrorfA+PqTDnkPfUYTe5O6i0zcm9tUu0Of+bbn6v7OPPdQJhzSoR8n57ZPb3+mQ2aPer9TF/9WXFt7ltRz5vJ554RQFdfG5lSavXqj71G3zdvqgNbqIW9VBx73kFc0pbBLIbupKYU4pllvdJTDhmuB61S0KKl0eW44GVG7ixgLn+9XyMKyQnZzxlVN9Q4VkqjzjHPiciXe8vkOHztlh7ksB7+ydt0W9nwyZvI8PLZ1FZE4xTlxnUp8Z1z7PuvmB09d1CQ74AtiIS/suEegTmgLSi2f76cjeVpbFLMztUnsf772v63pZXjgd/uPbF18Tiar0+t0N1q/AVFe5ImhbDldyPX0n6eMZfQonOi3m3KTeIHLg8Xk7IlfkgRP2kSfDzN3e0vYemuWiPIM03YH089liVCDRtdx3ObZtplHUHnu7XWs2VKSQMFT6ov99PNisvxjjg6nheW5Dr8P1HXs2lLSVY65+dh3ZlxD8+yzkqvdKQOfE5N3XT+UuZokTm9ko5XRqLPRWqV2JRutl9R+rDvlHedrNzrzZHgUDMy4m4H9RW/nD1Dmm1U8/wHKXC3Kp0Q/7wyytlXx9DOJmxbl4IkWZYPm35Paxr2vtrPu4I6UhRtSu1/dgUpq/w9UX/lmLhEYmQAAAABJRU5ErkJggg==';

        // Signature 2: Base64 for Samuel Runittu (uses a different curve and double line)
        const signatureSVG_2 = 'data:image/png;base64,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';


        // Update the container attributes for PDF download
        container.setAttribute('data-course-id', certData.courseId || '');
        container.setAttribute('data-course-title', course.title || certData.courseTitle || '');
        container.setAttribute('data-user-name', userName || '');
        container.setAttribute('data-ref', refNo);

        container.innerHTML = `
    <div style="padding:28px;">
      <div class="certificate-inner-content" style="width:100%;background:linear-gradient(180deg,#fff,#fcf9f8);border-radius:12px;padding:28px;font-family: 'Merriweather', serif;">
        
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div style="display:flex;align-items:center;gap:16px">
            <div style="width:96px;height:96px;border-radius:12px;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center;border:2px solid #eee;">
              <img src="${companyLogoSVG}" alt="Company Logo" style="width:100%;height:100%;object-fit:cover;">
            </div>
            <div>
              <div style="font-size:20px;color:#6a1b1b;font-weight:900">ProgMaster Pvt Ltd</div>
              <div style="color:#6b6b6b;margin-top:6px">is proud to certify</div>
            </div>
          </div>
          <div style="text-align:right;color:#6b6b6b;font-size:13px">
            <img src="${aicteLogoSVG}" alt="AICTE Logo" style="width:96px;height:96px;object-fit:cover;border-radius:12px;border:2px solid #eee;">
          </div>
        </div>

        <div style="text-align:center;margin-top:20px">
          <div style="font-size:30px;color:#6a1b1b;font-weight:900;letter-spacing:2px">COURSE COMPLETION CERTIFICATE</div>
          <div style="margin-top:8px;color:#6b6b6b">This Certificate Is Proudly Presented To</div>
          <div style="font-size:36px;color:#6a1b1b;font-weight:800;margin-top:12px">${(userName || '').toUpperCase()}</div>
          <div style="height:2px;background:linear-gradient(90deg,#6a1b1b,#a64b4b);margin:18px auto;width:80%;border-radius:2px"></div>
          <div style="max-width:760px;margin:0 auto;color:#575757">
            For successfully completing the
            <strong style="color:#222">${course.title || certData.courseTitle || 'Web Development'}</strong> course at <strong style="color:#222">PROGMASTER PRIVATE LIMITED</strong>
          </div>
        </div>

        <div style="display:flex;justify-content:space-between;margin-top:28px;padding:0 12px;color:#444">
          <div>
            <div style="font-size:12px;color:#6b6b6b">Course Progress</div>
            <div style="font-weight:700;margin-top:6px">${completed}/${total}</div>
          </div>
          <div style="text-align:center">
            <div style="font-size:12px;color:#6b6b6b">Course Points (Fixed)</div>
            <div style="font-weight:700;margin-top:6px">100/100</div>
          </div>
          <div style="text-align:center">
            <div style="font-size:12px;color:#6b6b6b">Reference Number</div>
            <div style="font-weight:700;margin-top:6px">${refNo}</div>
          </div>
          <div style="text-align:right">
            <div style="font-size:12px;color:#6b6b6b">Date Of Issue</div>
            <div style="font-weight:700;margin-top:6px">${dateDisplay}</div>
          </div>
        </div>

        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:36px;padding:0 12px">
          <div style="text-align:center">
            <img src="${signatureSVG_1}" alt="Signature Jai Hemi" style="height:50px;width:150px;border-bottom:1px solid #6a1b1b;">
            <div style="font-weight:700;color:#222;margin-top:4px">Jai Hemi</div>
            <div style="font-size:12px;color:#6b6b6b">Lead Instructor</div>
          </div>
          <div style="text-align:center">
            <img src="${sealSVG}" alt="Authorized Seal" style="width:100px;height:100px;margin:0 auto;border-radius:999px;">
            <div style="font-size:12px;color:#6b6b6b;margin-top:8px">Authorized Seal</div>
          </div>
          <div style="text-align:center">
            <img src="${signatureSVG_2}" alt="Signature Samuel Runittu" style="height:50px;width:150px;border-bottom:1px solid #6a1b1b;">
            <div style="font-weight:700;color:#222;margin-top:4px">Samuel Runittu</div>
            <div style="font-size:12px;color:#6b6b6b">Program Director</div>
          </div>
        </div>

      </div>
    </div>
  `;
    }
    // CRITICAL FIX: Updated Certificate Renderer with new UI/UX and Base64 images for CORS safety
    // CRITICAL FIX: Updated Certificate Renderer with new UI/UX and Base64 images for CORS safety
    function downloadCertificate() { /* ... unchanged ... */
        const {
            jsPDF
        } = window.jspdf;
        const doc = new jsPDF({
            orientation: 'landscape',
            unit: 'in',
            format: 'letter'
        });

        const courseTitle = document.getElementById('certificate-content').getAttribute('data-course-title');
        const userName = document.getElementById('certificate-content').getAttribute('data-user-name');
        // CRITICAL FIX: Find certificate by refNo (stored as ID) instead of name/title combo
        const refNo = document.getElementById('certificate-content').getAttribute('data-ref');
        const certData = certificates.find(c => c.id === refNo);
        const date = certData ? certData.dateDisplay : new Date().toISOString().split('T')[0];

        const pageWidth = doc.internal.pageSize.width;
        const pageHeight = doc.internal.pageSize.height;

        doc.setFillColor(30, 60, 114);
        doc.rect(0, 0, pageWidth, pageHeight, 'F');
        doc.setDrawColor(255, 215, 0);
        doc.setLineWidth(0.2);
        doc.rect(0.2, 0.2, pageWidth - 0.4, pageHeight - 0.4, 'S');
        doc.rect(0.4, 0.4, pageWidth - 0.8, pageHeight - 0.8, 'S');

        doc.setFont('times', 'bold');
        doc.setFontSize(36);
        doc.setTextColor(255, 215, 0);
        doc.text("CERTIFICATE OF ACHIEVEMENT", pageWidth / 2, 1.5, {
            align: 'center'
        });

        doc.setFontSize(14);
        doc.setTextColor(255, 255, 255);
        doc.setFont('times', 'normal');
        doc.text("This certifies that", pageWidth / 2, 2.2, {
            align: 'center'
        });

        doc.setFontSize(50);
        doc.setTextColor(255, 255, 255);
        doc.setFont('cursive');
        doc.text(userName, pageWidth / 2, 3.5, {
            align: 'center'
        });

        doc.setFontSize(18);
        doc.setTextColor(255, 255, 255);
        doc.setFont('times', 'normal');
        doc.text("has successfully completed the course", pageWidth / 2, 4.3, {
            align: 'center'
        });

        doc.setFontSize(28);
        doc.setTextColor(255, 215, 0);
        doc.setFont('times', 'bold');
        doc.text(courseTitle, pageWidth / 2, 5.0, {
            align: 'center'
        });

        doc.setFontSize(12);
        doc.setTextColor(255, 255, 255);
        doc.setFont('times', 'normal');

        doc.line(1.5, 6.5, 3.5, 6.5);
        doc.text("Director Signature (Mock)", 2.5, 6.8, {
            align: 'center'
        });

        doc.line(8.0, 6.5, 10.0, 6.5);
        doc.text(`Date: ${date}`, 9.0, 6.8, {
            align: 'center'
        });

        doc.save(`${userName.replace(/ /g, '_')}_${courseTitle.replace(/ /g, '_')}_Certificate.pdf`);
    }


    // --- ADMIN LOGIC ---
    function getCourseTitle(courseId) {
        const course = courses.find(c => c.id === courseId);
        return course ? course.title : 'Unknown Course';
    }

    function getCourseByTitle(title) {
        return courses.find(c => c.title === title);
    }

    // START: NEW/MODIFIED ADMIN EDITOR FUNCTIONS

    // MODIFIED: Simulates "uploading" by generating a predictable static path.
    async function handleVideoUpload(file, courseId, dayIndex) {
        if (!file) return null;

        // Normalize filename to be URL-safe (this is the key to matching your local files)
        const safeFileName = file.name.replace(/[^a-z0-9.]/gi, '_').toLowerCase();

        // --- CRITICAL FIX: Returns the required local static path ---
        // You MUST ensure your videos are in a folder named 'videos' in the same directory as this HTML file.
        const staticVideoPath = `videos/${safeFileName}`;

        console.log(`[Video Path Set]: Path saved to DB is: ${staticVideoPath}. Ensure file exists locally.`);

        // Simulate a brief processing delay.
        await new Promise(resolve => setTimeout(resolve, 300));

        return staticVideoPath;
        // --- END FIX ---
    }

    function createContentToolbar(targetId) {
        const colorsHtml = RICH_TEXT_OPTIONS.colors.map(color =>
            `<button type="button" class="w-5 h-5 rounded-full shadow-sm hover:ring-2 hover:ring-offset-1" style="background-color: ${color};" onclick="formatDoc('${targetId}', 'foreColor', '${color}')"></button>`
        ).join('');

        const bgColorsHtml = RICH_TEXT_OPTIONS.bgColors.map((color, index) =>
            `<button type="button" class="w-5 h-5 rounded-sm shadow-sm hover:ring-2 hover:ring-offset-1" style="background-color: ${color}; border: 1px solid #ccc;" onclick="formatDoc('${targetId}', 'backColor', '${color}')"></button>`
        ).join('');


        return `
                <div class="flex flex-wrap items-center space-x-2 p-2 bg-gray-50 border-b rounded-t-lg">
                    <div class="relative group">
                        <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border">üé® Text Color</button>
                        <div class="absolute z-10 hidden group-hover:block bg-white border p-2 rounded-lg shadow-xl" style="width: 150px;">
                            <div class="flex flex-wrap gap-1">${colorsHtml}</div>
                        </div>
                    </div>

                    <div class="relative group">
                        <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border">üñåÔ∏è BG Color</button>
                        <div class="absolute z-10 hidden group-hover:block bg-white border p-2 rounded-lg shadow-xl" style="width: 150px;">
                            <div class="flex flex-wrap gap-1">${bgColorsHtml}</div>
                        </div>
                    </div>

                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'bold')"><strong>B</strong></button>
                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'italic')"><em>I</em></button>
                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'underline')"><u>U</u></button>

                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'insertUnorderedList')">‚Ä¢ List</button>
                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'insertOrderedList')">1. List</button>
                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'formatBlock', '<h4>')">H4</button>
                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="formatDoc('${targetId}', 'formatBlock', '<p>')">P</button>

                    <button type="button" class="p-2 text-gray-700 bg-white rounded-md hover:bg-gray-200 border" onclick="insertImage('${targetId}')">üñºÔ∏è Image</button>
                </div>
            `;
    }

    function formatDoc(id, command, value = null) {
        document.getElementById(id).focus();
        document.execCommand(command, false, value);
        document.getElementById(id).focus();
    }

    function insertImage(targetId) {
        const url = prompt("Enter the URL for the image:");
        if (url) {
            document.getElementById(targetId).focus();
            document.execCommand('insertImage', false, url);
            document.getElementById(targetId).focus();
        }
    }

    // MODIFIED: Replaced video_url input with a file input
    function addCurriculumModule(module = { title: '', content: '', video_url: '' }) {
        const container = document.getElementById('curriculum-modules-container');
        const dayIndex = container.children.length + 1;
        const contentId = `content-${dayIndex}-${Date.now()}`; // Unique ID for editor
        const videoInputId = `video-file-${dayIndex}-${Date.now()}`;
        const videoUrlInputId = `video-url-hidden-${dayIndex}-${Date.now()}`;

        const newModule = document.createElement('div');
        newModule.className = 'module-block p-4 border border-gray-300 rounded-lg bg-white shadow-sm relative';
        newModule.setAttribute('data-module-index', dayIndex);

        // Determine if a video URL is already set (for edit mode)
        const isVideoSet = module.video_url.trim() !== '';
        let videoPlaceholderText;

        // FIX: Generate descriptive text based on current video_url (which holds the path)
        if (isVideoSet) {
            videoPlaceholderText = module.video_url.includes('youtube')
                ? `Video set (YouTube).`
                : `Current Path: ${module.video_url}`;
        } else {
            videoPlaceholderText = 'No video file selected.';
        }


        newModule.innerHTML = `
                <div class="flex justify-between items-center mb-3 border-b pb-2">
                    <h5 class="text-lg font-bold text-gray-800"> Module ${dayIndex}</h5>
                    <button type="button" onclick="removeCurriculumModule(this)" class="text-red-500 hover:text-red-700">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>

                <div class="mb-3">
                    <label class="block text-sm font-medium text-gray-700">Day Title (e.g., 'HTML Fundamentals')</label>
                    <input type="text" value="${module.title}" class="w-full px-3 py-2 border rounded-lg day-title-input" required>
                </div>
                
                <div class="mb-3 border border-red-300 p-3 rounded-lg bg-red-50">
                    <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                        <span class="mr-2 text-red-500">üé¨</span> Video File Selection (Select the file from your local videos folder)
                    </label>
                    <input type="file" id="${videoInputId}" accept="video/mp4,video/quicktime,video/webm" class="day-video-file-input block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100">
                    <p class="text-xs text-gray-500 mt-2">Status: <span id="video-status-${videoInputId}" class="font-semibold">${videoPlaceholderText}</span></p>
<p class="text-xs text-red-700 font-semibold mt-1">CRITICAL: The file will NOT be uploaded. Its path is saved as a static link. You MUST manually ensure the file exists at.</p>
                    <input type="hidden" id="${videoUrlInputId}" value="${module.video_url}" class="day-video-url-input">
                </div>
                <div class="mb-3">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Body Content</label>
                    ${createContentToolbar(contentId)}
                    <div id="${contentId}" 
                         contenteditable="true" 
                         class="content-editor p-3 border-t-0 rounded-b-lg bg-gray-50 focus:bg-white transition-colors" 
                         required>
                         ${module.content}
                    </div>
                </div>
            `;

        container.appendChild(newModule);

        // Add event listener to update status text on file selection
        document.getElementById(videoInputId).addEventListener('change', (event) => {
            const file = event.target.files[0];
            const statusElement = document.getElementById(`video-status-${videoInputId}`);
            const urlInputE = document.getElementById(videoUrlInputId);

            if (file) {
                // Update status with selected file name
                statusElement.textContent = `Selected: ${file.name}. This file's path will be saved on Course Update.`;
                // Clear existing URL to signal that a new path must be generated and saved on form submit
                urlInputE.value = '';
            } else {
                // If file input is cleared, keep the existing path/URL
                urlInputE.value = module.video_url;
                statusElement.textContent = isVideoSet
                    ? `Current Path: ${module.video_url}`
                    : 'No video file selected.';
            }
        });
    }

    function removeCurriculumModule(buttonElement) {
        const moduleBlock = buttonElement.closest('.module-block');
        moduleBlock.remove();

        // Re-index modules after deletion
        const container = document.getElementById('curriculum-modules-container');
        Array.from(container.children).forEach((child, index) => {
            const moduleIndex = index + 1;
            child.setAttribute('data-module-index', moduleIndex);
            child.querySelector('h5').textContent = `Module ${moduleIndex}`;
        });
    }

    function renderCourseManagerPanel() {
        const tableBody = document.getElementById('course-manager-table-body');
        tableBody.innerHTML = '';
        resetCourseForm();
        // We intentionally skip re-adding addCurriculumModule() here as resetCourseForm() handles it

        courses.forEach(course => {
            const dayCount = Array.isArray(course.curriculum) ? course.curriculum.length : 'N/A';
            const row = `
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${course.icon} ${course.title}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${course.id}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${dayCount}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm space-x-2">
                            <button onclick="editCourse('${course.id}')" class="text-indigo-600 hover:text-indigo-900 font-medium">Edit</button>
                            <button onclick="deleteCourse('${course.id}')" class="text-red-600 hover:text-red-900 font-medium">Delete</button>
                        </td>
                    </tr>
                `;
            tableBody.innerHTML += row;
        });
    }

    function resetCourseForm() {
        document.getElementById('course-management-form').reset();
        document.getElementById('course-form-title').textContent = 'Add New Course';
        document.getElementById('submit-course-btn').textContent = 'Add Course';
        document.getElementById('course-id').disabled = false;
        document.getElementById('original-course-id').value = '';

        // Clear and re-add one default module
        const container = document.getElementById('curriculum-modules-container');
        container.innerHTML = '';
        addCurriculumModule();
    }

    function editCourse(courseId) {
        const course = courses.find(c => c.id === courseId);
        if (!course) return;

        document.getElementById('course-form-title').textContent = `Edit Course: ${course.title}`;
        document.getElementById('submit-course-btn').textContent = 'Save Changes';

        document.getElementById('course-title').value = course.title;
        document.getElementById('course-id').value = course.id;
        document.getElementById('course-id').disabled = true; // Prevent changing ID
        document.getElementById('course-description').value = course.description;

        document.getElementById('original-course-id').value = course.id;

        // Populate dynamic modules
        const container = document.getElementById('curriculum-modules-container');
        container.innerHTML = '';
        course.curriculum.forEach(module => addCurriculumModule(module));
    }

    // START: MODIFIED handleCourseSubmit to handle file paths
    async function handleCourseSubmit(event) {
        event.preventDefault();
        const submitButton = document.getElementById('submit-course-btn');
        submitButton.disabled = true;
        submitButton.textContent = 'Processing (Saving Paths... Please Wait)';

        const isEdit = document.getElementById('original-course-id').value !== '';
        const courseId = document.getElementById('course-id').value;
        const newTitle = document.getElementById('course-title').value;
        const newDescription = document.getElementById('course-description').value;

        const moduleBlocks = document.querySelectorAll('#curriculum-modules-container .module-block');
        const newCurriculumArray = [];

        if (moduleBlocks.length === 0) {
            alert('Course must have at least one Day/Module defined.');
            submitButton.disabled = false;
            submitButton.textContent = isEdit ? 'Save Changes' : 'Add Course';
            return;
        }

        try {
            for (let index = 0; index < moduleBlocks.length; index++) {
                const block = moduleBlocks[index];
                const dayIndex = index + 1;

                const titleInput = block.querySelector('.day-title-input');
                const contentDiv = block.querySelector('.content-editor');
                const fileInput = block.querySelector('.day-video-file-input');
                const urlInput = block.querySelector('.day-video-url-input');

                if (!titleInput.value) {
                    throw new Error(`Day ${dayIndex} is missing a title.`);
                }

                let finalVideoUrl = urlInput.value; // Start with the existing DB value (path)

                // Check for a new file selection (fileInput.files[0] will be present)
                const file = fileInput.files[0];

                // If a file was selected 
                if (file) {
                    // Use the new simplified function to generate a static path
                    const staticPath = await handleVideoUpload(file, courseId, dayIndex);
                    if (staticPath) {
                        finalVideoUrl = staticPath;
                    } else {
                        // This would only happen if the mock function fails.
                        throw new Error(`Failed to generate static video path for Day ${dayIndex}.`);
                    }
                } else if (urlInput.value === '' && !file) {
                    // If both file input and hidden URL are empty, ensure it is explicitly empty string
                    finalVideoUrl = '';
                }
                // If no file selected, finalVideoUrl remains the previous DB value (urlInput.value)


                newCurriculumArray.push({
                    title: titleInput.value,
                    content: contentDiv.innerHTML,
                    video_url: finalVideoUrl || "" // Store the final URL/Path
                });
            }
        } catch (error) {
            alert('Course submission failed: ' + error.message);
            submitButton.disabled = false;
            submitButton.textContent = isEdit ? 'Save Changes' : 'Add Course';
            return;
        }

        const newDuration = `${newCurriculumArray.length} days`;
        let success = false;

        if (isEdit) {
            const index = courses.findIndex(c => c.id === courseId);
            if (index !== -1) {
                courses[index].title = newTitle;
                courses[index].description = newDescription;
                courses[index].curriculum = newCurriculumArray;
                courses[index].duration = newDuration;
                success = true;
            }
        } else {
            if (courses.some(c => c.id === courseId)) {
                alert('Course ID must be unique!');
                submitButton.disabled = false;
                submitButton.textContent = isEdit ? 'Save Changes' : 'Add Course';
                return;
            }
            const newCourse = {
                id: courseId,
                title: newTitle,
                description: newDescription,
                duration: newDuration,
                level: "Unspecified",
                icon: "üìö",
                category: "general",
                rating: 5.0,
                students: 0,
                curriculum: newCurriculumArray
            };
            courses.push(newCourse);
            success = true;
        }

        if (success) {
            try {
                // FIX: Reload courses after saving to ensure the global 'courses' array
                // and the UI reflects the new video URL immediately.
                await database.ref('edupro_courses').set(courses);
                await fetchUserData(true); // Re-fetch courses from DB

                renderCourseManagerPanel();
                renderCourseList(courses);
                loadPopularCourses(); // Refresh previews immediately
                alert(`Course "${newTitle}" ${isEdit ? 'updated' : 'added'} successfully and SAVED to database!`);
            } catch (error) {
                console.error("Firebase Save Error:", error);
                alert("Error saving course to database. Check console.");
            }
        }

        submitButton.disabled = false;
        submitButton.textContent = isEdit ? 'Save Changes' : 'Add Course';
    }
    // END: MODIFIED handleCourseSubmit

    function deleteCourse(courseId) {
        if (confirm(`Are you sure you want to delete course ID: ${courseId}? This cannot be undone.`)) {
            const index = courses.findIndex(c => c.id === courseId);
            if (index !== -1) {
                courses.splice(index, 1);
                // CRITICAL FIX: Persist deletion to Firebase
                database.ref('edupro_courses').set(courses).then(() => {
                    renderCourseManagerPanel();
                    renderCourseList(courses);
                    loadPopularCourses(); // Refresh previews immediately
                    alert('Course deleted and changes saved.');
                }).catch(error => {
                    console.error("Firebase Delete Error:", error);
                    alert("Error deleting course from database.");
                });
            }
        }
    }

    // NEW: Notification Sender (Updated to update globalNotification display)
    async function sendGlobalNotification(event) {
        event.preventDefault();
        const message = document.getElementById('notification-input').value;
        if (!message) return;

        const notificationData = {
            message: message,
            timestamp: Date.now()
        };

        try {
            // Set the message in the Firebase notifications node
            await database.ref('edupro_notifications').set(notificationData);
            // No need for fetchUserData here as we update locally and the rest of the UI will pick it up on login/navigation
            globalNotification = notificationData;
            alert('Notification broadcasted successfully!');
            document.getElementById('notification-input').value = '';
            document.getElementById('current-global-notification').textContent = message;

        } catch (error) {
            console.error('Error sending notification:', error);
            alert('Failed to send notification.');
        }
    }


    // --- ADMIN DASHBOARD UTILITIES ---

    async function toggleCourseStatus(userId, courseId, currentStatus) {
        if (!isAdminLoggedIn) {
            alert("Authorization failed. Please log in as Admin.");
            return;
        }

        const newStatus = currentStatus === 'false' ? true : false;

        try {
            await database.ref(`edupro_users/${userId}/enrolled_courses/${courseId}/status`).set(newStatus);

            // CRITICAL FIX: Reload all data after changing approval status
            await fetchUserData();
            renderAdminDashboard();

            alert(`Status for ${getCourseTitle(courseId)} for user ${users.find(u => u.uid === userId)?.name} updated to ${newStatus ? 'TRUE (ACTIVE)' : 'FALSE (PENDING)'}`);

        } catch (error) {
            console.error("Error toggling course status:", error);
            alert(`Failed to update status: ${error.message}`);
        }
    }

    // NEW: Function to check if user is online
    function isUserOnline(lastActiveTimestamp) {
        if (!lastActiveTimestamp) return false;
        const fiveMinutesAgo = Date.now() - (5 * 60 * 1000);
        return lastActiveTimestamp > fiveMinutesAgo;
    }

    // NEW: Function to calculate enrollment data for the chart (unchanged)
    function getCourseEnrollmentDistributionData() {
        const enrollmentMap = {};

        courses.forEach(course => {
            enrollmentMap[course.id] = { enrolled: 0, certified: 0, title: course.title };
        });

        let totalApprovals = 0;
        let totalRevokes = 0;
        let totalActiveUsers = 0;

        users.forEach(user => {
            const userEnrollments = user.enrolled_courses || {};

            Object.keys(userEnrollments).forEach(courseId => {
                if (enrollmentMap[courseId]) {
                    enrollmentMap[courseId].enrolled++;

                    if (userEnrollments[courseId].status === true) {
                        totalApprovals++;
                    } else {
                        totalRevokes++;
                    }
                }
            });

            // Active User Logic: Enabled AND has recent activity
            if (!user.disabled && isUserOnline(user.last_active)) {
                totalActiveUsers++;
            }
        });

        certificates.forEach(cert => {
            if (enrollmentMap[cert.courseId]) {
                enrollmentMap[cert.courseId].certified++;
            }
        });

        return {
            labels: Object.values(enrollmentMap).map(d => d.title),
            enrolledData: Object.values(enrollmentMap).map(d => d.enrolled),
            certifiedData: Object.values(enrollmentMap).map(d => d.certified),
            totalApprovals,
            totalRevokes,
            totalActiveUsers
        };
    }

    function renderAdminDashboard() {
        if (!isAdminLoggedIn) return;

        // --- METRICS UPDATE ---
        const distributionData = getCourseEnrollmentDistributionData();

        document.getElementById('metric-total-students').textContent = users.length;
        document.getElementById('metric-total-certificates').textContent = certificates.length;
        document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();

        document.getElementById('metric-total-active-users').textContent = distributionData.totalActiveUsers;
        document.getElementById('metric-approvals').textContent = distributionData.totalApprovals;
        document.getElementById('metric-revokes').textContent = distributionData.totalRevokes;

        // --- GRAPH UPDATE ---
        const ctx = document.getElementById('courseChart').getContext('2d');

        if (courseChartInstance) {
            courseChartInstance.destroy();
        }

        courseChartInstance = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: distributionData.labels,
                datasets: [{
                    label: 'Total Enrolled (Active or Pending)',
                    data: distributionData.enrolledData,
                    backgroundColor: 'rgba(59, 130, 246, 0.7)', // Blue
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 1
                }, {
                    label: 'Certified (Completed)',
                    data: distributionData.certifiedData,
                    backgroundColor: 'rgba(16, 185, 129, 0.7)', // Green
                    borderColor: 'rgba(16, 185, 129, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Number of Students'
                        }
                    }
                }
            }
        });

        // --- TABLE RENDER (Including filter setup) ---

        const courseFilter = document.getElementById('admin-course-filter');
        courseFilter.innerHTML = '<option value="all">All Courses</option>';
        courses.forEach(c => {
            const option = document.createElement('option');
            option.value = c.id;
            option.textContent = c.title;
            courseFilter.appendChild(option);
        });

        renderAdminStudentTable();

        document.getElementById('admin-student-search').oninput = renderAdminStudentTable;
        document.getElementById('admin-course-filter').onchange = renderAdminStudentTable;
        document.getElementById('admin-status-filter').onchange = renderAdminStudentTable;
        document.getElementById('admin-online-filter').onchange = renderAdminStudentTable;
    }

    function renderAdminStudentTable() {
        const tableBody = document.getElementById('admin-table-body');
        const noResults = document.getElementById('admin-no-results');
        const nextPageBtn = document.getElementById('next-page-btn');
        const prevPageBtn = document.getElementById('prev-page-btn');
        const paginationInfo = document.getElementById('pagination-info');

        tableBody.innerHTML = '';

        const searchTerm = document.getElementById('admin-student-search').value.toLowerCase();
        const filterCourseId = document.getElementById('admin-course-filter').value;
        const filterStatus = document.getElementById('admin-status-filter').value;
        const filterOnline = document.getElementById('admin-online-filter').value;

        // Flatten data: one row per user-course enrollment
        const allEnrollmentRecords = [];
        users.forEach(user => {
            const userEnrollments = user.enrolled_courses || {};
            Object.keys(userEnrollments).forEach(courseId => {
                allEnrollmentRecords.push({
                    userId: user.uid,
                    userName: user.name,
                    userEmail: user.email,
                    userPhone: user.phone || '',
                    lastActive: user.last_active,
                    joined: user.joined,
                    courseId: courseId,
                    courseTitle: getCourseTitle(courseId),
                    status: userEnrollments[courseId].status // boolean true/false
                });
            });
        });

        const filteredRecords = allEnrollmentRecords.filter(record => {
            // 1. Search (Name, Email, Phone)
            if (searchTerm && !record.userName.toLowerCase().includes(searchTerm) && !record.userEmail.toLowerCase().includes(searchTerm) && !record.userPhone.includes(searchTerm)) {
                return false;
            }
            // 2. Course Filter
            if (filterCourseId !== 'all' && record.courseId !== filterCourseId) {
                return false;
            }
            // 3. Enrollment Status Filter
            if (filterStatus === 'true' && record.status !== true) {
                return false;
            }
            if (filterStatus === 'false' && record.status !== false) {
                return false;
            }
            // 4. Online Status Filter
            const isOnline = isUserOnline(record.lastActive);
            if (filterOnline === 'online' && !isOnline) {
                return false;
            }
            if (filterOnline === 'offline' && isOnline) {
                return false;
            }

            return true;
        });

        // --- PRIORITY & SORTING (Pending FIFO first, sorted by join date) ---

        // 1. Separate pending (false) and active (true) records
        const pendingRecords = filteredRecords.filter(r => r.status === false);
        const activeRecords = filteredRecords.filter(r => r.status === true);

        // 2. FIFO Sorting: Sort by joined date (oldest first - ascending order)
        // Use user.joined which is ISO date string (easier to sort)
        pendingRecords.sort((a, b) => new Date(a.joined) - new Date(b.joined));
        activeRecords.sort((a, b) => new Date(a.joined) - new Date(b.joined));

        // 3. Combine: Pending first (highest priority), then Active
        const finalSortedRecords = pendingRecords.concat(activeRecords);
        const totalRecords = finalSortedRecords.length;

        // --- PAGINATION ---
        const startIndex = (currentPage - 1) * RECORDS_PER_PAGE;
        const endIndex = Math.min(startIndex + RECORDS_PER_PAGE, totalRecords);
        const recordsToDisplay = finalSortedRecords.slice(startIndex, endIndex);

        // Update pagination UI
        paginationInfo.textContent = `Displaying ${totalRecords > 0 ? startIndex + 1 : 0}-${endIndex} of ${totalRecords} records`;
        nextPageBtn.style.display = endIndex < totalRecords ? 'block' : 'none';
        prevPageBtn.style.display = currentPage > 1 ? 'block' : 'none';


        if (recordsToDisplay.length === 0 && totalRecords > 0) {
            // Should not happen unless filters are too strict or pagination logic error, reset page
            currentPage = 1;
            renderAdminStudentTable();
            return;
        } else if (recordsToDisplay.length === 0) {
            noResults.style.display = 'block';
            nextPageBtn.style.display = 'none';
            prevPageBtn.style.display = 'none';
            currentPage = 1;
        } else {
            noResults.style.display = 'none';
            recordsToDisplay.forEach(record => {
                const statusText = record.status ? 'ACTIVE (TRUE)' : 'PENDING (FALSE)';
                const statusClass = record.status ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800';

                const isOnline = isUserOnline(record.lastActive);
                const onlineStatusTag = isOnline
                    ? `<span class="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">Online</span>`
                    : `<span class="ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">Offline</span>`;

                let actionButton;

                if (!record.status) {
                    actionButton = `<button onclick="toggleCourseStatus('${record.userId}', '${record.courseId}', 'false')"
                                             class="bg-blue-600 text-white px-4 py-2 rounded-lg text-xs hover:bg-blue-700 transition-colors">
                                             APPROVE
                                           </button>`;
                } else {
                    actionButton = `<button onclick="toggleCourseStatus('${record.userId}', '${record.courseId}', 'true')"
                                             class="bg-gray-400 text-white px-4 py-2 rounded-lg text-xs hover:bg-gray-500 transition-colors">
                                             Revoke
                                           </button>`;
                }

                const row = `
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${record.userName} ${onlineStatusTag}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${record.userEmail}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-indigo-600">${record.courseTitle}</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm">
                                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${statusClass}">
                                    ${statusText}
                                </span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm flex space-x-2">
                                ${actionButton}
                                <button onclick="showAdminUserDetails('${record.userId}')"
                                             class="bg-purple-600 text-white px-4 py-2 rounded-lg text-xs hover:bg-purple-700 transition-colors">
                                             Profile
                                </button>
                            </td>
                        </tr>
                    `;
                tableBody.innerHTML += row;
            });
        }
    }


    // **********************************************
    // ******* UPDATED: ADMIN MODAL FUNCTIONS *******
    // **********************************************

    async function showAdminUserDetails(userId) {
        if (!isAdminLoggedIn) return;
        const modal = document.getElementById('admin-user-details-modal');
        const user = users.find(u => u.uid === userId);

        if (!user) {
            alert("User data not found.");
            return;
        }

        modal.style.display = 'flex';
        modal.setAttribute('data-user-id', userId);

        // Fetch user-specific metrics
        const userCertificates = certificates.filter(c => c.userId === userId);
        const enrolledCourses = user.enrolled_courses || {};
        const enrolledCourseIds = Object.keys(enrolledCourses);
        const enrolledCount = enrolledCourseIds.length;
        const completedCount = userCertificates.length;


        // 1. Update User Info (Enhanced Styling)
        document.getElementById('modal-user-name').textContent = user.name;
        const infoContainer = document.getElementById('modal-user-info');

        const disableBtn = document.getElementById('disable-user-btn');
        const currentDisabledStatus = user.disabled || false;
        disableBtn.textContent = currentDisabledStatus ? '‚úÖ ENABLE User' : 'üö´ DISABLE User';

        disableBtn.className = `px-4 py-2 rounded-lg text-sm transition-colors flex-1 shadow-md font-semibold ${currentDisabledStatus
            ? 'bg-green-600 hover:bg-green-700 text-white'
            : 'bg-yellow-500 hover:bg-yellow-600 text-gray-900'
            }`;

        // Helper function for formatted row
        const DetailRow = (label, value, colorClass = 'text-gray-900', isMonospace = false) => `
                <div class="detail-row">
                    <span class="text-sm font-medium text-gray-500">${label}:</span>
                    <span class="text-sm font-semibold ${colorClass} ${isMonospace ? 'font-mono text-xs' : ''} break-all">${value}</span>
                </div>
            `;


        infoContainer.innerHTML = `
                ${DetailRow('UID', user.uid, 'text-indigo-700', true)}
                ${DetailRow('Email', user.email)}
                ${DetailRow('Phone', user.phone || 'N/A')}
                ${DetailRow('Joined Date', user.joined)}
                ${DetailRow('Last Active', `${new Date(user.last_active).toLocaleString()} (${isUserOnline(user.last_active) ? 'Online' : 'Offline'})`)}
                ${DetailRow('Enrolled / Certified', `${enrolledCount} / ${completedCount}`, 'text-indigo-600')}
                <div class="p-2 mt-3 rounded-lg text-center font-extrabold ${currentDisabledStatus ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}">
                    ACCOUNT STATUS: ${currentDisabledStatus ? 'DISABLED (Locked)' : 'ENABLED (Active)'}
                </div>
            `;

        // 2. Update Enrolled Courses (Detailed List)
        const courseListContainer = document.getElementById('modal-course-list');
        courseListContainer.innerHTML = '';

        document.getElementById('modal-enrolled-count').textContent = enrolledCount;

        if (enrolledCourseIds.length === 0) {
            courseListContainer.innerHTML = '<p class="text-gray-500 p-4 text-center bg-gray-100 rounded-lg">No enrollments found for this user.</p>';
        } else {
            enrolledCourseIds.forEach(courseId => {
                const course = courses.find(c => c.id === courseId);
                const enrollment = enrolledCourses[courseId];

                if (course) {
                    const isEnrolled = enrollment.status === true;
                    const statusColor = isEnrolled ? 'bg-green-500 text-white' : 'bg-orange-500 text-white';
                    const statusText = isEnrolled ? 'Active' : 'Pending';
                    const progress = Math.round(((enrollment.day || 1) / course.curriculum.length) * 100);
                    const isCertified = userCertificates.some(c => c.courseId === courseId);

                    // Action button for this specific enrollment
                    const enrollmentActionButton = isEnrolled
                        ? `<button onclick="toggleCourseStatus('${userId}', '${courseId}', 'true'); showAdminUserDetails('${userId}')" class="bg-gray-400 text-white px-3 py-1 text-xs rounded-lg hover:bg-gray-500 transition-colors shadow-sm font-medium">Revoke</button>`
                        : `<button onclick="toggleCourseStatus('${userId}', '${courseId}', 'false'); showAdminUserDetails('${userId}')" class="bg-blue-600 text-white px-3 py-1 text-xs rounded-lg hover:bg-blue-700 transition-colors shadow-sm font-medium">Approve</button>`;

                    const certificateButton = isCertified
                        ? `<span class="bg-yellow-500 text-gray-900 px-3 py-1 text-xs font-bold rounded-lg ml-2 shadow-sm">Certified üèÜ</span>`
                        : '';

                    courseListContainer.innerHTML += `
                            <div class="course-item-admin border border-indigo-100 p-4 rounded-xl bg-white shadow-sm">
                                <div class="flex justify-between items-start mb-2">
                                    <h4 class="font-bold text-indigo-700">${course.icon} ${course.title}</h4>
                                    <span class="px-3 py-1 text-xs font-bold rounded-full ${statusColor}">${statusText}</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="progress-bar bg-indigo-500 h-2 rounded-full" style="width: ${progress}%"></div>
                                </div>
                                <div class="flex justify-between items-center text-xs text-gray-600 mt-2 pt-2 border-t border-gray-100">
                                    <span class="font-medium">Day ${enrollment.day || 1} of ${course.curriculum.length} (${progress}%)</span>
                                    <div class="flex items-center space-x-2">
                                        ${certificateButton}
                                        ${enrollmentActionButton}
                                    </div>
                                </div>
                            </div>
                        `;
                }
            });
        }
    }

    function closeAdminUserDetails() {
        document.getElementById('admin-user-details-modal').style.display = 'none';
        document.getElementById('admin-user-details-modal').removeAttribute('data-user-id');
    }

    // **********************************************
    // ******* END UPDATED: ADMIN MODAL FUNCTIONS *******
    // **********************************************


    // Global initialization call
    initializeUI();
</script>


<script>
    // Add helper to show/hide loader
    function showGlobalLoader() {
        const l = document.getElementById('global-loader');
        if (l) l.style.display = 'flex';
    }
    function hideGlobalLoader() {
        const l = document.getElementById('global-loader');
        if (l) l.style.display = 'none';
    }

    // Wrap existing handleLogin and handleRegister if present
    function wrapAuthFunction(name) {
        try {
            const orig = window[name];
            if (typeof orig === 'function') {
                window['__orig__' + name] = orig;
                window[name] = async function (e) {
                    try {
                        showGlobalLoader();
                        const p = orig.call(this, e);
                        // if returns a promise, await it
                        if (p && typeof p.then === 'function') await p;
                    } catch (err) {
                        console.error(err);
                        throw err;
                    } finally {
                        // hide loader after small delay to allow UX
                        setTimeout(hideGlobalLoader, 600);
                    }
                };
            }
        } catch (err) {
            console.warn('Could not wrap', name, err);
        }
    }

    // Attempt to wrap after load
    window.addEventListener('load', function () {
        wrapAuthFunction('handleLogin');
        wrapAuthFunction('handleRegister');
        wrapAuthFunction('handleAdminLogin');
    });

    // Mobile menu open/close
    function openMobileMenu() {
        document.getElementById('mobile-slide-menu').classList.remove('translate-x-full');
        document.getElementById('mobile-slide-menu').classList.add('translate-x-0');
        document.body.style.overflow = 'hidden';
    }
    function closeMobileMenu() {
        document.getElementById('mobile-slide-menu').classList.remove('translate-x-0');
        document.getElementById('mobile-slide-menu').classList.add('translate-x-full');
        document.body.style.overflow = '';
    }

    document.addEventListener('click', function (e) {
        if (e.target && e.target.id === 'mobile-menu-btn') openMobileMenu();
        if (e.target && e.target.id === 'mobile-close-btn') closeMobileMenu();
        // close when clicking backdrop inside menu area (but not when interacting inside)
    });

    // Helper to show Contact section (used by mobile menu)
    function showContact() {
        // scroll to contact section or open it
        const el = document.getElementById('contact-section');
        if (el) {
            el.scrollIntoView({ behavior: 'smooth' });
        } else {
            alert('Contact section not found.');
        }
    }

    // Slider: populate with 10 sample slides if none exist
    (function initSlider() {
        const track = document.getElementById('slider-track');
        if (!track) return;
        // create 10 slides
        for (let i = 1; i <= 10; i++) {
            const slide = document.createElement('div');
            slide.className = 'min-w-full flex items-center gap-6 p-8';
            slide.innerHTML = `
          <div class="w-1/2 pr-6">
            <h3 class="text-2xl font-bold mb-3">Student Achievement #${i}</h3>
            <p class="text-gray-600 mb-4">Completed the <strong>Full Stack Web Dev</strong> course with excellence. Scored top 5% in assessments, completed project: Responsive E-commerce site.</p>
            <ul class="text-sm text-gray-700 space-y-1">
              <li>Certificate ID: C-${1000 + i}</li>
              <li>Grade: Distinction</li>
              <li>Completion Date: ${new Date().toLocaleDateString()}</li>
            </ul>
          </div>
          <div class="w-1/2 flex justify-center">
            <div class="w-48 h-48 rounded-xl bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white text-3xl font-extrabold">
              S${i}
            </div>
          </div>
        `;
            track.appendChild(slide);
        }

        // slider controls
        let index = 0;
        const slides = track.children;
        const total = slides.length;
        function showIndex(i) {
            index = (i + total) % total;
            const offset = -index * 100;
            track.style.transform = 'translateX(' + offset + '%)';
        }
        document.getElementById('slide-next').addEventListener('click', () => showIndex(index + 1));
        document.getElementById('slide-prev').addEventListener('click', () => showIndex(index - 1));
        // autoplay
        setInterval(() => showIndex(index + 1), 5500);
    })();

    // Certificate enhancement: if a downloadCertificate function exists, wrap it to ensure template includes duration & signature
    ;

    // üîí AUTO-PAUSE ALL VIDEOS ON PAGE NAVIGATION
    function pauseAllVideos() {
        // Pause <video> elements
        document.querySelectorAll("video").forEach(v => {
            v.pause?.();
        });

        // Reset YouTube iframes by reloading their src (acts like pause)
        document.querySelectorAll("iframe[src*='youtube.com']").forEach(iframe => {
            iframe.contentWindow?.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
        });
    }

    // üß© Hook pauseAllVideos() to all navigation-like actions
    const navigationFunctions = [
        'showCourseList', 'showProfile', 'showDashboard',
        'showWelcomeScreen', 'showCertificates', 'showAdminDashboard',
        'showAdminLogin', 'showLogin', 'showRegister', 'showMyAccount', 'showCourseManagerPanel'
    ];

    navigationFunctions.forEach(fnName => {
        const originalFn = window[fnName];
        if (typeof originalFn === "function") {
            window[fnName] = function (...args) {
                pauseAllVideos(); // ‚úÖ Pause videos before switching
                return originalFn.apply(this, args);
            };
        }
    });


    // Export currently rendered certificate (HTML -> PNG/JPG)
    async function downloadCurrentCertificate(format = 'png') {
        // Check for html2canvas availability
        if (typeof html2canvas === 'undefined') {
            console.error('html2canvas library is not loaded.');
            alert('Failed to export image. Library not found.');
            return;
        }

        const certEl = document.getElementById('certificate-content') || document.getElementById('certificate-root') || document.querySelector('.certificate');
        if (!certEl) {
            alert('No certificate found to download.');
            return;
        }

        try {
            // Use the .certificate-border-wrapper to capture the entire border and content
            const wrapperEl = document.querySelector('.certificate-border-wrapper') || certEl;

            // HTML2CANVAS: Capture the element content as a canvas/image
            const canvas = await html2canvas(wrapperEl, {
                scale: 3, // Increased scale for high-quality export
                useCORS: true,
                allowTaint: true,
                backgroundColor: '#fcf9f8',
            });

            // 1. Determine Mime Type and Filename
            let mimeType = 'image/png';
            if (format.toLowerCase() === 'jpg' || format.toLowerCase() === 'jpeg') {
                mimeType = 'image/jpeg';
            }

            // 2. Get Data URL
            const imgDataUrl = canvas.toDataURL(mimeType);

            // 3. Filename generation
            const user = wrapperEl.getAttribute && (wrapperEl.getAttribute('data-user-name') || 'Student');
            const courseTitle = wrapperEl.getAttribute && (wrapperEl.getAttribute('data-course-title') || 'Course');
            const filename = `${user.replace(/\s+/g, '_')}_${courseTitle.replace(/\s+/g, '_')}_Certificate.${format}`;

            // 4. Trigger Download
            const a = document.createElement('a');
            a.href = imgDataUrl;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);

            alert(`Certificate Download Initiated as a ${format.toUpperCase()} file!`);

        } catch (err) {
            console.error('downloadCurrentCertificate error', err);
            alert('Failed to export image. See console for details.');
        }
    }
</script>

</body>

</html>
